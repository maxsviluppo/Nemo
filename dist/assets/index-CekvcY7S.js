(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mc={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function xA(){if(Mg)return Bs;Mg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Bs.Fragment=e,Bs.jsx=i,Bs.jsxs=i,Bs}var xg;function NA(){return xg||(xg=1,Mc.exports=xA()),Mc.exports}var I=NA(),xc={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function IA(){if(Ng)return me;Ng=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function D(b,X,ne){this.props=b,this.context=X,this.refs=x,this.updater=ne||_}D.prototype.isReactComponent={},D.prototype.setState=function(b,X){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,X,"setState")},D.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function H(){}H.prototype=D.prototype;function L(b,X,ne){this.props=b,this.context=X,this.refs=x,this.updater=ne||_}var K=L.prototype=new H;K.constructor=L,N(K,D.prototype),K.isPureReactComponent=!0;var Q=Array.isArray;function $(){}var k={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function q(b,X,ne){var le=ne.ref;return{$$typeof:t,type:b,key:X,ref:le!==void 0?le:null,props:ne}}function j(b,X){return q(b.type,X,b.props)}function ee(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function se(b){var X={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ne){return X[ne]})}var te=/\/+/g;function pe(b,X){return typeof b=="object"&&b!==null&&b.key!=null?se(""+b.key):X.toString(36)}function Ie(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then($,$):(b.status="pending",b.then(function(X){b.status==="pending"&&(b.status="fulfilled",b.value=X)},function(X){b.status==="pending"&&(b.status="rejected",b.reason=X)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function O(b,X,ne,le,ge){var Se=typeof b;(Se==="undefined"||Se==="boolean")&&(b=null);var we=!1;if(b===null)we=!0;else switch(Se){case"bigint":case"string":case"number":we=!0;break;case"object":switch(b.$$typeof){case t:case e:we=!0;break;case v:return we=b._init,O(we(b._payload),X,ne,le,ge)}}if(we)return ge=ge(b),we=le===""?"."+pe(b,0):le,Q(ge)?(ne="",we!=null&&(ne=we.replace(te,"$&/")+"/"),O(ge,X,ne,"",function(Ko){return Ko})):ge!=null&&(ee(ge)&&(ge=j(ge,ne+(ge.key==null||b&&b.key===ge.key?"":(""+ge.key).replace(te,"$&/")+"/")+we)),X.push(ge)),1;we=0;var pt=le===""?".":le+":";if(Q(b))for(var Je=0;Je<b.length;Je++)le=b[Je],Se=pt+pe(le,Je),we+=O(le,X,ne,Se,ge);else if(Je=C(b),typeof Je=="function")for(b=Je.call(b),Je=0;!(le=b.next()).done;)le=le.value,Se=pt+pe(le,Je++),we+=O(le,X,ne,Se,ge);else if(Se==="object"){if(typeof b.then=="function")return O(Ie(b),X,ne,le,ge);throw X=String(b),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(b,X,ne){if(b==null)return b;var le=[],ge=0;return O(b,le,"","",function(Se){return X.call(ne,Se,ge++)}),le}function ie(b){if(b._status===-1){var X=b._result;X=X(),X.then(function(ne){(b._status===0||b._status===-1)&&(b._status=1,b._result=ne)},function(ne){(b._status===0||b._status===-1)&&(b._status=2,b._result=ne)}),b._status===-1&&(b._status=0,b._result=X)}if(b._status===1)return b._result.default;throw b._result}var ve=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},de={map:Z,forEach:function(b,X,ne){Z(b,function(){X.apply(this,arguments)},ne)},count:function(b){var X=0;return Z(b,function(){X++}),X},toArray:function(b){return Z(b,function(X){return X})||[]},only:function(b){if(!ee(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return me.Activity=T,me.Children=de,me.Component=D,me.Fragment=i,me.Profiler=l,me.PureComponent=L,me.StrictMode=s,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,me.__COMPILER_RUNTIME={__proto__:null,c:function(b){return k.H.useMemoCache(b)}},me.cache=function(b){return function(){return b.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(b,X,ne){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var le=N({},b.props),ge=b.key;if(X!=null)for(Se in X.key!==void 0&&(ge=""+X.key),X)!W.call(X,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&X.ref===void 0||(le[Se]=X[Se]);var Se=arguments.length-2;if(Se===1)le.children=ne;else if(1<Se){for(var we=Array(Se),pt=0;pt<Se;pt++)we[pt]=arguments[pt+2];le.children=we}return q(b.type,ge,le)},me.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},me.createElement=function(b,X,ne){var le,ge={},Se=null;if(X!=null)for(le in X.key!==void 0&&(Se=""+X.key),X)W.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=X[le]);var we=arguments.length-2;if(we===1)ge.children=ne;else if(1<we){for(var pt=Array(we),Je=0;Je<we;Je++)pt[Je]=arguments[Je+2];ge.children=pt}if(b&&b.defaultProps)for(le in we=b.defaultProps,we)ge[le]===void 0&&(ge[le]=we[le]);return q(b,Se,ge)},me.createRef=function(){return{current:null}},me.forwardRef=function(b){return{$$typeof:h,render:b}},me.isValidElement=ee,me.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:ie}},me.memo=function(b,X){return{$$typeof:p,type:b,compare:X===void 0?null:X}},me.startTransition=function(b){var X=k.T,ne={};k.T=ne;try{var le=b(),ge=k.S;ge!==null&&ge(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then($,ve)}catch(Se){ve(Se)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),k.T=X}},me.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},me.use=function(b){return k.H.use(b)},me.useActionState=function(b,X,ne){return k.H.useActionState(b,X,ne)},me.useCallback=function(b,X){return k.H.useCallback(b,X)},me.useContext=function(b){return k.H.useContext(b)},me.useDebugValue=function(){},me.useDeferredValue=function(b,X){return k.H.useDeferredValue(b,X)},me.useEffect=function(b,X){return k.H.useEffect(b,X)},me.useEffectEvent=function(b){return k.H.useEffectEvent(b)},me.useId=function(){return k.H.useId()},me.useImperativeHandle=function(b,X,ne){return k.H.useImperativeHandle(b,X,ne)},me.useInsertionEffect=function(b,X){return k.H.useInsertionEffect(b,X)},me.useLayoutEffect=function(b,X){return k.H.useLayoutEffect(b,X)},me.useMemo=function(b,X){return k.H.useMemo(b,X)},me.useOptimistic=function(b,X){return k.H.useOptimistic(b,X)},me.useReducer=function(b,X,ne){return k.H.useReducer(b,X,ne)},me.useRef=function(b){return k.H.useRef(b)},me.useState=function(b){return k.H.useState(b)},me.useSyncExternalStore=function(b,X,ne){return k.H.useSyncExternalStore(b,X,ne)},me.useTransition=function(){return k.H.useTransition()},me.version="19.2.3",me}var Ig;function Vf(){return Ig||(Ig=1,xc.exports=IA()),xc.exports}var F=Vf();const DA=wv(F);var Nc={exports:{}},ks={},Ic={exports:{}},Dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function wA(){return Dg||(Dg=1,(function(t){function e(O,Z){var ie=O.length;O.push(Z);e:for(;0<ie;){var ve=ie-1>>>1,de=O[ve];if(0<l(de,Z))O[ve]=Z,O[ie]=de,ie=ve;else break e}}function i(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var Z=O[0],ie=O.pop();if(ie!==Z){O[0]=ie;e:for(var ve=0,de=O.length,b=de>>>1;ve<b;){var X=2*(ve+1)-1,ne=O[X],le=X+1,ge=O[le];if(0>l(ne,ie))le<de&&0>l(ge,ne)?(O[ve]=ge,O[le]=ie,ve=le):(O[ve]=ne,O[X]=ie,ve=X);else if(le<de&&0>l(ge,ie))O[ve]=ge,O[le]=ie,ve=le;else break e}}return Z}function l(O,Z){var ie=O.sortIndex-Z.sortIndex;return ie!==0?ie:O.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],p=[],v=1,T=null,S=3,C=!1,_=!1,N=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function K(O){for(var Z=i(p);Z!==null;){if(Z.callback===null)s(p);else if(Z.startTime<=O)s(p),Z.sortIndex=Z.expirationTime,e(g,Z);else break;Z=i(p)}}function Q(O){if(N=!1,K(O),!_)if(i(g)!==null)_=!0,$||($=!0,se());else{var Z=i(p);Z!==null&&Ie(Q,Z.startTime-O)}}var $=!1,k=-1,W=5,q=-1;function j(){return x?!0:!(t.unstable_now()-q<W)}function ee(){if(x=!1,$){var O=t.unstable_now();q=O;var Z=!0;try{e:{_=!1,N&&(N=!1,H(k),k=-1),C=!0;var ie=S;try{t:{for(K(O),T=i(g);T!==null&&!(T.expirationTime>O&&j());){var ve=T.callback;if(typeof ve=="function"){T.callback=null,S=T.priorityLevel;var de=ve(T.expirationTime<=O);if(O=t.unstable_now(),typeof de=="function"){T.callback=de,K(O),Z=!0;break t}T===i(g)&&s(g),K(O)}else s(g);T=i(g)}if(T!==null)Z=!0;else{var b=i(p);b!==null&&Ie(Q,b.startTime-O),Z=!1}}break e}finally{T=null,S=ie,C=!1}Z=void 0}}finally{Z?se():$=!1}}}var se;if(typeof L=="function")se=function(){L(ee)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,pe=te.port2;te.port1.onmessage=ee,se=function(){pe.postMessage(null)}}else se=function(){D(ee,0)};function Ie(O,Z){k=D(function(){O(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(O){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var ie=S;S=Z;try{return O()}finally{S=ie}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(O,Z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ie=S;S=O;try{return Z()}finally{S=ie}},t.unstable_scheduleCallback=function(O,Z,ie){var ve=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,O){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ie+de,O={id:v++,callback:Z,priorityLevel:O,startTime:ie,expirationTime:de,sortIndex:-1},ie>ve?(O.sortIndex=ie,e(p,O),i(g)===null&&O===i(p)&&(N?(H(k),k=-1):N=!0,Ie(Q,ie-ve))):(O.sortIndex=de,e(g,O),_||C||(_=!0,$||($=!0,se()))),O},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(O){var Z=S;return function(){var ie=S;S=Z;try{return O.apply(this,arguments)}finally{S=ie}}}})(Dc)),Dc}var wg;function bA(){return wg||(wg=1,Ic.exports=wA()),Ic.exports}var wc={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function UA(){if(bg)return ft;bg=1;var t=Vf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},ft.flushSync=function(g){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=p,s.p=v,s.d.f()}},ft.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},ft.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ft.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):v==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},ft.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},ft.requestFormReset=function(g){s.d.r(g)},ft.unstable_batchedUpdates=function(g,p){return g(p)},ft.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},ft.useFormStatus=function(){return c.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var Ug;function LA(){if(Ug)return wc.exports;Ug=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wc.exports=UA(),wc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function VA(){if(Lg)return ks;Lg=1;var t=bA(),e=Vf(),i=LA();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var o=n,a=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(a=o.return),n=o.return;while(n)}return o.tag===3?a:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function h(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(s(188))}function p(n){var o=n.alternate;if(!o){if(o=u(n),o===null)throw Error(s(188));return o!==n?null:n}for(var a=n,r=o;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(r=m.return,r!==null){a=r;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return g(m),n;if(y===r)return g(m),o;y=y.sibling}throw Error(s(188))}if(a.return!==r.return)a=m,r=y;else{for(var E=!1,A=m.child;A;){if(A===a){E=!0,a=m,r=y;break}if(A===r){E=!0,r=m,a=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===a){E=!0,a=y,r=m;break}if(A===r){E=!0,r=y,a=m;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==r)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:o}function v(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=v(n),o!==null)return o;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),L=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var te=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===te?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case D:return"Profiler";case x:return"StrictMode";case Q:return"Suspense";case $:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case L:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case K:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return o=n.displayName||null,o!==null?o:pe(n.type)||"Memo";case W:o=n._payload,n=n._init;try{return pe(n(o))}catch{}}return null}var Ie=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ve=[],de=-1;function b(n){return{current:n}}function X(n){0>de||(n.current=ve[de],ve[de]=null,de--)}function ne(n,o){de++,ve[de]=n.current,n.current=o}var le=b(null),ge=b(null),Se=b(null),we=b(null);function pt(n,o){switch(ne(Se,o),ne(ge,n),ne(le,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Qm(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Qm(o),n=Zm(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(le),ne(le,n)}function Je(){X(le),X(ge),X(Se)}function Ko(n){n.memoizedState!==null&&ne(we,n);var o=le.current,a=Zm(o,n.type);o!==a&&(ne(ge,n),ne(le,a))}function aa(n){ge.current===n&&(X(le),X(ge)),we.current===n&&(X(we),Ps._currentValue=ie)}var rr,Rd;function gi(n){if(rr===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);rr=o&&o[1]||"",Rd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rr+n+Rd}var ur=!1;function cr(n,o){if(!n||ur)return"";ur=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(o){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var G=B}Reflect.construct(n,[],J)}else{try{J.call()}catch(B){G=B}n.call(J.prototype)}}else{try{throw Error()}catch(B){G=B}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&G&&typeof B.stack=="string")return[B.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var M=E.split(`
`),P=A.split(`
`);for(m=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;m<P.length&&!P[m].includes("DetermineComponentFrameRoot");)m++;if(r===M.length||m===P.length)for(r=M.length-1,m=P.length-1;1<=r&&0<=m&&M[r]!==P[m];)m--;for(;1<=r&&0<=m;r--,m--)if(M[r]!==P[m]){if(r!==1||m!==1)do if(r--,m--,0>m||M[r]!==P[m]){var z=`
`+M[r].replace(" at new "," at ");return n.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",n.displayName)),z}while(1<=r&&0<=m);break}}}finally{ur=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?gi(a):""}function oE(n,o){switch(n.tag){case 26:case 27:case 5:return gi(n.type);case 16:return gi("Lazy");case 13:return n.child!==o&&o!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return cr(n.type,!1);case 11:return cr(n.type.render,!1);case 1:return cr(n.type,!0);case 31:return gi("Activity");default:return""}}function Md(n){try{var o="",a=null;do o+=oE(n,a),a=n,n=n.return;while(n);return o}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var fr=Object.prototype.hasOwnProperty,dr=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,sE=t.unstable_shouldYield,aE=t.unstable_requestPaint,Nt=t.unstable_now,lE=t.unstable_getCurrentPriorityLevel,xd=t.unstable_ImmediatePriority,Nd=t.unstable_UserBlockingPriority,la=t.unstable_NormalPriority,rE=t.unstable_LowPriority,Id=t.unstable_IdlePriority,uE=t.log,cE=t.unstable_setDisableYieldValue,Xo=null,It=null;function Bn(n){if(typeof uE=="function"&&cE(n),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Xo,n)}catch{}}var Dt=Math.clz32?Math.clz32:hE,fE=Math.log,dE=Math.LN2;function hE(n){return n>>>=0,n===0?32:31-(fE(n)/dE|0)|0}var ra=256,ua=262144,ca=4194304;function yi(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fa(n,o,a){var r=n.pendingLanes;if(r===0)return 0;var m=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=r&134217727;return A!==0?(r=A&~y,r!==0?m=yi(r):(E&=A,E!==0?m=yi(E):a||(a=A&~n,a!==0&&(m=yi(a))))):(A=r&~y,A!==0?m=yi(A):E!==0?m=yi(E):a||(a=r&~n,a!==0&&(m=yi(a)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,a=o&-o,y>=a||y===32&&(a&4194048)!==0)?o:m}function Qo(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function pE(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dd(){var n=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),n}function pr(n){for(var o=[],a=0;31>a;a++)o.push(n);return o}function Zo(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function mE(n,o,a,r,m,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,M=n.expirationTimes,P=n.hiddenUpdates;for(a=E&~a;0<a;){var z=31-Dt(a),J=1<<z;A[z]=0,M[z]=-1;var G=P[z];if(G!==null)for(P[z]=null,z=0;z<G.length;z++){var B=G[z];B!==null&&(B.lane&=-536870913)}a&=~J}r!==0&&wd(n,r,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~o))}function wd(n,o,a){n.pendingLanes|=o,n.suspendedLanes&=~o;var r=31-Dt(o);n.entangledLanes|=o,n.entanglements[r]=n.entanglements[r]|1073741824|a&261930}function bd(n,o){var a=n.entangledLanes|=o;for(n=n.entanglements;a;){var r=31-Dt(a),m=1<<r;m&o|n[r]&o&&(n[r]|=o),a&=~m}}function Ud(n,o){var a=o&-o;return a=(a&42)!==0?1:mr(a),(a&(n.suspendedLanes|o))!==0?0:a}function mr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function gr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ld(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:Tg(n.type))}function Vd(n,o){var a=Z.p;try{return Z.p=n,o()}finally{Z.p=a}}var kn=Math.random().toString(36).slice(2),st="__reactFiber$"+kn,St="__reactProps$"+kn,zi="__reactContainer$"+kn,yr="__reactEvents$"+kn,gE="__reactListeners$"+kn,yE="__reactHandles$"+kn,Pd="__reactResources$"+kn,Wo="__reactMarker$"+kn;function vr(n){delete n[st],delete n[St],delete n[yr],delete n[gE],delete n[yE]}function Fi(n){var o=n[st];if(o)return o;for(var a=n.parentNode;a;){if(o=a[zi]||a[st]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(n=ig(n);n!==null;){if(a=n[st])return a;n=ig(n)}return o}n=a,a=n.parentNode}return null}function Yi(n){if(n=n[st]||n[zi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function $o(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function Ji(n){var o=n[Pd];return o||(o=n[Pd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nt(n){n[Wo]=!0}var Gd=new Set,Hd={};function vi(n,o){Ki(n,o),Ki(n+"Capture",o)}function Ki(n,o){for(Hd[n]=o,n=0;n<o.length;n++)Gd.add(o[n])}var vE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Bd={};function TE(n){return fr.call(Bd,n)?!0:fr.call(Od,n)?!1:vE.test(n)?Bd[n]=!0:(Od[n]=!0,!1)}function da(n,o,a){if(TE(o))if(a===null)n.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var r=o.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+a)}}function ha(n,o,a){if(a===null)n.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+a)}}function yn(n,o,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(o,a,""+r)}}function Ht(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kd(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function SE(n,o,a){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,y=r.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(n,o,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Tr(n){if(!n._valueTracker){var o=kd(n)?"checked":"value";n._valueTracker=SE(n,o,""+n[o])}}function qd(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var a=o.getValue(),r="";return n&&(r=kd(n)?n.checked?"true":"false":n.value),n=r,n!==a?(o.setValue(n),!0):!1}function pa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var EE=/[\n"\\]/g;function Ot(n){return n.replace(EE,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Sr(n,o,a,r,m,y,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),o!=null?E==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Ht(o)):n.value!==""+Ht(o)&&(n.value=""+Ht(o)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),o!=null?Er(n,E,Ht(o)):a!=null?Er(n,E,Ht(a)):r!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Ht(A):n.removeAttribute("name")}function zd(n,o,a,r,m,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),o!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){Tr(n);return}a=a!=null?""+Ht(a):"",o=o!=null?""+Ht(o):a,A||o===n.value||(n.value=o),n.defaultValue=o}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=A?n.checked:!!r,n.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Tr(n)}function Er(n,o,a){o==="number"&&pa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xi(n,o,a,r){if(n=n.options,o){o={};for(var m=0;m<a.length;m++)o["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=o.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&r&&(n[a].defaultSelected=!0)}else{for(a=""+Ht(a),o=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,r&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function Fd(n,o,a){if(o!=null&&(o=""+Ht(o),o!==n.value&&(n.value=o),a==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=a!=null?""+Ht(a):""}function Yd(n,o,a,r){if(o==null){if(r!=null){if(a!=null)throw Error(s(92));if(Ie(r)){if(1<r.length)throw Error(s(93));r=r[0]}a=r}a==null&&(a=""),o=a}a=Ht(o),n.defaultValue=a,r=n.textContent,r===a&&r!==""&&r!==null&&(n.value=r),Tr(n)}function Qi(n,o){if(o){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=o;return}}n.textContent=o}var CE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(n,o,a){var r=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":r?n.setProperty(o,a):typeof a!="number"||a===0||CE.has(o)?o==="float"?n.cssFloat=a:n[o]=(""+a).trim():n[o]=a+"px"}function Kd(n,o,a){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||o!=null&&o.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var m in o)r=o[m],o.hasOwnProperty(m)&&a[m]!==r&&Jd(n,m,r)}else for(var y in o)o.hasOwnProperty(y)&&Jd(n,y,o[y])}function Cr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_E=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(n){return _E.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function vn(){}var Ar=null;function _r(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zi=null,Wi=null;function Xd(n){var o=Yi(n);if(o&&(n=o.stateNode)){var a=n[St]||null;e:switch(n=o.stateNode,o.type){case"input":if(Sr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var r=a[o];if(r!==n&&r.form===n.form){var m=r[St]||null;if(!m)throw Error(s(90));Sr(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<a.length;o++)r=a[o],r.form===n.form&&qd(r)}break e;case"textarea":Fd(n,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&Xi(n,!!a.multiple,o,!1)}}}var Rr=!1;function Qd(n,o,a){if(Rr)return n(o,a);Rr=!0;try{var r=n(o);return r}finally{if(Rr=!1,(Zi!==null||Wi!==null)&&(nl(),Zi&&(o=Zi,n=Wi,Wi=Zi=null,Xd(o),n)))for(o=0;o<n.length;o++)Xd(n[o])}}function jo(n,o){var a=n.stateNode;if(a===null)return null;var r=a[St]||null;if(r===null)return null;a=r[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,o,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Tn)try{var es={};Object.defineProperty(es,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Mr=!1}var qn=null,xr=null,ga=null;function Zd(){if(ga)return ga;var n,o=xr,a=o.length,r,m="value"in qn?qn.value:qn.textContent,y=m.length;for(n=0;n<a&&o[n]===m[n];n++);var E=a-n;for(r=1;r<=E&&o[a-r]===m[y-r];r++);return ga=m.slice(n,1<r?1-r:void 0)}function ya(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function va(){return!0}function Wd(){return!1}function Et(n){function o(a,r,m,y,E){this._reactName=a,this._targetInst=m,this.type=r,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?va:Wd,this.isPropagationStopped=Wd,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),o}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Et(Ti),ts=T({},Ti,{view:0,detail:0}),RE=Et(ts),Nr,Ir,ns,Sa=T({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ns&&(ns&&n.type==="mousemove"?(Nr=n.screenX-ns.screenX,Ir=n.screenY-ns.screenY):Ir=Nr=0,ns=n),Nr)},movementY:function(n){return"movementY"in n?n.movementY:Ir}}),$d=Et(Sa),ME=T({},Sa,{dataTransfer:0}),xE=Et(ME),NE=T({},ts,{relatedTarget:0}),Dr=Et(NE),IE=T({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),DE=Et(IE),wE=T({},Ti,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bE=Et(wE),UE=T({},Ti,{data:0}),jd=Et(UE),LE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GE(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=PE[n])?!!o[n]:!1}function wr(){return GE}var HE=T({},ts,{key:function(n){if(n.key){var o=LE[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=ya(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(n){return n.type==="keypress"?ya(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ya(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),OE=Et(HE),BE=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=Et(BE),kE=T({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),qE=Et(kE),zE=T({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),FE=Et(zE),YE=T({},Sa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JE=Et(YE),KE=T({},Ti,{newState:0,oldState:0}),XE=Et(KE),QE=[9,13,27,32],br=Tn&&"CompositionEvent"in window,is=null;Tn&&"documentMode"in document&&(is=document.documentMode);var ZE=Tn&&"TextEvent"in window&&!is,th=Tn&&(!br||is&&8<is&&11>=is),nh=" ",ih=!1;function oh(n,o){switch(n){case"keyup":return QE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $i=!1;function WE(n,o){switch(n){case"compositionend":return sh(o);case"keypress":return o.which!==32?null:(ih=!0,nh);case"textInput":return n=o.data,n===nh&&ih?null:n;default:return null}}function $E(n,o){if($i)return n==="compositionend"||!br&&oh(n,o)?(n=Zd(),ga=xr=qn=null,$i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return th&&o.locale!=="ko"?null:o.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!jE[n.type]:o==="textarea"}function lh(n,o,a,r){Zi?Wi?Wi.push(r):Wi=[r]:Zi=r,o=ul(o,"onChange"),0<o.length&&(a=new Ta("onChange","change",null,a,r),n.push({event:a,listeners:o}))}var os=null,ss=null;function eC(n){zm(n,0)}function Ea(n){var o=$o(n);if(qd(o))return n}function rh(n,o){if(n==="change")return o}var uh=!1;if(Tn){var Ur;if(Tn){var Lr="oninput"in document;if(!Lr){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),Lr=typeof ch.oninput=="function"}Ur=Lr}else Ur=!1;uh=Ur&&(!document.documentMode||9<document.documentMode)}function fh(){os&&(os.detachEvent("onpropertychange",dh),ss=os=null)}function dh(n){if(n.propertyName==="value"&&Ea(ss)){var o=[];lh(o,ss,n,_r(n)),Qd(eC,o)}}function tC(n,o,a){n==="focusin"?(fh(),os=o,ss=a,os.attachEvent("onpropertychange",dh)):n==="focusout"&&fh()}function nC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ea(ss)}function iC(n,o){if(n==="click")return Ea(o)}function oC(n,o){if(n==="input"||n==="change")return Ea(o)}function sC(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var wt=typeof Object.is=="function"?Object.is:sC;function as(n,o){if(wt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var a=Object.keys(n),r=Object.keys(o);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var m=a[r];if(!fr.call(o,m)||!wt(n[m],o[m]))return!1}return!0}function hh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ph(n,o){var a=hh(n);n=0;for(var r;a;){if(a.nodeType===3){if(r=n+a.textContent.length,n<=o&&r>=o)return{node:a,offset:o-n};n=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hh(a)}}function mh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?mh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function gh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=pa(n.document);o instanceof n.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)n=o.contentWindow;else break;o=pa(n.document)}return o}function Vr(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var aC=Tn&&"documentMode"in document&&11>=document.documentMode,ji=null,Pr=null,ls=null,Gr=!1;function yh(n,o,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gr||ji==null||ji!==pa(r)||(r=ji,"selectionStart"in r&&Vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ls&&as(ls,r)||(ls=r,r=ul(Pr,"onSelect"),0<r.length&&(o=new Ta("onSelect","select",null,o,a),n.push({event:o,listeners:r}),o.target=ji)))}function Si(n,o){var a={};return a[n.toLowerCase()]=o.toLowerCase(),a["Webkit"+n]="webkit"+o,a["Moz"+n]="moz"+o,a}var eo={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},Hr={},vh={};Tn&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Ei(n){if(Hr[n])return Hr[n];if(!eo[n])return n;var o=eo[n],a;for(a in o)if(o.hasOwnProperty(a)&&a in vh)return Hr[n]=o[a];return n}var Th=Ei("animationend"),Sh=Ei("animationiteration"),Eh=Ei("animationstart"),lC=Ei("transitionrun"),rC=Ei("transitionstart"),uC=Ei("transitioncancel"),Ch=Ei("transitionend"),Ah=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function en(n,o){Ah.set(n,o),vi(o,[n])}var Ca=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Bt=[],to=0,Br=0;function Aa(){for(var n=to,o=Br=to=0;o<n;){var a=Bt[o];Bt[o++]=null;var r=Bt[o];Bt[o++]=null;var m=Bt[o];Bt[o++]=null;var y=Bt[o];if(Bt[o++]=null,r!==null&&m!==null){var E=r.pending;E===null?m.next=m:(m.next=E.next,E.next=m),r.pending=m}y!==0&&_h(a,m,y)}}function _a(n,o,a,r){Bt[to++]=n,Bt[to++]=o,Bt[to++]=a,Bt[to++]=r,Br|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function kr(n,o,a,r){return _a(n,o,a,r),Ra(n)}function Ci(n,o){return _a(n,null,null,o),Ra(n)}function _h(n,o,a){n.lanes|=a;var r=n.alternate;r!==null&&(r.lanes|=a);for(var m=!1,y=n.return;y!==null;)y.childLanes|=a,r=y.alternate,r!==null&&(r.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&o!==null&&(m=31-Dt(a),n=y.hiddenUpdates,r=n[m],r===null?n[m]=[o]:r.push(o),o.lane=a|536870912),y):null}function Ra(n){if(50<Is)throw Is=0,Zu=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var no={};function cC(n,o,a,r){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(n,o,a,r){return new cC(n,o,a,r)}function qr(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sn(n,o){var a=n.alternate;return a===null?(a=bt(n.tag,o,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=o,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,o=n.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Rh(n,o){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,o=a.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Ma(n,o,a,r,m,y){var E=0;if(r=n,typeof n=="function")qr(n)&&(E=1);else if(typeof n=="string")E=mA(n,a,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=bt(31,a,o,m),n.elementType=q,n.lanes=y,n;case N:return Ai(a.children,m,y,o);case x:E=8,m|=24;break;case D:return n=bt(12,a,o,m|2),n.elementType=D,n.lanes=y,n;case Q:return n=bt(13,a,o,m),n.elementType=Q,n.lanes=y,n;case $:return n=bt(19,a,o,m),n.elementType=$,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:E=10;break e;case H:E=9;break e;case K:E=11;break e;case k:E=14;break e;case W:E=16,r=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),r=null}return o=bt(E,a,o,m),o.elementType=n,o.type=r,o.lanes=y,o}function Ai(n,o,a,r){return n=bt(7,n,r,o),n.lanes=a,n}function zr(n,o,a){return n=bt(6,n,null,o),n.lanes=a,n}function Mh(n){var o=bt(18,null,null,0);return o.stateNode=n,o}function Fr(n,o,a){return o=bt(4,n.children!==null?n.children:[],n.key,o),o.lanes=a,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var xh=new WeakMap;function kt(n,o){if(typeof n=="object"&&n!==null){var a=xh.get(n);return a!==void 0?a:(o={value:n,source:o,stack:Md(o)},xh.set(n,o),o)}return{value:n,source:o,stack:Md(o)}}var io=[],oo=0,xa=null,rs=0,qt=[],zt=0,zn=null,cn=1,fn="";function En(n,o){io[oo++]=rs,io[oo++]=xa,xa=n,rs=o}function Nh(n,o,a){qt[zt++]=cn,qt[zt++]=fn,qt[zt++]=zn,zn=n;var r=cn;n=fn;var m=32-Dt(r)-1;r&=~(1<<m),a+=1;var y=32-Dt(o)+m;if(30<y){var E=m-m%5;y=(r&(1<<E)-1).toString(32),r>>=E,m-=E,cn=1<<32-Dt(o)+m|a<<m|r,fn=y+n}else cn=1<<y|a<<m|r,fn=n}function Yr(n){n.return!==null&&(En(n,1),Nh(n,1,0))}function Jr(n){for(;n===xa;)xa=io[--oo],io[oo]=null,rs=io[--oo],io[oo]=null;for(;n===zn;)zn=qt[--zt],qt[zt]=null,fn=qt[--zt],qt[zt]=null,cn=qt[--zt],qt[zt]=null}function Ih(n,o){qt[zt++]=cn,qt[zt++]=fn,qt[zt++]=zn,cn=o.id,fn=o.overflow,zn=n}var at=null,He=null,Re=!1,Fn=null,Ft=!1,Kr=Error(s(519));function Yn(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw us(kt(o,n)),Kr}function Dh(n){var o=n.stateNode,a=n.type,r=n.memoizedProps;switch(o[st]=n,o[St]=r,a){case"dialog":Ce("cancel",o),Ce("close",o);break;case"iframe":case"object":case"embed":Ce("load",o);break;case"video":case"audio":for(a=0;a<ws.length;a++)Ce(ws[a],o);break;case"source":Ce("error",o);break;case"img":case"image":case"link":Ce("error",o),Ce("load",o);break;case"details":Ce("toggle",o);break;case"input":Ce("invalid",o),zd(o,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ce("invalid",o);break;case"textarea":Ce("invalid",o),Yd(o,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||r.suppressHydrationWarning===!0||Km(o.textContent,a)?(r.popover!=null&&(Ce("beforetoggle",o),Ce("toggle",o)),r.onScroll!=null&&Ce("scroll",o),r.onScrollEnd!=null&&Ce("scrollend",o),r.onClick!=null&&(o.onclick=vn),o=!0):o=!1,o||Yn(n,!0)}function wh(n){for(at=n.return;at;)switch(at.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:at=at.return}}function so(n){if(n!==at)return!1;if(!Re)return wh(n),Re=!0,!1;var o=n.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fc(n.type,n.memoizedProps)),a=!a),a&&He&&Yn(n),wh(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));He=ng(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));He=ng(n)}else o===27?(o=He,si(n.type)?(n=gc,gc=null,He=n):He=o):He=at?Jt(n.stateNode.nextSibling):null;return!0}function _i(){He=at=null,Re=!1}function Xr(){var n=Fn;return n!==null&&(Rt===null?Rt=n:Rt.push.apply(Rt,n),Fn=null),n}function us(n){Fn===null?Fn=[n]:Fn.push(n)}var Qr=b(null),Ri=null,Cn=null;function Jn(n,o,a){ne(Qr,o._currentValue),o._currentValue=a}function An(n){n._currentValue=Qr.current,X(Qr)}function Zr(n,o,a){for(;n!==null;){var r=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,r!==null&&(r.childLanes|=o)):r!==null&&(r.childLanes&o)!==o&&(r.childLanes|=o),n===a)break;n=n.return}}function Wr(n,o,a,r){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var M=0;M<o.length;M++)if(A.context===o[M]){y.lanes|=a,A=y.alternate,A!==null&&(A.lanes|=a),Zr(y.return,a,n),r||(E=null);break e}y=A.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),Zr(E,a,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function ao(n,o,a,r){n=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=m.type;wt(m.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(m===we.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Ps):n=[Ps])}m=m.return}n!==null&&Wr(o,n,a,r),o.flags|=262144}function Na(n){for(n=n.firstContext;n!==null;){if(!wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Mi(n){Ri=n,Cn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function lt(n){return bh(Ri,n)}function Ia(n,o){return Ri===null&&Mi(n),bh(n,o)}function bh(n,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Cn===null){if(n===null)throw Error(s(308));Cn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Cn=Cn.next=o;return a}var fC=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(a,r){n.push(r)}};this.abort=function(){o.aborted=!0,n.forEach(function(a){return a()})}},dC=t.unstable_scheduleCallback,hC=t.unstable_NormalPriority,Qe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $r(){return{controller:new fC,data:new Map,refCount:0}}function cs(n){n.refCount--,n.refCount===0&&dC(hC,function(){n.controller.abort()})}var fs=null,jr=0,lo=0,ro=null;function pC(n,o){if(fs===null){var a=fs=[];jr=0,lo=nc(),ro={status:"pending",value:void 0,then:function(r){a.push(r)}}}return jr++,o.then(Uh,Uh),o}function Uh(){if(--jr===0&&fs!==null){ro!==null&&(ro.status="fulfilled");var n=fs;fs=null,lo=0,ro=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function mC(n,o){var a=[],r={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){r.status="fulfilled",r.value=o;for(var m=0;m<a.length;m++)(0,a[m])(o)},function(m){for(r.status="rejected",r.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),r}var Lh=O.S;O.S=function(n,o){ym=Nt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&pC(n,o),Lh!==null&&Lh(n,o)};var xi=b(null);function eu(){var n=xi.current;return n!==null?n:Ge.pooledCache}function Da(n,o){o===null?ne(xi,xi.current):ne(xi,o.pool)}function Vh(){var n=eu();return n===null?null:{parent:Qe._currentValue,pool:n}}var uo=Error(s(460)),tu=Error(s(474)),wa=Error(s(542)),ba={then:function(){}};function Ph(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gh(n,o,a){switch(a=n[a],a===void 0?n.push(o):a!==o&&(o.then(vn,vn),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Oh(n),n;default:if(typeof o.status=="string")o.then(vn,vn);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(r){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=r}},function(r){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=r}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Oh(n),n}throw Ii=o,uo}}function Ni(n){try{var o=n._init;return o(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ii=a,uo):a}}var Ii=null;function Hh(){if(Ii===null)throw Error(s(459));var n=Ii;return Ii=null,n}function Oh(n){if(n===uo||n===wa)throw Error(s(483))}var co=null,ds=0;function Ua(n){var o=ds;return ds+=1,co===null&&(co=[]),Gh(co,n,o)}function hs(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function La(n,o){throw o.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Bh(n){function o(U,w){if(n){var V=U.deletions;V===null?(U.deletions=[w],U.flags|=16):V.push(w)}}function a(U,w){if(!n)return null;for(;w!==null;)o(U,w),w=w.sibling;return null}function r(U){for(var w=new Map;U!==null;)U.key!==null?w.set(U.key,U):w.set(U.index,U),U=U.sibling;return w}function m(U,w){return U=Sn(U,w),U.index=0,U.sibling=null,U}function y(U,w,V){return U.index=V,n?(V=U.alternate,V!==null?(V=V.index,V<w?(U.flags|=67108866,w):V):(U.flags|=67108866,w)):(U.flags|=1048576,w)}function E(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function A(U,w,V,Y){return w===null||w.tag!==6?(w=zr(V,U.mode,Y),w.return=U,w):(w=m(w,V),w.return=U,w)}function M(U,w,V,Y){var ue=V.type;return ue===N?z(U,w,V.props.children,Y,V.key):w!==null&&(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===W&&Ni(ue)===w.type)?(w=m(w,V.props),hs(w,V),w.return=U,w):(w=Ma(V.type,V.key,V.props,null,U.mode,Y),hs(w,V),w.return=U,w)}function P(U,w,V,Y){return w===null||w.tag!==4||w.stateNode.containerInfo!==V.containerInfo||w.stateNode.implementation!==V.implementation?(w=Fr(V,U.mode,Y),w.return=U,w):(w=m(w,V.children||[]),w.return=U,w)}function z(U,w,V,Y,ue){return w===null||w.tag!==7?(w=Ai(V,U.mode,Y,ue),w.return=U,w):(w=m(w,V),w.return=U,w)}function J(U,w,V){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=zr(""+w,U.mode,V),w.return=U,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return V=Ma(w.type,w.key,w.props,null,U.mode,V),hs(V,w),V.return=U,V;case _:return w=Fr(w,U.mode,V),w.return=U,w;case W:return w=Ni(w),J(U,w,V)}if(Ie(w)||se(w))return w=Ai(w,U.mode,V,null),w.return=U,w;if(typeof w.then=="function")return J(U,Ua(w),V);if(w.$$typeof===L)return J(U,Ia(U,w),V);La(U,w)}return null}function G(U,w,V,Y){var ue=w!==null?w.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ue!==null?null:A(U,w,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return V.key===ue?M(U,w,V,Y):null;case _:return V.key===ue?P(U,w,V,Y):null;case W:return V=Ni(V),G(U,w,V,Y)}if(Ie(V)||se(V))return ue!==null?null:z(U,w,V,Y,null);if(typeof V.then=="function")return G(U,w,Ua(V),Y);if(V.$$typeof===L)return G(U,w,Ia(U,V),Y);La(U,V)}return null}function B(U,w,V,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(V)||null,A(w,U,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return U=U.get(Y.key===null?V:Y.key)||null,M(w,U,Y,ue);case _:return U=U.get(Y.key===null?V:Y.key)||null,P(w,U,Y,ue);case W:return Y=Ni(Y),B(U,w,V,Y,ue)}if(Ie(Y)||se(Y))return U=U.get(V)||null,z(w,U,Y,ue,null);if(typeof Y.then=="function")return B(U,w,V,Ua(Y),ue);if(Y.$$typeof===L)return B(U,w,V,Ia(w,Y),ue);La(w,Y)}return null}function ae(U,w,V,Y){for(var ue=null,Me=null,re=w,Te=w=0,_e=null;re!==null&&Te<V.length;Te++){re.index>Te?(_e=re,re=null):_e=re.sibling;var xe=G(U,re,V[Te],Y);if(xe===null){re===null&&(re=_e);break}n&&re&&xe.alternate===null&&o(U,re),w=y(xe,w,Te),Me===null?ue=xe:Me.sibling=xe,Me=xe,re=_e}if(Te===V.length)return a(U,re),Re&&En(U,Te),ue;if(re===null){for(;Te<V.length;Te++)re=J(U,V[Te],Y),re!==null&&(w=y(re,w,Te),Me===null?ue=re:Me.sibling=re,Me=re);return Re&&En(U,Te),ue}for(re=r(re);Te<V.length;Te++)_e=B(re,U,Te,V[Te],Y),_e!==null&&(n&&_e.alternate!==null&&re.delete(_e.key===null?Te:_e.key),w=y(_e,w,Te),Me===null?ue=_e:Me.sibling=_e,Me=_e);return n&&re.forEach(function(ci){return o(U,ci)}),Re&&En(U,Te),ue}function ce(U,w,V,Y){if(V==null)throw Error(s(151));for(var ue=null,Me=null,re=w,Te=w=0,_e=null,xe=V.next();re!==null&&!xe.done;Te++,xe=V.next()){re.index>Te?(_e=re,re=null):_e=re.sibling;var ci=G(U,re,xe.value,Y);if(ci===null){re===null&&(re=_e);break}n&&re&&ci.alternate===null&&o(U,re),w=y(ci,w,Te),Me===null?ue=ci:Me.sibling=ci,Me=ci,re=_e}if(xe.done)return a(U,re),Re&&En(U,Te),ue;if(re===null){for(;!xe.done;Te++,xe=V.next())xe=J(U,xe.value,Y),xe!==null&&(w=y(xe,w,Te),Me===null?ue=xe:Me.sibling=xe,Me=xe);return Re&&En(U,Te),ue}for(re=r(re);!xe.done;Te++,xe=V.next())xe=B(re,U,Te,xe.value,Y),xe!==null&&(n&&xe.alternate!==null&&re.delete(xe.key===null?Te:xe.key),w=y(xe,w,Te),Me===null?ue=xe:Me.sibling=xe,Me=xe);return n&&re.forEach(function(MA){return o(U,MA)}),Re&&En(U,Te),ue}function Pe(U,w,V,Y){if(typeof V=="object"&&V!==null&&V.type===N&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case C:e:{for(var ue=V.key;w!==null;){if(w.key===ue){if(ue=V.type,ue===N){if(w.tag===7){a(U,w.sibling),Y=m(w,V.props.children),Y.return=U,U=Y;break e}}else if(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===W&&Ni(ue)===w.type){a(U,w.sibling),Y=m(w,V.props),hs(Y,V),Y.return=U,U=Y;break e}a(U,w);break}else o(U,w);w=w.sibling}V.type===N?(Y=Ai(V.props.children,U.mode,Y,V.key),Y.return=U,U=Y):(Y=Ma(V.type,V.key,V.props,null,U.mode,Y),hs(Y,V),Y.return=U,U=Y)}return E(U);case _:e:{for(ue=V.key;w!==null;){if(w.key===ue)if(w.tag===4&&w.stateNode.containerInfo===V.containerInfo&&w.stateNode.implementation===V.implementation){a(U,w.sibling),Y=m(w,V.children||[]),Y.return=U,U=Y;break e}else{a(U,w);break}else o(U,w);w=w.sibling}Y=Fr(V,U.mode,Y),Y.return=U,U=Y}return E(U);case W:return V=Ni(V),Pe(U,w,V,Y)}if(Ie(V))return ae(U,w,V,Y);if(se(V)){if(ue=se(V),typeof ue!="function")throw Error(s(150));return V=ue.call(V),ce(U,w,V,Y)}if(typeof V.then=="function")return Pe(U,w,Ua(V),Y);if(V.$$typeof===L)return Pe(U,w,Ia(U,V),Y);La(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,w!==null&&w.tag===6?(a(U,w.sibling),Y=m(w,V),Y.return=U,U=Y):(a(U,w),Y=zr(V,U.mode,Y),Y.return=U,U=Y),E(U)):a(U,w)}return function(U,w,V,Y){try{ds=0;var ue=Pe(U,w,V,Y);return co=null,ue}catch(re){if(re===uo||re===wa)throw re;var Me=bt(29,re,null,U.mode);return Me.lanes=Y,Me.return=U,Me}finally{}}}var Di=Bh(!0),kh=Bh(!1),Kn=!1;function nu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Qn(n,o,a){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var m=r.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),r.pending=o,o=Ra(n),_h(n,null,a),o}return _a(n,r,o,a),Ra(n)}function ps(n,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var r=o.lanes;r&=n.pendingLanes,a|=r,o.lanes=a,bd(n,a)}}function ou(n,o){var a=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?m=y=o:y=y.next=o}else m=y=o;a={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=o:n.next=o,a.lastBaseUpdate=o}var su=!1;function ms(){if(su){var n=ro;if(n!==null)throw n}}function gs(n,o,a,r){su=!1;var m=n.updateQueue;Kn=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var M=A,P=M.next;M.next=null,E===null?y=P:E.next=P,E=M;var z=n.alternate;z!==null&&(z=z.updateQueue,A=z.lastBaseUpdate,A!==E&&(A===null?z.firstBaseUpdate=P:A.next=P,z.lastBaseUpdate=M))}if(y!==null){var J=m.baseState;E=0,z=P=M=null,A=y;do{var G=A.lane&-536870913,B=G!==A.lane;if(B?(Ae&G)===G:(r&G)===G){G!==0&&G===lo&&(su=!0),z!==null&&(z=z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ae=n,ce=A;G=o;var Pe=a;switch(ce.tag){case 1:if(ae=ce.payload,typeof ae=="function"){J=ae.call(Pe,J,G);break e}J=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ce.payload,G=typeof ae=="function"?ae.call(Pe,J,G):ae,G==null)break e;J=T({},J,G);break e;case 2:Kn=!0}}G=A.callback,G!==null&&(n.flags|=64,B&&(n.flags|=8192),B=m.callbacks,B===null?m.callbacks=[G]:B.push(G))}else B={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},z===null?(P=z=B,M=J):z=z.next=B,E|=G;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;B=A,A=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);z===null&&(M=J),m.baseState=M,m.firstBaseUpdate=P,m.lastBaseUpdate=z,y===null&&(m.shared.lanes=0),ei|=E,n.lanes=E,n.memoizedState=J}}function qh(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function zh(n,o){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)qh(a[n],o)}var fo=b(null),Va=b(0);function Fh(n,o){n=bn,ne(Va,n),ne(fo,o),bn=n|o.baseLanes}function au(){ne(Va,bn),ne(fo,fo.current)}function lu(){bn=Va.current,X(fo),X(Va)}var Ut=b(null),Yt=null;function Zn(n){var o=n.alternate;ne(Ke,Ke.current&1),ne(Ut,n),Yt===null&&(o===null||fo.current!==null||o.memoizedState!==null)&&(Yt=n)}function ru(n){ne(Ke,Ke.current),ne(Ut,n),Yt===null&&(Yt=n)}function Yh(n){n.tag===22?(ne(Ke,Ke.current),ne(Ut,n),Yt===null&&(Yt=n)):Wn()}function Wn(){ne(Ke,Ke.current),ne(Ut,Ut.current)}function Lt(n){X(Ut),Yt===n&&(Yt=null),X(Ke)}var Ke=b(0);function Pa(n){for(var o=n;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pc(a)||mc(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _n=0,ye=null,Le=null,Ze=null,Ga=!1,ho=!1,wi=!1,Ha=0,ys=0,po=null,gC=0;function ze(){throw Error(s(321))}function uu(n,o){if(o===null)return!1;for(var a=0;a<o.length&&a<n.length;a++)if(!wt(n[a],o[a]))return!1;return!0}function cu(n,o,a,r,m,y){return _n=y,ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=n===null||n.memoizedState===null?Np:Ru,wi=!1,y=a(r,m),wi=!1,ho&&(y=Kh(o,a,r,m)),Jh(n),y}function Jh(n){O.H=Ss;var o=Le!==null&&Le.next!==null;if(_n=0,Ze=Le=ye=null,Ga=!1,ys=0,po=null,o)throw Error(s(300));n===null||We||(n=n.dependencies,n!==null&&Na(n)&&(We=!0))}function Kh(n,o,a,r){ye=n;var m=0;do{if(ho&&(po=null),ys=0,ho=!1,25<=m)throw Error(s(301));if(m+=1,Ze=Le=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=Ip,y=o(a,r)}while(ho);return y}function yC(){var n=O.H,o=n.useState()[0];return o=typeof o.then=="function"?vs(o):o,n=n.useState()[0],(Le!==null?Le.memoizedState:null)!==n&&(ye.flags|=1024),o}function fu(){var n=Ha!==0;return Ha=0,n}function du(n,o,a){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~a}function hu(n){if(Ga){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ga=!1}_n=0,Ze=Le=ye=null,ho=!1,ys=Ha=0,po=null}function mt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ye.memoizedState=Ze=n:Ze=Ze.next=n,Ze}function Xe(){if(Le===null){var n=ye.alternate;n=n!==null?n.memoizedState:null}else n=Le.next;var o=Ze===null?ye.memoizedState:Ze.next;if(o!==null)Ze=o,Le=n;else{if(n===null)throw ye.alternate===null?Error(s(467)):Error(s(310));Le=n,n={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ze===null?ye.memoizedState=Ze=n:Ze=Ze.next=n}return Ze}function Oa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vs(n){var o=ys;return ys+=1,po===null&&(po=[]),n=Gh(po,n,o),o=ye,(Ze===null?o.memoizedState:Ze.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?Np:Ru),n}function Ba(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vs(n);if(n.$$typeof===L)return lt(n)}throw Error(s(438,String(n)))}function pu(n){var o=null,a=ye.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(o={data:r.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Oa(),ye.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(n),r=0;r<n;r++)a[r]=j;return o.index++,a}function Rn(n,o){return typeof o=="function"?o(n):o}function ka(n){var o=Xe();return mu(o,Le,n)}function mu(n,o,a){var r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=a;var m=n.baseQueue,y=r.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}o.baseQueue=m=y,r.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{o=m.next;var A=E=null,M=null,P=o,z=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Ae&J)===J:(_n&J)===J){var G=P.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===lo&&(z=!0);else if((_n&G)===G){P=P.next,G===lo&&(z=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(A=M=J,E=y):M=M.next=J,ye.lanes|=G,ei|=G;J=P.action,wi&&a(y,J),y=P.hasEagerState?P.eagerState:a(y,J)}else G={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(A=M=G,E=y):M=M.next=G,ye.lanes|=J,ei|=J;P=P.next}while(P!==null&&P!==o);if(M===null?E=y:M.next=A,!wt(y,n.memoizedState)&&(We=!0,z&&(a=ro,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=M,r.lastRenderedState=y}return m===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function gu(n){var o=Xe(),a=o.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var r=a.dispatch,m=a.pending,y=o.memoizedState;if(m!==null){a.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);wt(y,o.memoizedState)||(We=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),a.lastRenderedState=y}return[y,r]}function Xh(n,o,a){var r=ye,m=Xe(),y=Re;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=o();var E=!wt((Le||m).memoizedState,a);if(E&&(m.memoizedState=a,We=!0),m=m.queue,Tu(Wh.bind(null,r,m,n),[n]),m.getSnapshot!==o||E||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,mo(9,{destroy:void 0},Zh.bind(null,r,m,a,o),null),Ge===null)throw Error(s(349));y||(_n&127)!==0||Qh(r,o,a)}return a}function Qh(n,o,a){n.flags|=16384,n={getSnapshot:o,value:a},o=ye.updateQueue,o===null?(o=Oa(),ye.updateQueue=o,o.stores=[n]):(a=o.stores,a===null?o.stores=[n]:a.push(n))}function Zh(n,o,a,r){o.value=a,o.getSnapshot=r,$h(o)&&jh(n)}function Wh(n,o,a){return a(function(){$h(o)&&jh(n)})}function $h(n){var o=n.getSnapshot;n=n.value;try{var a=o();return!wt(n,a)}catch{return!0}}function jh(n){var o=Ci(n,2);o!==null&&Mt(o,n,2)}function yu(n){var o=mt();if(typeof n=="function"){var a=n;if(n=a(),wi){Bn(!0);try{a()}finally{Bn(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:n},o}function ep(n,o,a,r){return n.baseState=a,mu(n,Le,typeof r=="function"?r:Rn)}function vC(n,o,a,r,m){if(Fa(n))throw Error(s(485));if(n=o.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};O.T!==null?a(!0):y.isTransition=!1,r(y),a=o.pending,a===null?(y.next=o.pending=y,tp(o,y)):(y.next=a.next,o.pending=a.next=y)}}function tp(n,o){var a=o.action,r=o.payload,m=n.state;if(o.isTransition){var y=O.T,E={};O.T=E;try{var A=a(m,r),M=O.S;M!==null&&M(E,A),np(n,o,A)}catch(P){vu(n,o,P)}finally{y!==null&&E.types!==null&&(y.types=E.types),O.T=y}}else try{y=a(m,r),np(n,o,y)}catch(P){vu(n,o,P)}}function np(n,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){ip(n,o,r)},function(r){return vu(n,o,r)}):ip(n,o,a)}function ip(n,o,a){o.status="fulfilled",o.value=a,op(o),n.state=a,o=n.pending,o!==null&&(a=o.next,a===o?n.pending=null:(a=a.next,o.next=a,tp(n,a)))}function vu(n,o,a){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do o.status="rejected",o.reason=a,op(o),o=o.next;while(o!==r)}n.action=null}function op(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function sp(n,o){return o}function ap(n,o){if(Re){var a=Ge.formState;if(a!==null){e:{var r=ye;if(Re){if(He){t:{for(var m=He,y=Ft;m.nodeType!==8;){if(!y){m=null;break t}if(m=Jt(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){He=Jt(m.nextSibling),r=m.data==="F!";break e}}Yn(r)}r=!1}r&&(o=a[0])}}return a=mt(),a.memoizedState=a.baseState=o,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:o},a.queue=r,a=Rp.bind(null,ye,r),r.dispatch=a,r=yu(!1),y=_u.bind(null,ye,!1,r.queue),r=mt(),m={state:o,dispatch:null,action:n,pending:null},r.queue=m,a=vC.bind(null,ye,m,y,a),m.dispatch=a,r.memoizedState=n,[o,a,!1]}function lp(n){var o=Xe();return rp(o,Le,n)}function rp(n,o,a){if(o=mu(n,o,sp)[0],n=ka(Rn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var r=vs(o)}catch(E){throw E===uo?wa:E}else r=o;o=Xe();var m=o.queue,y=m.dispatch;return a!==o.memoizedState&&(ye.flags|=2048,mo(9,{destroy:void 0},TC.bind(null,m,a),null)),[r,y,n]}function TC(n,o){n.action=o}function up(n){var o=Xe(),a=Le;if(a!==null)return rp(o,a,n);Xe(),o=o.memoizedState,a=Xe();var r=a.queue.dispatch;return a.memoizedState=n,[o,r,!1]}function mo(n,o,a,r){return n={tag:n,create:a,deps:r,inst:o,next:null},o=ye.updateQueue,o===null&&(o=Oa(),ye.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=n.next=n:(r=a.next,a.next=n,n.next=r,o.lastEffect=n),n}function cp(){return Xe().memoizedState}function qa(n,o,a,r){var m=mt();ye.flags|=n,m.memoizedState=mo(1|o,{destroy:void 0},a,r===void 0?null:r)}function za(n,o,a,r){var m=Xe();r=r===void 0?null:r;var y=m.memoizedState.inst;Le!==null&&r!==null&&uu(r,Le.memoizedState.deps)?m.memoizedState=mo(o,y,a,r):(ye.flags|=n,m.memoizedState=mo(1|o,y,a,r))}function fp(n,o){qa(8390656,8,n,o)}function Tu(n,o){za(2048,8,n,o)}function SC(n){ye.flags|=4;var o=ye.updateQueue;if(o===null)o=Oa(),ye.updateQueue=o,o.events=[n];else{var a=o.events;a===null?o.events=[n]:a.push(n)}}function dp(n){var o=Xe().memoizedState;return SC({ref:o,nextImpl:n}),function(){if((De&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function hp(n,o){return za(4,2,n,o)}function pp(n,o){return za(4,4,n,o)}function mp(n,o){if(typeof o=="function"){n=n();var a=o(n);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function gp(n,o,a){a=a!=null?a.concat([n]):null,za(4,4,mp.bind(null,o,n),a)}function Su(){}function yp(n,o){var a=Xe();o=o===void 0?null:o;var r=a.memoizedState;return o!==null&&uu(o,r[1])?r[0]:(a.memoizedState=[n,o],n)}function vp(n,o){var a=Xe();o=o===void 0?null:o;var r=a.memoizedState;if(o!==null&&uu(o,r[1]))return r[0];if(r=n(),wi){Bn(!0);try{n()}finally{Bn(!1)}}return a.memoizedState=[r,o],r}function Eu(n,o,a){return a===void 0||(_n&1073741824)!==0&&(Ae&261930)===0?n.memoizedState=o:(n.memoizedState=a,n=Tm(),ye.lanes|=n,ei|=n,a)}function Tp(n,o,a,r){return wt(a,o)?a:fo.current!==null?(n=Eu(n,a,r),wt(n,o)||(We=!0),n):(_n&42)===0||(_n&1073741824)!==0&&(Ae&261930)===0?(We=!0,n.memoizedState=a):(n=Tm(),ye.lanes|=n,ei|=n,o)}function Sp(n,o,a,r,m){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=O.T,A={};O.T=A,_u(n,!1,o,a);try{var M=m(),P=O.S;if(P!==null&&P(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=mC(M,r);Ts(n,o,z,Gt(n))}else Ts(n,o,r,Gt(n))}catch(J){Ts(n,o,{then:function(){},status:"rejected",reason:J},Gt())}finally{Z.p=y,E!==null&&A.types!==null&&(E.types=A.types),O.T=E}}function EC(){}function Cu(n,o,a,r){if(n.tag!==5)throw Error(s(476));var m=Ep(n).queue;Sp(n,m,o,ie,a===null?EC:function(){return Cp(n),a(r)})}function Ep(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:ie},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:a},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Cp(n){var o=Ep(n);o.next===null&&(o=n.alternate.memoizedState),Ts(n,o.next.queue,{},Gt())}function Au(){return lt(Ps)}function Ap(){return Xe().memoizedState}function _p(){return Xe().memoizedState}function CC(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var a=Gt();n=Xn(a);var r=Qn(o,n,a);r!==null&&(Mt(r,o,a),ps(r,o,a)),o={cache:$r()},n.payload=o;return}o=o.return}}function AC(n,o,a){var r=Gt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fa(n)?Mp(o,a):(a=kr(n,o,a,r),a!==null&&(Mt(a,n,r),xp(a,o,r)))}function Rp(n,o,a){var r=Gt();Ts(n,o,a,r)}function Ts(n,o,a,r){var m={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fa(n))Mp(o,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,A=y(E,a);if(m.hasEagerState=!0,m.eagerState=A,wt(A,E))return _a(n,o,m,0),Ge===null&&Aa(),!1}catch{}finally{}if(a=kr(n,o,m,r),a!==null)return Mt(a,n,r),xp(a,o,r),!0}return!1}function _u(n,o,a,r){if(r={lane:2,revertLane:nc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fa(n)){if(o)throw Error(s(479))}else o=kr(n,a,r,2),o!==null&&Mt(o,n,2)}function Fa(n){var o=n.alternate;return n===ye||o!==null&&o===ye}function Mp(n,o){ho=Ga=!0;var a=n.pending;a===null?o.next=o:(o.next=a.next,a.next=o),n.pending=o}function xp(n,o,a){if((a&4194048)!==0){var r=o.lanes;r&=n.pendingLanes,a|=r,o.lanes=a,bd(n,a)}}var Ss={readContext:lt,use:Ba,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Ss.useEffectEvent=ze;var Np={readContext:lt,use:Ba,useCallback:function(n,o){return mt().memoizedState=[n,o===void 0?null:o],n},useContext:lt,useEffect:fp,useImperativeHandle:function(n,o,a){a=a!=null?a.concat([n]):null,qa(4194308,4,mp.bind(null,o,n),a)},useLayoutEffect:function(n,o){return qa(4194308,4,n,o)},useInsertionEffect:function(n,o){qa(4,2,n,o)},useMemo:function(n,o){var a=mt();o=o===void 0?null:o;var r=n();if(wi){Bn(!0);try{n()}finally{Bn(!1)}}return a.memoizedState=[r,o],r},useReducer:function(n,o,a){var r=mt();if(a!==void 0){var m=a(o);if(wi){Bn(!0);try{a(o)}finally{Bn(!1)}}}else m=o;return r.memoizedState=r.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},r.queue=n,n=n.dispatch=AC.bind(null,ye,n),[r.memoizedState,n]},useRef:function(n){var o=mt();return n={current:n},o.memoizedState=n},useState:function(n){n=yu(n);var o=n.queue,a=Rp.bind(null,ye,o);return o.dispatch=a,[n.memoizedState,a]},useDebugValue:Su,useDeferredValue:function(n,o){var a=mt();return Eu(a,n,o)},useTransition:function(){var n=yu(!1);return n=Sp.bind(null,ye,n.queue,!0,!1),mt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,a){var r=ye,m=mt();if(Re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=o(),Ge===null)throw Error(s(349));(Ae&127)!==0||Qh(r,o,a)}m.memoizedState=a;var y={value:a,getSnapshot:o};return m.queue=y,fp(Wh.bind(null,r,y,n),[n]),r.flags|=2048,mo(9,{destroy:void 0},Zh.bind(null,r,y,a,o),null),a},useId:function(){var n=mt(),o=Ge.identifierPrefix;if(Re){var a=fn,r=cn;a=(r&~(1<<32-Dt(r)-1)).toString(32)+a,o="_"+o+"R_"+a,a=Ha++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=gC++,o="_"+o+"r_"+a.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Au,useFormState:ap,useActionState:ap,useOptimistic:function(n){var o=mt();o.memoizedState=o.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=_u.bind(null,ye,!0,a),a.dispatch=o,[n,o]},useMemoCache:pu,useCacheRefresh:function(){return mt().memoizedState=CC.bind(null,ye)},useEffectEvent:function(n){var o=mt(),a={impl:n};return o.memoizedState=a,function(){if((De&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ru={readContext:lt,use:Ba,useCallback:yp,useContext:lt,useEffect:Tu,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:pp,useMemo:vp,useReducer:ka,useRef:cp,useState:function(){return ka(Rn)},useDebugValue:Su,useDeferredValue:function(n,o){var a=Xe();return Tp(a,Le.memoizedState,n,o)},useTransition:function(){var n=ka(Rn)[0],o=Xe().memoizedState;return[typeof n=="boolean"?n:vs(n),o]},useSyncExternalStore:Xh,useId:Ap,useHostTransitionStatus:Au,useFormState:lp,useActionState:lp,useOptimistic:function(n,o){var a=Xe();return ep(a,Le,n,o)},useMemoCache:pu,useCacheRefresh:_p};Ru.useEffectEvent=dp;var Ip={readContext:lt,use:Ba,useCallback:yp,useContext:lt,useEffect:Tu,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:pp,useMemo:vp,useReducer:gu,useRef:cp,useState:function(){return gu(Rn)},useDebugValue:Su,useDeferredValue:function(n,o){var a=Xe();return Le===null?Eu(a,n,o):Tp(a,Le.memoizedState,n,o)},useTransition:function(){var n=gu(Rn)[0],o=Xe().memoizedState;return[typeof n=="boolean"?n:vs(n),o]},useSyncExternalStore:Xh,useId:Ap,useHostTransitionStatus:Au,useFormState:up,useActionState:up,useOptimistic:function(n,o){var a=Xe();return Le!==null?ep(a,Le,n,o):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:pu,useCacheRefresh:_p};Ip.useEffectEvent=dp;function Mu(n,o,a,r){o=n.memoizedState,a=a(r,o),a=a==null?o:T({},o,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var xu={enqueueSetState:function(n,o,a){n=n._reactInternals;var r=Gt(),m=Xn(r);m.payload=o,a!=null&&(m.callback=a),o=Qn(n,m,r),o!==null&&(Mt(o,n,r),ps(o,n,r))},enqueueReplaceState:function(n,o,a){n=n._reactInternals;var r=Gt(),m=Xn(r);m.tag=1,m.payload=o,a!=null&&(m.callback=a),o=Qn(n,m,r),o!==null&&(Mt(o,n,r),ps(o,n,r))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var a=Gt(),r=Xn(a);r.tag=2,o!=null&&(r.callback=o),o=Qn(n,r,a),o!==null&&(Mt(o,n,a),ps(o,n,a))}};function Dp(n,o,a,r,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,y,E):o.prototype&&o.prototype.isPureReactComponent?!as(a,r)||!as(m,y):!0}function wp(n,o,a,r){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,r),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,r),o.state!==n&&xu.enqueueReplaceState(o,o.state,null)}function bi(n,o){var a=o;if("ref"in o){a={};for(var r in o)r!=="ref"&&(a[r]=o[r])}if(n=n.defaultProps){a===o&&(a=T({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function bp(n){Ca(n)}function Up(n){console.error(n)}function Lp(n){Ca(n)}function Ya(n,o){try{var a=n.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(r){setTimeout(function(){throw r})}}function Vp(n,o,a){try{var r=n.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Nu(n,o,a){return a=Xn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ya(n,o)},a}function Pp(n){return n=Xn(n),n.tag=3,n}function Gp(n,o,a,r){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=r.value;n.payload=function(){return m(y)},n.callback=function(){Vp(o,a,r)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Vp(o,a,r),typeof m!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var A=r.stack;this.componentDidCatch(r.value,{componentStack:A!==null?A:""})})}function _C(n,o,a,r,m){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(o=a.alternate,o!==null&&ao(o,a,m,!0),a=Ut.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?il():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=m,r===ba?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([r]):o.add(r),ju(n,r,m)),!1;case 22:return a.flags|=65536,r===ba?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([r]):a.add(r)),ju(n,r,m)),!1}throw Error(s(435,a.tag))}return ju(n,r,m),il(),!1}if(Re)return o=Ut.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,r!==Kr&&(n=Error(s(422),{cause:r}),us(kt(n,a)))):(r!==Kr&&(o=Error(s(423),{cause:r}),us(kt(o,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,r=kt(r,a),m=Nu(n.stateNode,r,m),ou(n,m),Fe!==4&&(Fe=2)),!1;var y=Error(s(520),{cause:r});if(y=kt(y,a),Ns===null?Ns=[y]:Ns.push(y),Fe!==4&&(Fe=2),o===null)return!0;r=kt(r,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=Nu(a.stateNode,r,n),ou(a,n),!1;case 1:if(o=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ti===null||!ti.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Pp(m),Gp(m,n,a,r),ou(a,m),!1}a=a.return}while(a!==null);return!1}var Iu=Error(s(461)),We=!1;function rt(n,o,a,r){o.child=n===null?kh(o,null,a,r):Di(o,n.child,a,r)}function Hp(n,o,a,r,m){a=a.render;var y=o.ref;if("ref"in r){var E={};for(var A in r)A!=="ref"&&(E[A]=r[A])}else E=r;return Mi(o),r=cu(n,o,a,E,y,m),A=fu(),n!==null&&!We?(du(n,o,m),Mn(n,o,m)):(Re&&A&&Yr(o),o.flags|=1,rt(n,o,r,m),o.child)}function Op(n,o,a,r,m){if(n===null){var y=a.type;return typeof y=="function"&&!qr(y)&&y.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=y,Bp(n,o,y,r,m)):(n=Ma(a.type,null,r,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,!Gu(n,m)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(E,r)&&n.ref===o.ref)return Mn(n,o,m)}return o.flags|=1,n=Sn(y,r),n.ref=o.ref,n.return=o,o.child=n}function Bp(n,o,a,r,m){if(n!==null){var y=n.memoizedProps;if(as(y,r)&&n.ref===o.ref)if(We=!1,o.pendingProps=r=y,Gu(n,m))(n.flags&131072)!==0&&(We=!0);else return o.lanes=n.lanes,Mn(n,o,m)}return Du(n,o,a,r,m)}function kp(n,o,a,r){var m=r.children,y=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(r=o.child=n.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~y}else r=0,o.child=null;return qp(n,o,y,a,r)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Da(o,y!==null?y.cachePool:null),y!==null?Fh(o,y):au(),Yh(o);else return r=o.lanes=536870912,qp(n,o,y!==null?y.baseLanes|a:a,a,r)}else y!==null?(Da(o,y.cachePool),Fh(o,y),Wn(),o.memoizedState=null):(n!==null&&Da(o,null),au(),Wn());return rt(n,o,m,a),o.child}function Es(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function qp(n,o,a,r,m){var y=eu();return y=y===null?null:{parent:Qe._currentValue,pool:y},o.memoizedState={baseLanes:a,cachePool:y},n!==null&&Da(o,null),au(),Yh(o),n!==null&&ao(n,o,r,!0),o.childLanes=m,null}function Ja(n,o){return o=Xa({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function zp(n,o,a){return Di(o,n.child,null,a),n=Ja(o,o.pendingProps),n.flags|=2,Lt(o),o.memoizedState=null,n}function RC(n,o,a){var r=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(Re){if(r.mode==="hidden")return n=Ja(o,r),o.lanes=536870912,Es(null,n);if(ru(o),(n=He)?(n=tg(n,Ft),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:zn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},a=Mh(n),a.return=o,o.child=a,at=o,He=null)):n=null,n===null)throw Yn(o);return o.lanes=536870912,null}return Ja(o,r)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(ru(o),m)if(o.flags&256)o.flags&=-257,o=zp(n,o,a);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(We||ao(n,o,a,!1),m=(a&n.childLanes)!==0,We||m){if(r=Ge,r!==null&&(E=Ud(r,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ci(n,E),Mt(r,n,E),Iu;il(),o=zp(n,o,a)}else n=y.treeContext,He=Jt(E.nextSibling),at=o,Re=!0,Fn=null,Ft=!1,n!==null&&Ih(o,n),o=Ja(o,r),o.flags|=4096;return o}return n=Sn(n.child,{mode:r.mode,children:r.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Ka(n,o){var a=o.ref;if(a===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(o.flags|=4194816)}}function Du(n,o,a,r,m){return Mi(o),a=cu(n,o,a,r,void 0,m),r=fu(),n!==null&&!We?(du(n,o,m),Mn(n,o,m)):(Re&&r&&Yr(o),o.flags|=1,rt(n,o,a,m),o.child)}function Fp(n,o,a,r,m,y){return Mi(o),o.updateQueue=null,a=Kh(o,r,a,m),Jh(n),r=fu(),n!==null&&!We?(du(n,o,y),Mn(n,o,y)):(Re&&r&&Yr(o),o.flags|=1,rt(n,o,a,y),o.child)}function Yp(n,o,a,r,m){if(Mi(o),o.stateNode===null){var y=no,E=a.contextType;typeof E=="object"&&E!==null&&(y=lt(E)),y=new a(r,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xu,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=r,y.state=o.memoizedState,y.refs={},nu(o),E=a.contextType,y.context=typeof E=="object"&&E!==null?lt(E):no,y.state=o.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Mu(o,a,E,r),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&xu.enqueueReplaceState(y,y.state,null),gs(o,r,y,m),ms(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),r=!0}else if(n===null){y=o.stateNode;var A=o.memoizedProps,M=bi(a,A);y.props=M;var P=y.context,z=a.contextType;E=no,typeof z=="object"&&z!==null&&(E=lt(z));var J=a.getDerivedStateFromProps;z=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=o.pendingProps!==A,z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||P!==E)&&wp(o,y,r,E),Kn=!1;var G=o.memoizedState;y.state=G,gs(o,r,y,m),ms(),P=o.memoizedState,A||G!==P||Kn?(typeof J=="function"&&(Mu(o,a,J,r),P=o.memoizedState),(M=Kn||Dp(o,a,M,r,G,P,E))?(z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=r,o.memoizedState=P),y.props=r,y.state=P,y.context=E,r=M):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),r=!1)}else{y=o.stateNode,iu(n,o),E=o.memoizedProps,z=bi(a,E),y.props=z,J=o.pendingProps,G=y.context,P=a.contextType,M=no,typeof P=="object"&&P!==null&&(M=lt(P)),A=a.getDerivedStateFromProps,(P=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==J||G!==M)&&wp(o,y,r,M),Kn=!1,G=o.memoizedState,y.state=G,gs(o,r,y,m),ms();var B=o.memoizedState;E!==J||G!==B||Kn||n!==null&&n.dependencies!==null&&Na(n.dependencies)?(typeof A=="function"&&(Mu(o,a,A,r),B=o.memoizedState),(z=Kn||Dp(o,a,z,r,G,B,M)||n!==null&&n.dependencies!==null&&Na(n.dependencies))?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,B,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,B,M)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=1024),o.memoizedProps=r,o.memoizedState=B),y.props=r,y.state=B,y.context=M,r=z):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=1024),r=!1)}return y=r,Ka(n,o),r=(o.flags&128)!==0,y||r?(y=o.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,n!==null&&r?(o.child=Di(o,n.child,null,m),o.child=Di(o,null,a,m)):rt(n,o,a,m),o.memoizedState=y.state,n=o.child):n=Mn(n,o,m),n}function Jp(n,o,a,r){return _i(),o.flags|=256,rt(n,o,a,r),o.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bu(n){return{baseLanes:n,cachePool:Vh()}}function Uu(n,o,a){return n=n!==null?n.childLanes&~a:0,o&&(n|=Pt),n}function Kp(n,o,a){var r=o.pendingProps,m=!1,y=(o.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(Ke.current&2)!==0),E&&(m=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,n===null){if(Re){if(m?Zn(o):Wn(),(n=He)?(n=tg(n,Ft),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:zn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},a=Mh(n),a.return=o,o.child=a,at=o,He=null)):n=null,n===null)throw Yn(o);return mc(n)?o.lanes=32:o.lanes=536870912,null}var A=r.children;return r=r.fallback,m?(Wn(),m=o.mode,A=Xa({mode:"hidden",children:A},m),r=Ai(r,m,a,null),A.return=o,r.return=o,A.sibling=r,o.child=A,r=o.child,r.memoizedState=bu(a),r.childLanes=Uu(n,E,a),o.memoizedState=wu,Es(null,r)):(Zn(o),Lu(o,A))}var M=n.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(y)o.flags&256?(Zn(o),o.flags&=-257,o=Vu(n,o,a)):o.memoizedState!==null?(Wn(),o.child=n.child,o.flags|=128,o=null):(Wn(),A=r.fallback,m=o.mode,r=Xa({mode:"visible",children:r.children},m),A=Ai(A,m,a,null),A.flags|=2,r.return=o,A.return=o,r.sibling=A,o.child=r,Di(o,n.child,null,a),r=o.child,r.memoizedState=bu(a),r.childLanes=Uu(n,E,a),o.memoizedState=wu,o=Es(null,r));else if(Zn(o),mc(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var P=E.dgst;E=P,r=Error(s(419)),r.stack="",r.digest=E,us({value:r,source:null,stack:null}),o=Vu(n,o,a)}else if(We||ao(n,o,a,!1),E=(a&n.childLanes)!==0,We||E){if(E=Ge,E!==null&&(r=Ud(E,a),r!==0&&r!==M.retryLane))throw M.retryLane=r,Ci(n,r),Mt(E,n,r),Iu;pc(A)||il(),o=Vu(n,o,a)}else pc(A)?(o.flags|=192,o.child=n.child,o=null):(n=M.treeContext,He=Jt(A.nextSibling),at=o,Re=!0,Fn=null,Ft=!1,n!==null&&Ih(o,n),o=Lu(o,r.children),o.flags|=4096);return o}return m?(Wn(),A=r.fallback,m=o.mode,M=n.child,P=M.sibling,r=Sn(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,P!==null?A=Sn(P,A):(A=Ai(A,m,a,null),A.flags|=2),A.return=o,r.return=o,r.sibling=A,o.child=r,Es(null,r),r=o.child,A=n.child.memoizedState,A===null?A=bu(a):(m=A.cachePool,m!==null?(M=Qe._currentValue,m=m.parent!==M?{parent:M,pool:M}:m):m=Vh(),A={baseLanes:A.baseLanes|a,cachePool:m}),r.memoizedState=A,r.childLanes=Uu(n,E,a),o.memoizedState=wu,Es(n.child,r)):(Zn(o),a=n.child,n=a.sibling,a=Sn(a,{mode:"visible",children:r.children}),a.return=o,a.sibling=null,n!==null&&(E=o.deletions,E===null?(o.deletions=[n],o.flags|=16):E.push(n)),o.child=a,o.memoizedState=null,a)}function Lu(n,o){return o=Xa({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Xa(n,o){return n=bt(22,n,null,o),n.lanes=0,n}function Vu(n,o,a){return Di(o,n.child,null,a),n=Lu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Xp(n,o,a){n.lanes|=o;var r=n.alternate;r!==null&&(r.lanes|=o),Zr(n.return,o,a)}function Pu(n,o,a,r,m,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:m,treeForkCount:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=a,E.tailMode=m,E.treeForkCount=y)}function Qp(n,o,a){var r=o.pendingProps,m=r.revealOrder,y=r.tail;r=r.children;var E=Ke.current,A=(E&2)!==0;if(A?(E=E&1|2,o.flags|=128):E&=1,ne(Ke,E),rt(n,o,r,a),r=Re?rs:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xp(n,a,o);else if(n.tag===19)Xp(n,a,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=o.child,m=null;a!==null;)n=a.alternate,n!==null&&Pa(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=o.child,o.child=null):(m=a.sibling,a.sibling=null),Pu(o,!1,m,a,y,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&Pa(n)===null){o.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Pu(o,!0,a,null,y,r);break;case"together":Pu(o,!1,null,null,void 0,r);break;default:o.memoizedState=null}return o.child}function Mn(n,o,a){if(n!==null&&(o.dependencies=n.dependencies),ei|=o.lanes,(a&o.childLanes)===0)if(n!==null){if(ao(n,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,a=Sn(n,n.pendingProps),o.child=a,a.return=o;n.sibling!==null;)n=n.sibling,a=a.sibling=Sn(n,n.pendingProps),a.return=o;a.sibling=null}return o.child}function Gu(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Na(n)))}function MC(n,o,a){switch(o.tag){case 3:pt(o,o.stateNode.containerInfo),Jn(o,Qe,n.memoizedState.cache),_i();break;case 27:case 5:Ko(o);break;case 4:pt(o,o.stateNode.containerInfo);break;case 10:Jn(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,ru(o),null;break;case 13:var r=o.memoizedState;if(r!==null)return r.dehydrated!==null?(Zn(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Kp(n,o,a):(Zn(o),n=Mn(n,o,a),n!==null?n.sibling:null);Zn(o);break;case 19:var m=(n.flags&128)!==0;if(r=(a&o.childLanes)!==0,r||(ao(n,o,a,!1),r=(a&o.childLanes)!==0),m){if(r)return Qp(n,o,a);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(Ke,Ke.current),r)break;return null;case 22:return o.lanes=0,kp(n,o,a,o.pendingProps);case 24:Jn(o,Qe,n.memoizedState.cache)}return Mn(n,o,a)}function Zp(n,o,a){if(n!==null)if(n.memoizedProps!==o.pendingProps)We=!0;else{if(!Gu(n,a)&&(o.flags&128)===0)return We=!1,MC(n,o,a);We=(n.flags&131072)!==0}else We=!1,Re&&(o.flags&1048576)!==0&&Nh(o,rs,o.index);switch(o.lanes=0,o.tag){case 16:e:{var r=o.pendingProps;if(n=Ni(o.elementType),o.type=n,typeof n=="function")qr(n)?(r=bi(n,r),o.tag=1,o=Yp(null,o,n,r,a)):(o.tag=0,o=Du(null,o,n,r,a));else{if(n!=null){var m=n.$$typeof;if(m===K){o.tag=11,o=Hp(null,o,n,r,a);break e}else if(m===k){o.tag=14,o=Op(null,o,n,r,a);break e}}throw o=pe(n)||n,Error(s(306,o,""))}}return o;case 0:return Du(n,o,o.type,o.pendingProps,a);case 1:return r=o.type,m=bi(r,o.pendingProps),Yp(n,o,r,m,a);case 3:e:{if(pt(o,o.stateNode.containerInfo),n===null)throw Error(s(387));r=o.pendingProps;var y=o.memoizedState;m=y.element,iu(n,o),gs(o,r,null,a);var E=o.memoizedState;if(r=E.cache,Jn(o,Qe,r),r!==y.cache&&Wr(o,[Qe],a,!0),ms(),r=E.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=Jp(n,o,r,a);break e}else if(r!==m){m=kt(Error(s(424)),o),us(m),o=Jp(n,o,r,a);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(He=Jt(n.firstChild),at=o,Re=!0,Fn=null,Ft=!0,a=kh(o,null,r,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_i(),r===m){o=Mn(n,o,a);break e}rt(n,o,r,a)}o=o.child}return o;case 26:return Ka(n,o),n===null?(a=lg(o.type,null,o.pendingProps,null))?o.memoizedState=a:Re||(a=o.type,n=o.pendingProps,r=cl(Se.current).createElement(a),r[st]=o,r[St]=n,ut(r,a,n),nt(r),o.stateNode=r):o.memoizedState=lg(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Ko(o),n===null&&Re&&(r=o.stateNode=og(o.type,o.pendingProps,Se.current),at=o,Ft=!0,m=He,si(o.type)?(gc=m,He=Jt(r.firstChild)):He=m),rt(n,o,o.pendingProps.children,a),Ka(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Re&&((m=r=He)&&(r=nA(r,o.type,o.pendingProps,Ft),r!==null?(o.stateNode=r,at=o,He=Jt(r.firstChild),Ft=!1,m=!0):m=!1),m||Yn(o)),Ko(o),m=o.type,y=o.pendingProps,E=n!==null?n.memoizedProps:null,r=y.children,fc(m,y)?r=null:E!==null&&fc(m,E)&&(o.flags|=32),o.memoizedState!==null&&(m=cu(n,o,yC,null,null,a),Ps._currentValue=m),Ka(n,o),rt(n,o,r,a),o.child;case 6:return n===null&&Re&&((n=a=He)&&(a=iA(a,o.pendingProps,Ft),a!==null?(o.stateNode=a,at=o,He=null,n=!0):n=!1),n||Yn(o)),null;case 13:return Kp(n,o,a);case 4:return pt(o,o.stateNode.containerInfo),r=o.pendingProps,n===null?o.child=Di(o,null,r,a):rt(n,o,r,a),o.child;case 11:return Hp(n,o,o.type,o.pendingProps,a);case 7:return rt(n,o,o.pendingProps,a),o.child;case 8:return rt(n,o,o.pendingProps.children,a),o.child;case 12:return rt(n,o,o.pendingProps.children,a),o.child;case 10:return r=o.pendingProps,Jn(o,o.type,r.value),rt(n,o,r.children,a),o.child;case 9:return m=o.type._context,r=o.pendingProps.children,Mi(o),m=lt(m),r=r(m),o.flags|=1,rt(n,o,r,a),o.child;case 14:return Op(n,o,o.type,o.pendingProps,a);case 15:return Bp(n,o,o.type,o.pendingProps,a);case 19:return Qp(n,o,a);case 31:return RC(n,o,a);case 22:return kp(n,o,a,o.pendingProps);case 24:return Mi(o),r=lt(Qe),n===null?(m=eu(),m===null&&(m=Ge,y=$r(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),o.memoizedState={parent:r,cache:m},nu(o),Jn(o,Qe,m)):((n.lanes&a)!==0&&(iu(n,o),gs(o,null,null,a),ms()),m=n.memoizedState,y=o.memoizedState,m.parent!==r?(m={parent:r,cache:r},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Jn(o,Qe,r)):(r=y.cache,Jn(o,Qe,r),r!==m.cache&&Wr(o,[Qe],a,!0))),rt(n,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function xn(n){n.flags|=4}function Hu(n,o,a,r,m){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Am())n.flags|=8192;else throw Ii=ba,tu}else n.flags&=-16777217}function Wp(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!dg(o))if(Am())n.flags|=8192;else throw Ii=ba,tu}function Qa(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Dd():536870912,n.lanes|=o,To|=o)}function Cs(n,o){if(!Re)switch(n.tailMode){case"hidden":o=n.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Oe(n){var o=n.alternate!==null&&n.alternate.child===n.child,a=0,r=0;if(o)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=r,n.childLanes=a,o}function xC(n,o,a){var r=o.pendingProps;switch(Jr(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(o),null;case 1:return Oe(o),null;case 3:return a=o.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),An(Qe),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(so(o)?xn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xr())),Oe(o),null;case 26:var m=o.type,y=o.memoizedState;return n===null?(xn(o),y!==null?(Oe(o),Wp(o,y)):(Oe(o),Hu(o,m,null,r,a))):y?y!==n.memoizedState?(xn(o),Oe(o),Wp(o,y)):(Oe(o),o.flags&=-16777217):(n=n.memoizedProps,n!==r&&xn(o),Oe(o),Hu(o,m,n,r,a)),null;case 27:if(aa(o),a=Se.current,m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==r&&xn(o);else{if(!r){if(o.stateNode===null)throw Error(s(166));return Oe(o),null}n=le.current,so(o)?Dh(o):(n=og(m,r,a),o.stateNode=n,xn(o))}return Oe(o),null;case 5:if(aa(o),m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==r&&xn(o);else{if(!r){if(o.stateNode===null)throw Error(s(166));return Oe(o),null}if(y=le.current,so(o))Dh(o);else{var E=cl(Se.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?y.multiple=!0:r.size&&(y.size=r.size);break;default:y=typeof r.is=="string"?E.createElement(m,{is:r.is}):E.createElement(m)}}y[st]=o,y[St]=r;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=y;e:switch(ut(y,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xn(o)}}return Oe(o),Hu(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,a),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==r&&xn(o);else{if(typeof r!="string"&&o.stateNode===null)throw Error(s(166));if(n=Se.current,so(o)){if(n=o.stateNode,a=o.memoizedProps,r=null,m=at,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}n[st]=o,n=!!(n.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Km(n.nodeValue,a)),n||Yn(o,!0)}else n=cl(n).createTextNode(r),n[st]=o,o.stateNode=n}return Oe(o),null;case 31:if(a=o.memoizedState,n===null||n.memoizedState!==null){if(r=so(o),a!==null){if(n===null){if(!r)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[st]=o}else _i(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Oe(o),n=!1}else a=Xr(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return o.flags&256?(Lt(o),o):(Lt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Oe(o),null;case 13:if(r=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=so(o),r!==null&&r.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[st]=o}else _i(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Oe(o),m=!1}else m=Xr(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Lt(o),o):(Lt(o),null)}return Lt(o),(o.flags&128)!==0?(o.lanes=a,o):(a=r!==null,n=n!==null&&n.memoizedState!==null,a&&(r=o.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),y=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==m&&(r.flags|=2048)),a!==n&&a&&(o.child.flags|=8192),Qa(o,o.updateQueue),Oe(o),null);case 4:return Je(),n===null&&ac(o.stateNode.containerInfo),Oe(o),null;case 10:return An(o.type),Oe(o),null;case 19:if(X(Ke),r=o.memoizedState,r===null)return Oe(o),null;if(m=(o.flags&128)!==0,y=r.rendering,y===null)if(m)Cs(r,!1);else{if(Fe!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(y=Pa(n),y!==null){for(o.flags|=128,Cs(r,!1),n=y.updateQueue,o.updateQueue=n,Qa(o,n),o.subtreeFlags=0,n=a,a=o.child;a!==null;)Rh(a,n),a=a.sibling;return ne(Ke,Ke.current&1|2),Re&&En(o,r.treeForkCount),o.child}n=n.sibling}r.tail!==null&&Nt()>el&&(o.flags|=128,m=!0,Cs(r,!1),o.lanes=4194304)}else{if(!m)if(n=Pa(y),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,Qa(o,n),Cs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!Re)return Oe(o),null}else 2*Nt()-r.renderingStartTime>el&&a!==536870912&&(o.flags|=128,m=!0,Cs(r,!1),o.lanes=4194304);r.isBackwards?(y.sibling=o.child,o.child=y):(n=r.last,n!==null?n.sibling=y:o.child=y,r.last=y)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=Nt(),n.sibling=null,a=Ke.current,ne(Ke,m?a&1|2:a&1),Re&&En(o,r.treeForkCount),n):(Oe(o),null);case 22:case 23:return Lt(o),lu(),r=o.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(o.flags|=8192):r&&(o.flags|=8192),r?(a&536870912)!==0&&(o.flags&128)===0&&(Oe(o),o.subtreeFlags&6&&(o.flags|=8192)):Oe(o),a=o.updateQueue,a!==null&&Qa(o,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==a&&(o.flags|=2048),n!==null&&X(xi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),An(Qe),Oe(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function NC(n,o){switch(Jr(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return An(Qe),Je(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return aa(o),null;case 31:if(o.memoizedState!==null){if(Lt(o),o.alternate===null)throw Error(s(340));_i()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Lt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));_i()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return X(Ke),null;case 4:return Je(),null;case 10:return An(o.type),null;case 22:case 23:return Lt(o),lu(),n!==null&&X(xi),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return An(Qe),null;case 25:return null;default:return null}}function $p(n,o){switch(Jr(o),o.tag){case 3:An(Qe),Je();break;case 26:case 27:case 5:aa(o);break;case 4:Je();break;case 31:o.memoizedState!==null&&Lt(o);break;case 13:Lt(o);break;case 19:X(Ke);break;case 10:An(o.type);break;case 22:case 23:Lt(o),lu(),n!==null&&X(xi);break;case 24:An(Qe)}}function As(n,o){try{var a=o.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var m=r.next;a=m;do{if((a.tag&n)===n){r=void 0;var y=a.create,E=a.inst;r=y(),E.destroy=r}a=a.next}while(a!==m)}}catch(A){Ue(o,o.return,A)}}function $n(n,o,a){try{var r=o.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var y=m.next;r=y;do{if((r.tag&n)===n){var E=r.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,m=o;var M=a,P=A;try{P()}catch(z){Ue(m,M,z)}}}r=r.next}while(r!==y)}}catch(z){Ue(o,o.return,z)}}function jp(n){var o=n.updateQueue;if(o!==null){var a=n.stateNode;try{zh(o,a)}catch(r){Ue(n,n.return,r)}}}function em(n,o,a){a.props=bi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(r){Ue(n,o,r)}}function _s(n,o){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof a=="function"?n.refCleanup=a(r):a.current=r}}catch(m){Ue(n,o,m)}}function dn(n,o){var a=n.ref,r=n.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(m){Ue(n,o,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Ue(n,o,m)}else a.current=null}function tm(n){var o=n.type,a=n.memoizedProps,r=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(m){Ue(n,n.return,m)}}function Ou(n,o,a){try{var r=n.stateNode;ZC(r,n.type,a,o),r[St]=o}catch(m){Ue(n,n.return,m)}}function nm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&si(n.type)||n.tag===4}function Bu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&si(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ku(n,o,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(n),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=vn));else if(r!==4&&(r===27&&si(n.type)&&(a=n.stateNode,o=null),n=n.child,n!==null))for(ku(n,o,a),n=n.sibling;n!==null;)ku(n,o,a),n=n.sibling}function Za(n,o,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,o?a.insertBefore(n,o):a.appendChild(n);else if(r!==4&&(r===27&&si(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Za(n,o,a),n=n.sibling;n!==null;)Za(n,o,a),n=n.sibling}function im(n){var o=n.stateNode,a=n.memoizedProps;try{for(var r=n.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);ut(o,r,a),o[st]=n,o[St]=a}catch(y){Ue(n,n.return,y)}}var Nn=!1,$e=!1,qu=!1,om=typeof WeakSet=="function"?WeakSet:Set,it=null;function IC(n,o){if(n=n.containerInfo,uc=yl,n=gh(n),Vr(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var m=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,A=-1,M=-1,P=0,z=0,J=n,G=null;t:for(;;){for(var B;J!==a||m!==0&&J.nodeType!==3||(A=E+m),J!==y||r!==0&&J.nodeType!==3||(M=E+r),J.nodeType===3&&(E+=J.nodeValue.length),(B=J.firstChild)!==null;)G=J,J=B;for(;;){if(J===n)break t;if(G===a&&++P===m&&(A=E),G===y&&++z===r&&(M=E),(B=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=B}a=A===-1||M===-1?null:{start:A,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(cc={focusedElem:n,selectionRange:a},yl=!1,it=o;it!==null;)if(o=it,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,it=n;else for(;it!==null;){switch(o=it,y=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=o,m=y.memoizedProps,y=y.memoizedState,r=a.stateNode;try{var ae=bi(a.type,m);n=r.getSnapshotBeforeUpdate(ae,y),r.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Ue(a,a.return,ce)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,a=n.nodeType,a===9)hc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,it=n;break}it=o.return}}function sm(n,o,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Dn(n,a),r&4&&As(5,a);break;case 1:if(Dn(n,a),r&4)if(n=a.stateNode,o===null)try{n.componentDidMount()}catch(E){Ue(a,a.return,E)}else{var m=bi(a.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(m,o,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ue(a,a.return,E)}}r&64&&jp(a),r&512&&_s(a,a.return);break;case 3:if(Dn(n,a),r&64&&(n=a.updateQueue,n!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{zh(n,o)}catch(E){Ue(a,a.return,E)}}break;case 27:o===null&&r&4&&im(a);case 26:case 5:Dn(n,a),o===null&&r&4&&tm(a),r&512&&_s(a,a.return);break;case 12:Dn(n,a);break;case 31:Dn(n,a),r&4&&rm(n,a);break;case 13:Dn(n,a),r&4&&um(n,a),r&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=HC.bind(null,a),oA(n,a))));break;case 22:if(r=a.memoizedState!==null||Nn,!r){o=o!==null&&o.memoizedState!==null||$e,m=Nn;var y=$e;Nn=r,($e=o)&&!y?wn(n,a,(a.subtreeFlags&8772)!==0):Dn(n,a),Nn=m,$e=y}break;case 30:break;default:Dn(n,a)}}function am(n){var o=n.alternate;o!==null&&(n.alternate=null,am(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&vr(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Be=null,Ct=!1;function In(n,o,a){for(a=a.child;a!==null;)lm(n,o,a),a=a.sibling}function lm(n,o,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Xo,a)}catch{}switch(a.tag){case 26:$e||dn(a,o),In(n,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:$e||dn(a,o);var r=Be,m=Ct;si(a.type)&&(Be=a.stateNode,Ct=!1),In(n,o,a),Us(a.stateNode),Be=r,Ct=m;break;case 5:$e||dn(a,o);case 6:if(r=Be,m=Ct,Be=null,In(n,o,a),Be=r,Ct=m,Be!==null)if(Ct)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(y){Ue(a,o,y)}else try{Be.removeChild(a.stateNode)}catch(y){Ue(a,o,y)}break;case 18:Be!==null&&(Ct?(n=Be,jm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),xo(n)):jm(Be,a.stateNode));break;case 4:r=Be,m=Ct,Be=a.stateNode.containerInfo,Ct=!0,In(n,o,a),Be=r,Ct=m;break;case 0:case 11:case 14:case 15:$n(2,a,o),$e||$n(4,a,o),In(n,o,a);break;case 1:$e||(dn(a,o),r=a.stateNode,typeof r.componentWillUnmount=="function"&&em(a,o,r)),In(n,o,a);break;case 21:In(n,o,a);break;case 22:$e=(r=$e)||a.memoizedState!==null,In(n,o,a),$e=r;break;default:In(n,o,a)}}function rm(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{xo(n)}catch(a){Ue(o,o.return,a)}}}function um(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xo(n)}catch(a){Ue(o,o.return,a)}}function DC(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new om),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new om),o;default:throw Error(s(435,n.tag))}}function Wa(n,o){var a=DC(n);o.forEach(function(r){if(!a.has(r)){a.add(r);var m=OC.bind(null,n,r);r.then(m,m)}})}function At(n,o){var a=o.deletions;if(a!==null)for(var r=0;r<a.length;r++){var m=a[r],y=n,E=o,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(si(A.type)){Be=A.stateNode,Ct=!1;break e}break;case 5:Be=A.stateNode,Ct=!1;break e;case 3:case 4:Be=A.stateNode.containerInfo,Ct=!0;break e}A=A.return}if(Be===null)throw Error(s(160));lm(y,E,m),Be=null,Ct=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)cm(o,n),o=o.sibling}var tn=null;function cm(n,o){var a=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:At(o,n),_t(n),r&4&&($n(3,n,n.return),As(3,n),$n(5,n,n.return));break;case 1:At(o,n),_t(n),r&512&&($e||a===null||dn(a,a.return)),r&64&&Nn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var m=tn;if(At(o,n),_t(n),r&512&&($e||a===null||dn(a,a.return)),r&4){var y=a!==null?a.memoizedState:null;if(r=n.memoizedState,a===null)if(r===null)if(n.stateNode===null){e:{r=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Wo]||y[st]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(r),m.head.insertBefore(y,m.querySelector("head > title"))),ut(y,r,a),y[st]=n,nt(y),r=y;break e;case"link":var E=cg("link","href",m).get(r+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}y=m.createElement(r),ut(y,r,a),m.head.appendChild(y);break;case"meta":if(E=cg("meta","content",m).get(r+(a.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}y=m.createElement(r),ut(y,r,a),m.head.appendChild(y);break;default:throw Error(s(468,r))}y[st]=n,nt(y),r=y}n.stateNode=r}else fg(m,n.type,n.stateNode);else n.stateNode=ug(m,r,n.memoizedProps);else y!==r?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,r===null?fg(m,n.type,n.stateNode):ug(m,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Ou(n,n.memoizedProps,a.memoizedProps)}break;case 27:At(o,n),_t(n),r&512&&($e||a===null||dn(a,a.return)),a!==null&&r&4&&Ou(n,n.memoizedProps,a.memoizedProps);break;case 5:if(At(o,n),_t(n),r&512&&($e||a===null||dn(a,a.return)),n.flags&32){m=n.stateNode;try{Qi(m,"")}catch(ae){Ue(n,n.return,ae)}}r&4&&n.stateNode!=null&&(m=n.memoizedProps,Ou(n,m,a!==null?a.memoizedProps:m)),r&1024&&(qu=!0);break;case 6:if(At(o,n),_t(n),r&4){if(n.stateNode===null)throw Error(s(162));r=n.memoizedProps,a=n.stateNode;try{a.nodeValue=r}catch(ae){Ue(n,n.return,ae)}}break;case 3:if(hl=null,m=tn,tn=fl(o.containerInfo),At(o,n),tn=m,_t(n),r&4&&a!==null&&a.memoizedState.isDehydrated)try{xo(o.containerInfo)}catch(ae){Ue(n,n.return,ae)}qu&&(qu=!1,fm(n));break;case 4:r=tn,tn=fl(n.stateNode.containerInfo),At(o,n),_t(n),tn=r;break;case 12:At(o,n),_t(n);break;case 31:At(o,n),_t(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Wa(n,r)));break;case 13:At(o,n),_t(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ja=Nt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Wa(n,r)));break;case 22:m=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,P=Nn,z=$e;if(Nn=P||m,$e=z||M,At(o,n),$e=z,Nn=P,_t(n),r&8192)e:for(o=n.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(a===null||M||Nn||$e||Ui(n)),a=null,o=n;;){if(o.tag===5||o.tag===26){if(a===null){M=a=o;try{if(y=M.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=M.stateNode;var J=M.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ae){Ue(M,M.return,ae)}}}else if(o.tag===6){if(a===null){M=o;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(ae){Ue(M,M.return,ae)}}}else if(o.tag===18){if(a===null){M=o;try{var B=M.stateNode;m?eg(B,!0):eg(M.stateNode,!1)}catch(ae){Ue(M,M.return,ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}r&4&&(r=n.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Wa(n,a))));break;case 19:At(o,n),_t(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Wa(n,r)));break;case 30:break;case 21:break;default:At(o,n),_t(n)}}function _t(n){var o=n.flags;if(o&2){try{for(var a,r=n.return;r!==null;){if(nm(r)){a=r;break}r=r.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,y=Bu(n);Za(n,y,m);break;case 5:var E=a.stateNode;a.flags&32&&(Qi(E,""),a.flags&=-33);var A=Bu(n);Za(n,A,E);break;case 3:case 4:var M=a.stateNode.containerInfo,P=Bu(n);ku(n,P,M);break;default:throw Error(s(161))}}catch(z){Ue(n,n.return,z)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function fm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;fm(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Dn(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)sm(n,o.alternate,o),o=o.sibling}function Ui(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:$n(4,o,o.return),Ui(o);break;case 1:dn(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&em(o,o.return,a),Ui(o);break;case 27:Us(o.stateNode);case 26:case 5:dn(o,o.return),Ui(o);break;case 22:o.memoizedState===null&&Ui(o);break;case 30:Ui(o);break;default:Ui(o)}n=n.sibling}}function wn(n,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var r=o.alternate,m=n,y=o,E=y.flags;switch(y.tag){case 0:case 11:case 15:wn(m,y,a),As(4,y);break;case 1:if(wn(m,y,a),r=y,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(P){Ue(r,r.return,P)}if(r=y,m=r.updateQueue,m!==null){var A=r.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)qh(M[m],A)}catch(P){Ue(r,r.return,P)}}a&&E&64&&jp(y),_s(y,y.return);break;case 27:im(y);case 26:case 5:wn(m,y,a),a&&r===null&&E&4&&tm(y),_s(y,y.return);break;case 12:wn(m,y,a);break;case 31:wn(m,y,a),a&&E&4&&rm(m,y);break;case 13:wn(m,y,a),a&&E&4&&um(m,y);break;case 22:y.memoizedState===null&&wn(m,y,a),_s(y,y.return);break;case 30:break;default:wn(m,y,a)}o=o.sibling}}function zu(n,o){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&cs(a))}function Fu(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&cs(n))}function nn(n,o,a,r){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dm(n,o,a,r),o=o.sibling}function dm(n,o,a,r){var m=o.flags;switch(o.tag){case 0:case 11:case 15:nn(n,o,a,r),m&2048&&As(9,o);break;case 1:nn(n,o,a,r);break;case 3:nn(n,o,a,r),m&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&cs(n)));break;case 12:if(m&2048){nn(n,o,a,r),n=o.stateNode;try{var y=o.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Ue(o,o.return,M)}}else nn(n,o,a,r);break;case 31:nn(n,o,a,r);break;case 13:nn(n,o,a,r);break;case 23:break;case 22:y=o.stateNode,E=o.alternate,o.memoizedState!==null?y._visibility&2?nn(n,o,a,r):Rs(n,o):y._visibility&2?nn(n,o,a,r):(y._visibility|=2,go(n,o,a,r,(o.subtreeFlags&10256)!==0||!1)),m&2048&&zu(E,o);break;case 24:nn(n,o,a,r),m&2048&&Fu(o.alternate,o);break;default:nn(n,o,a,r)}}function go(n,o,a,r,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=n,E=o,A=a,M=r,P=E.flags;switch(E.tag){case 0:case 11:case 15:go(y,E,A,M,m),As(8,E);break;case 23:break;case 22:var z=E.stateNode;E.memoizedState!==null?z._visibility&2?go(y,E,A,M,m):Rs(y,E):(z._visibility|=2,go(y,E,A,M,m)),m&&P&2048&&zu(E.alternate,E);break;case 24:go(y,E,A,M,m),m&&P&2048&&Fu(E.alternate,E);break;default:go(y,E,A,M,m)}o=o.sibling}}function Rs(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=n,r=o,m=r.flags;switch(r.tag){case 22:Rs(a,r),m&2048&&zu(r.alternate,r);break;case 24:Rs(a,r),m&2048&&Fu(r.alternate,r);break;default:Rs(a,r)}o=o.sibling}}var Ms=8192;function yo(n,o,a){if(n.subtreeFlags&Ms)for(n=n.child;n!==null;)hm(n,o,a),n=n.sibling}function hm(n,o,a){switch(n.tag){case 26:yo(n,o,a),n.flags&Ms&&n.memoizedState!==null&&gA(a,tn,n.memoizedState,n.memoizedProps);break;case 5:yo(n,o,a);break;case 3:case 4:var r=tn;tn=fl(n.stateNode.containerInfo),yo(n,o,a),tn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ms,Ms=16777216,yo(n,o,a),Ms=r):yo(n,o,a));break;default:yo(n,o,a)}}function pm(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function xs(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var r=o[a];it=r,gm(r,n)}pm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mm(n),n=n.sibling}function mm(n){switch(n.tag){case 0:case 11:case 15:xs(n),n.flags&2048&&$n(9,n,n.return);break;case 3:xs(n);break;case 12:xs(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,$a(n)):xs(n);break;default:xs(n)}}function $a(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var r=o[a];it=r,gm(r,n)}pm(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:$n(8,o,o.return),$a(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,$a(o));break;default:$a(o)}n=n.sibling}}function gm(n,o){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:$n(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:cs(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,it=r;else e:for(a=n;it!==null;){r=it;var m=r.sibling,y=r.return;if(am(r),r===a){it=null;break e}if(m!==null){m.return=y,it=m;break e}it=y}}}var wC={getCacheForType:function(n){var o=lt(Qe),a=o.data.get(n);return a===void 0&&(a=n(),o.data.set(n,a)),a},cacheSignal:function(){return lt(Qe).controller.signal}},bC=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,Ee=null,Ae=0,be=0,Vt=null,jn=!1,vo=!1,Yu=!1,bn=0,Fe=0,ei=0,Li=0,Ju=0,Pt=0,To=0,Ns=null,Rt=null,Ku=!1,ja=0,ym=0,el=1/0,tl=null,ti=null,et=0,ni=null,So=null,Un=0,Xu=0,Qu=null,vm=null,Is=0,Zu=null;function Gt(){return(De&2)!==0&&Ae!==0?Ae&-Ae:O.T!==null?nc():Ld()}function Tm(){if(Pt===0)if((Ae&536870912)===0||Re){var n=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),Pt=n}else Pt=536870912;return n=Ut.current,n!==null&&(n.flags|=32),Pt}function Mt(n,o,a){(n===Ge&&(be===2||be===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),ii(n,Ae,Pt,!1)),Zo(n,a),((De&2)===0||n!==Ge)&&(n===Ge&&((De&2)===0&&(Li|=a),Fe===4&&ii(n,Ae,Pt,!1)),hn(n))}function Sm(n,o,a){if((De&6)!==0)throw Error(s(327));var r=!a&&(o&127)===0&&(o&n.expiredLanes)===0||Qo(n,o),m=r?VC(n,o):$u(n,o,!0),y=r;do{if(m===0){vo&&!r&&ii(n,o,0,!1);break}else{if(a=n.current.alternate,y&&!UC(a)){m=$u(n,o,!1),y=!1;continue}if(m===2){if(y=o,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var A=n;m=Ns;var M=A.current.memoizedState.isDehydrated;if(M&&(Eo(A,E).flags|=256),E=$u(A,E,!1),E!==2){if(Yu&&!M){A.errorRecoveryDisabledLanes|=y,Li|=y,m=4;break e}y=Rt,Rt=m,y!==null&&(Rt===null?Rt=y:Rt.push.apply(Rt,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){Eo(n,0),ii(n,o,0,!0);break}e:{switch(r=n,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:ii(r,o,Pt,!jn);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(m=ja+300-Nt(),10<m)){if(ii(r,o,Pt,!jn),fa(r,0,!0)!==0)break e;Un=o,r.timeoutHandle=Wm(Em.bind(null,r,a,Rt,tl,Ku,o,Pt,Li,To,jn,y,"Throttled",-0,0),m);break e}Em(r,a,Rt,tl,Ku,o,Pt,Li,To,jn,y,null,-0,0)}}break}while(!0);hn(n)}function Em(n,o,a,r,m,y,E,A,M,P,z,J,G,B){if(n.timeoutHandle=-1,J=o.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},hm(o,y,J);var ae=(y&62914560)===y?ja-Nt():(y&4194048)===y?ym-Nt():0;if(ae=yA(J,ae),ae!==null){Un=y,n.cancelPendingCommit=ae(Im.bind(null,n,o,y,a,r,m,E,A,M,z,J,null,G,B)),ii(n,y,E,!P);return}}Im(n,o,y,a,r,m,E,A,M)}function UC(n){for(var o=n;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var m=a[r],y=m.getSnapshot;m=m.value;try{if(!wt(y(),m))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ii(n,o,a,r){o&=~Ju,o&=~Li,n.suspendedLanes|=o,n.pingedLanes&=~o,r&&(n.warmLanes|=o),r=n.expirationTimes;for(var m=o;0<m;){var y=31-Dt(m),E=1<<y;r[y]=-1,m&=~E}a!==0&&wd(n,a,o)}function nl(){return(De&6)===0?(Ds(0),!1):!0}function Wu(){if(Ee!==null){if(be===0)var n=Ee.return;else n=Ee,Cn=Ri=null,hu(n),co=null,ds=0,n=Ee;for(;n!==null;)$p(n.alternate,n),n=n.return;Ee=null}}function Eo(n,o){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,jC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Un=0,Wu(),Ge=n,Ee=a=Sn(n.current,null),Ae=o,be=0,Vt=null,jn=!1,vo=Qo(n,o),Yu=!1,To=Pt=Ju=Li=ei=Fe=0,Rt=Ns=null,Ku=!1,(o&8)!==0&&(o|=o&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=o;0<r;){var m=31-Dt(r),y=1<<m;o|=n[m],r&=~y}return bn=o,Aa(),a}function Cm(n,o){ye=null,O.H=Ss,o===uo||o===wa?(o=Hh(),be=3):o===tu?(o=Hh(),be=4):be=o===Iu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Vt=o,Ee===null&&(Fe=1,Ya(n,kt(o,n.current)))}function Am(){var n=Ut.current;return n===null?!0:(Ae&4194048)===Ae?Yt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?n===Yt:!1}function _m(){var n=O.H;return O.H=Ss,n===null?Ss:n}function Rm(){var n=O.A;return O.A=wC,n}function il(){Fe=4,jn||(Ae&4194048)!==Ae&&Ut.current!==null||(vo=!0),(ei&134217727)===0&&(Li&134217727)===0||Ge===null||ii(Ge,Ae,Pt,!1)}function $u(n,o,a){var r=De;De|=2;var m=_m(),y=Rm();(Ge!==n||Ae!==o)&&(tl=null,Eo(n,o)),o=!1;var E=Fe;e:do try{if(be!==0&&Ee!==null){var A=Ee,M=Vt;switch(be){case 8:Wu(),E=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(o=!0);var P=be;if(be=0,Vt=null,Co(n,A,M,P),a&&vo){E=0;break e}break;default:P=be,be=0,Vt=null,Co(n,A,M,P)}}LC(),E=Fe;break}catch(z){Cm(n,z)}while(!0);return o&&n.shellSuspendCounter++,Cn=Ri=null,De=r,O.H=m,O.A=y,Ee===null&&(Ge=null,Ae=0,Aa()),E}function LC(){for(;Ee!==null;)Mm(Ee)}function VC(n,o){var a=De;De|=2;var r=_m(),m=Rm();Ge!==n||Ae!==o?(tl=null,el=Nt()+500,Eo(n,o)):vo=Qo(n,o);e:do try{if(be!==0&&Ee!==null){o=Ee;var y=Vt;t:switch(be){case 1:be=0,Vt=null,Co(n,o,y,1);break;case 2:case 9:if(Ph(y)){be=0,Vt=null,xm(o);break}o=function(){be!==2&&be!==9||Ge!==n||(be=7),hn(n)},y.then(o,o);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Ph(y)?(be=0,Vt=null,xm(o)):(be=0,Vt=null,Co(n,o,y,7));break;case 5:var E=null;switch(Ee.tag){case 26:E=Ee.memoizedState;case 5:case 27:var A=Ee;if(E?dg(E):A.stateNode.complete){be=0,Vt=null;var M=A.sibling;if(M!==null)Ee=M;else{var P=A.return;P!==null?(Ee=P,ol(P)):Ee=null}break t}}be=0,Vt=null,Co(n,o,y,5);break;case 6:be=0,Vt=null,Co(n,o,y,6);break;case 8:Wu(),Fe=6;break e;default:throw Error(s(462))}}PC();break}catch(z){Cm(n,z)}while(!0);return Cn=Ri=null,O.H=r,O.A=m,De=a,Ee!==null?0:(Ge=null,Ae=0,Aa(),Fe)}function PC(){for(;Ee!==null&&!sE();)Mm(Ee)}function Mm(n){var o=Zp(n.alternate,n,bn);n.memoizedProps=n.pendingProps,o===null?ol(n):Ee=o}function xm(n){var o=n,a=o.alternate;switch(o.tag){case 15:case 0:o=Fp(a,o,o.pendingProps,o.type,void 0,Ae);break;case 11:o=Fp(a,o,o.pendingProps,o.type.render,o.ref,Ae);break;case 5:hu(o);default:$p(a,o),o=Ee=Rh(o,bn),o=Zp(a,o,bn)}n.memoizedProps=n.pendingProps,o===null?ol(n):Ee=o}function Co(n,o,a,r){Cn=Ri=null,hu(o),co=null,ds=0;var m=o.return;try{if(_C(n,m,o,a,Ae)){Fe=1,Ya(n,kt(a,n.current)),Ee=null;return}}catch(y){if(m!==null)throw Ee=m,y;Fe=1,Ya(n,kt(a,n.current)),Ee=null;return}o.flags&32768?(Re||r===1?n=!0:vo||(Ae&536870912)!==0?n=!1:(jn=n=!0,(r===2||r===9||r===3||r===6)&&(r=Ut.current,r!==null&&r.tag===13&&(r.flags|=16384))),Nm(o,n)):ol(o)}function ol(n){var o=n;do{if((o.flags&32768)!==0){Nm(o,jn);return}n=o.return;var a=xC(o.alternate,o,bn);if(a!==null){Ee=a;return}if(o=o.sibling,o!==null){Ee=o;return}Ee=o=n}while(o!==null);Fe===0&&(Fe=5)}function Nm(n,o){do{var a=NC(n.alternate,n);if(a!==null){a.flags&=32767,Ee=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=a}while(n!==null);Fe=6,Ee=null}function Im(n,o,a,r,m,y,E,A,M){n.cancelPendingCommit=null;do sl();while(et!==0);if((De&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(y=o.lanes|o.childLanes,y|=Br,mE(n,a,y,E,A,M),n===Ge&&(Ee=Ge=null,Ae=0),So=o,ni=n,Un=a,Xu=y,Qu=m,vm=r,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,BC(la,function(){return Lm(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,m=Z.p,Z.p=2,E=De,De|=4;try{IC(n,o,a)}finally{De=E,Z.p=m,O.T=r}}et=1,Dm(),wm(),bm()}}function Dm(){if(et===1){et=0;var n=ni,o=So,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var r=Z.p;Z.p=2;var m=De;De|=4;try{cm(o,n);var y=cc,E=gh(n.containerInfo),A=y.focusedElem,M=y.selectionRange;if(E!==A&&A&&A.ownerDocument&&mh(A.ownerDocument.documentElement,A)){if(M!==null&&Vr(A)){var P=M.start,z=M.end;if(z===void 0&&(z=P),"selectionStart"in A)A.selectionStart=P,A.selectionEnd=Math.min(z,A.value.length);else{var J=A.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var B=G.getSelection(),ae=A.textContent.length,ce=Math.min(M.start,ae),Pe=M.end===void 0?ce:Math.min(M.end,ae);!B.extend&&ce>Pe&&(E=Pe,Pe=ce,ce=E);var U=ph(A,ce),w=ph(A,Pe);if(U&&w&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==w.node||B.focusOffset!==w.offset)){var V=J.createRange();V.setStart(U.node,U.offset),B.removeAllRanges(),ce>Pe?(B.addRange(V),B.extend(w.node,w.offset)):(V.setEnd(w.node,w.offset),B.addRange(V))}}}}for(J=[],B=A;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Y=J[A];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yl=!!uc,cc=uc=null}finally{De=m,Z.p=r,O.T=a}}n.current=o,et=2}}function wm(){if(et===2){et=0;var n=ni,o=So,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var r=Z.p;Z.p=2;var m=De;De|=4;try{sm(n,o.alternate,o)}finally{De=m,Z.p=r,O.T=a}}et=3}}function bm(){if(et===4||et===3){et=0,aE();var n=ni,o=So,a=Un,r=vm;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?et=5:(et=0,So=ni=null,Um(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ti=null),gr(a),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Xo,o,void 0,(o.current.flags&128)===128)}catch{}if(r!==null){o=O.T,m=Z.p,Z.p=2,O.T=null;try{for(var y=n.onRecoverableError,E=0;E<r.length;E++){var A=r[E];y(A.value,{componentStack:A.stack})}}finally{O.T=o,Z.p=m}}(Un&3)!==0&&sl(),hn(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===Zu?Is++:(Is=0,Zu=n):Is=0,Ds(0)}}function Um(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,cs(o)))}function sl(){return Dm(),wm(),bm(),Lm()}function Lm(){if(et!==5)return!1;var n=ni,o=Xu;Xu=0;var a=gr(Un),r=O.T,m=Z.p;try{Z.p=32>a?32:a,O.T=null,a=Qu,Qu=null;var y=ni,E=Un;if(et=0,So=ni=null,Un=0,(De&6)!==0)throw Error(s(331));var A=De;if(De|=4,mm(y.current),dm(y,y.current,E,a),De=A,Ds(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Xo,y)}catch{}return!0}finally{Z.p=m,O.T=r,Um(n,o)}}function Vm(n,o,a){o=kt(a,o),o=Nu(n.stateNode,o,2),n=Qn(n,o,2),n!==null&&(Zo(n,2),hn(n))}function Ue(n,o,a){if(n.tag===3)Vm(n,n,a);else for(;o!==null;){if(o.tag===3){Vm(o,n,a);break}else if(o.tag===1){var r=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){n=kt(a,n),a=Pp(2),r=Qn(o,a,2),r!==null&&(Gp(a,r,o,n),Zo(r,2),hn(r));break}}o=o.return}}function ju(n,o,a){var r=n.pingCache;if(r===null){r=n.pingCache=new bC;var m=new Set;r.set(o,m)}else m=r.get(o),m===void 0&&(m=new Set,r.set(o,m));m.has(a)||(Yu=!0,m.add(a),n=GC.bind(null,n,o,a),o.then(n,n))}function GC(n,o,a){var r=n.pingCache;r!==null&&r.delete(o),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ge===n&&(Ae&a)===a&&(Fe===4||Fe===3&&(Ae&62914560)===Ae&&300>Nt()-ja?(De&2)===0&&Eo(n,0):Ju|=a,To===Ae&&(To=0)),hn(n)}function Pm(n,o){o===0&&(o=Dd()),n=Ci(n,o),n!==null&&(Zo(n,o),hn(n))}function HC(n){var o=n.memoizedState,a=0;o!==null&&(a=o.retryLane),Pm(n,a)}function OC(n,o){var a=0;switch(n.tag){case 31:case 13:var r=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(o),Pm(n,a)}function BC(n,o){return dr(n,o)}var al=null,Ao=null,ec=!1,ll=!1,tc=!1,oi=0;function hn(n){n!==Ao&&n.next===null&&(Ao===null?al=Ao=n:Ao=Ao.next=n),ll=!0,ec||(ec=!0,qC())}function Ds(n,o){if(!tc&&ll){tc=!0;do for(var a=!1,r=al;r!==null;){if(n!==0){var m=r.pendingLanes;if(m===0)var y=0;else{var E=r.suspendedLanes,A=r.pingedLanes;y=(1<<31-Dt(42|n)+1)-1,y&=m&~(E&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Bm(r,y))}else y=Ae,y=fa(r,r===Ge?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||Qo(r,y)||(a=!0,Bm(r,y));r=r.next}while(a);tc=!1}}function kC(){Gm()}function Gm(){ll=ec=!1;var n=0;oi!==0&&$C()&&(n=oi);for(var o=Nt(),a=null,r=al;r!==null;){var m=r.next,y=Hm(r,o);y===0?(r.next=null,a===null?al=m:a.next=m,m===null&&(Ao=a)):(a=r,(n!==0||(y&3)!==0)&&(ll=!0)),r=m}et!==0&&et!==5||Ds(n),oi!==0&&(oi=0)}function Hm(n,o){for(var a=n.suspendedLanes,r=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-Dt(y),A=1<<E,M=m[E];M===-1?((A&a)===0||(A&r)!==0)&&(m[E]=pE(A,o)):M<=o&&(n.expiredLanes|=A),y&=~A}if(o=Ge,a=Ae,a=fa(n,n===o?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,a===0||n===o&&(be===2||be===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&hr(r),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Qo(n,a)){if(o=a&-a,o===n.callbackPriority)return o;switch(r!==null&&hr(r),gr(a)){case 2:case 8:a=Nd;break;case 32:a=la;break;case 268435456:a=Id;break;default:a=la}return r=Om.bind(null,n),a=dr(a,r),n.callbackPriority=o,n.callbackNode=a,o}return r!==null&&r!==null&&hr(r),n.callbackPriority=2,n.callbackNode=null,2}function Om(n,o){if(et!==0&&et!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(sl()&&n.callbackNode!==a)return null;var r=Ae;return r=fa(n,n===Ge?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(Sm(n,r,o),Hm(n,Nt()),n.callbackNode!=null&&n.callbackNode===a?Om.bind(null,n):null)}function Bm(n,o){if(sl())return null;Sm(n,o,!0)}function qC(){eA(function(){(De&6)!==0?dr(xd,kC):Gm()})}function nc(){if(oi===0){var n=lo;n===0&&(n=ra,ra<<=1,(ra&261888)===0&&(ra=256)),oi=n}return oi}function km(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ma(""+n)}function qm(n,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,n.id&&a.setAttribute("form",n.id),o.parentNode.insertBefore(a,o),n=new FormData(n),a.parentNode.removeChild(a),n}function zC(n,o,a,r,m){if(o==="submit"&&a&&a.stateNode===m){var y=km((m[St]||null).action),E=r.submitter;E&&(o=(o=E[St]||null)?km(o.formAction):E.getAttribute("formAction"),o!==null&&(y=o,E=null));var A=new Ta("action","action",null,r,m);n.push({event:A,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(oi!==0){var M=E?qm(m,E):new FormData(m);Cu(a,{pending:!0,data:M,method:m.method,action:y},null,M)}}else typeof y=="function"&&(A.preventDefault(),M=E?qm(m,E):new FormData(m),Cu(a,{pending:!0,data:M,method:m.method,action:y},y,M))},currentTarget:m}]})}}for(var ic=0;ic<Or.length;ic++){var oc=Or[ic],FC=oc.toLowerCase(),YC=oc[0].toUpperCase()+oc.slice(1);en(FC,"on"+YC)}en(Th,"onAnimationEnd"),en(Sh,"onAnimationIteration"),en(Eh,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(lC,"onTransitionRun"),en(rC,"onTransitionStart"),en(uC,"onTransitionCancel"),en(Ch,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function zm(n,o){o=(o&4)!==0;for(var a=0;a<n.length;a++){var r=n[a],m=r.event;r=r.listeners;e:{var y=void 0;if(o)for(var E=r.length-1;0<=E;E--){var A=r[E],M=A.instance,P=A.currentTarget;if(A=A.listener,M!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=P;try{y(m)}catch(z){Ca(z)}m.currentTarget=null,y=M}else for(E=0;E<r.length;E++){if(A=r[E],M=A.instance,P=A.currentTarget,A=A.listener,M!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=P;try{y(m)}catch(z){Ca(z)}m.currentTarget=null,y=M}}}}function Ce(n,o){var a=o[yr];a===void 0&&(a=o[yr]=new Set);var r=n+"__bubble";a.has(r)||(Fm(o,n,2,!1),a.add(r))}function sc(n,o,a){var r=0;o&&(r|=4),Fm(a,n,r,o)}var rl="_reactListening"+Math.random().toString(36).slice(2);function ac(n){if(!n[rl]){n[rl]=!0,Gd.forEach(function(a){a!=="selectionchange"&&(JC.has(a)||sc(a,!1,n),sc(a,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[rl]||(o[rl]=!0,sc("selectionchange",!1,o))}}function Fm(n,o,a,r){switch(Tg(o)){case 2:var m=SA;break;case 8:m=EA;break;default:m=Ec}a=m.bind(null,o,a,n),m=void 0,!Mr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),r?m!==void 0?n.addEventListener(o,a,{capture:!0,passive:m}):n.addEventListener(o,a,!0):m!==void 0?n.addEventListener(o,a,{passive:m}):n.addEventListener(o,a,!1)}function lc(n,o,a,r,m){var y=r;if((o&1)===0&&(o&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var A=r.stateNode.containerInfo;if(A===m)break;if(E===4)for(E=r.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;A!==null;){if(E=Fi(A),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){r=y=E;continue e}A=A.parentNode}}r=r.return}Qd(function(){var P=y,z=_r(a),J=[];e:{var G=Ah.get(n);if(G!==void 0){var B=Ta,ae=n;switch(n){case"keypress":if(ya(a)===0)break e;case"keydown":case"keyup":B=OE;break;case"focusin":ae="focus",B=Dr;break;case"focusout":ae="blur",B=Dr;break;case"beforeblur":case"afterblur":B=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=xE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=qE;break;case Th:case Sh:case Eh:B=DE;break;case Ch:B=FE;break;case"scroll":case"scrollend":B=RE;break;case"wheel":B=JE;break;case"copy":case"cut":case"paste":B=bE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=eh;break;case"toggle":case"beforetoggle":B=XE}var ce=(o&4)!==0,Pe=!ce&&(n==="scroll"||n==="scrollend"),U=ce?G!==null?G+"Capture":null:G;ce=[];for(var w=P,V;w!==null;){var Y=w;if(V=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||V===null||U===null||(Y=jo(w,U),Y!=null&&ce.push(bs(w,Y,V))),Pe)break;w=w.return}0<ce.length&&(G=new B(G,ae,null,a,z),J.push({event:G,listeners:ce}))}}if((o&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",G&&a!==Ar&&(ae=a.relatedTarget||a.fromElement)&&(Fi(ae)||ae[zi]))break e;if((B||G)&&(G=z.window===z?z:(G=z.ownerDocument)?G.defaultView||G.parentWindow:window,B?(ae=a.relatedTarget||a.toElement,B=P,ae=ae?Fi(ae):null,ae!==null&&(Pe=u(ae),ce=ae.tag,ae!==Pe||ce!==5&&ce!==27&&ce!==6)&&(ae=null)):(B=null,ae=P),B!==ae)){if(ce=$d,Y="onMouseLeave",U="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(ce=eh,Y="onPointerLeave",U="onPointerEnter",w="pointer"),Pe=B==null?G:$o(B),V=ae==null?G:$o(ae),G=new ce(Y,w+"leave",B,a,z),G.target=Pe,G.relatedTarget=V,Y=null,Fi(z)===P&&(ce=new ce(U,w+"enter",ae,a,z),ce.target=V,ce.relatedTarget=Pe,Y=ce),Pe=Y,B&&ae)t:{for(ce=KC,U=B,w=ae,V=0,Y=U;Y;Y=ce(Y))V++;Y=0;for(var ue=w;ue;ue=ce(ue))Y++;for(;0<V-Y;)U=ce(U),V--;for(;0<Y-V;)w=ce(w),Y--;for(;V--;){if(U===w||w!==null&&U===w.alternate){ce=U;break t}U=ce(U),w=ce(w)}ce=null}else ce=null;B!==null&&Ym(J,G,B,ce,!1),ae!==null&&Pe!==null&&Ym(J,Pe,ae,ce,!0)}}e:{if(G=P?$o(P):window,B=G.nodeName&&G.nodeName.toLowerCase(),B==="select"||B==="input"&&G.type==="file")var Me=rh;else if(ah(G))if(uh)Me=oC;else{Me=nC;var re=tC}else B=G.nodeName,!B||B.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&Cr(P.elementType)&&(Me=rh):Me=iC;if(Me&&(Me=Me(n,P))){lh(J,Me,a,z);break e}re&&re(n,G,P),n==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&Er(G,"number",G.value)}switch(re=P?$o(P):window,n){case"focusin":(ah(re)||re.contentEditable==="true")&&(ji=re,Pr=P,ls=null);break;case"focusout":ls=Pr=ji=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,yh(J,a,z);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":yh(J,a,z)}var Te;if(br)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else $i?oh(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(th&&a.locale!=="ko"&&($i||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&$i&&(Te=Zd()):(qn=z,xr="value"in qn?qn.value:qn.textContent,$i=!0)),re=ul(P,_e),0<re.length&&(_e=new jd(_e,n,null,a,z),J.push({event:_e,listeners:re}),Te?_e.data=Te:(Te=sh(a),Te!==null&&(_e.data=Te)))),(Te=ZE?WE(n,a):$E(n,a))&&(_e=ul(P,"onBeforeInput"),0<_e.length&&(re=new jd("onBeforeInput","beforeinput",null,a,z),J.push({event:re,listeners:_e}),re.data=Te)),zC(J,n,P,a,z)}zm(J,o)})}function bs(n,o,a){return{instance:n,listener:o,currentTarget:a}}function ul(n,o){for(var a=o+"Capture",r=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=jo(n,a),m!=null&&r.unshift(bs(n,m,y)),m=jo(n,o),m!=null&&r.push(bs(n,m,y))),n.tag===3)return r;n=n.return}return[]}function KC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ym(n,o,a,r,m){for(var y=o._reactName,E=[];a!==null&&a!==r;){var A=a,M=A.alternate,P=A.stateNode;if(A=A.tag,M!==null&&M===r)break;A!==5&&A!==26&&A!==27||P===null||(M=P,m?(P=jo(a,y),P!=null&&E.unshift(bs(a,P,M))):m||(P=jo(a,y),P!=null&&E.push(bs(a,P,M)))),a=a.return}E.length!==0&&n.push({event:o,listeners:E})}var XC=/\r\n?/g,QC=/\u0000|\uFFFD/g;function Jm(n){return(typeof n=="string"?n:""+n).replace(XC,`
`).replace(QC,"")}function Km(n,o){return o=Jm(o),Jm(n)===o}function Ve(n,o,a,r,m,y){switch(a){case"children":typeof r=="string"?o==="body"||o==="textarea"&&r===""||Qi(n,r):(typeof r=="number"||typeof r=="bigint")&&o!=="body"&&Qi(n,""+r);break;case"className":ha(n,"class",r);break;case"tabIndex":ha(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ha(n,a,r);break;case"style":Kd(n,r,y);break;case"data":if(o!=="object"){ha(n,"data",r);break}case"src":case"href":if(r===""&&(o!=="a"||a!=="href")){n.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=ma(""+r),n.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(o!=="input"&&Ve(n,o,"name",m.name,m,null),Ve(n,o,"formEncType",m.formEncType,m,null),Ve(n,o,"formMethod",m.formMethod,m,null),Ve(n,o,"formTarget",m.formTarget,m,null)):(Ve(n,o,"encType",m.encType,m,null),Ve(n,o,"method",m.method,m,null),Ve(n,o,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=ma(""+r),n.setAttribute(a,r);break;case"onClick":r!=null&&(n.onclick=vn);break;case"onScroll":r!=null&&Ce("scroll",n);break;case"onScrollEnd":r!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}a=ma(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""+r):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":r===!0?n.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,r):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(a,r):n.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(a):n.setAttribute(a,r);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),da(n,"popover",r);break;case"xlinkActuate":yn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":yn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":yn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":yn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":yn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":yn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":yn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":yn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":yn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":da(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=AE.get(a)||a,da(n,a,r))}}function rc(n,o,a,r,m,y){switch(a){case"style":Kd(n,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof r=="string"?Qi(n,r):(typeof r=="number"||typeof r=="bigint")&&Qi(n,""+r);break;case"onScroll":r!=null&&Ce("scroll",n);break;case"onScrollEnd":r!=null&&Ce("scrollend",n);break;case"onClick":r!=null&&(n.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),o=a.slice(2,m?a.length-7:void 0),y=n[St]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(o,y,m),typeof r=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(o,r,m);break e}a in n?n[a]=r:r===!0?n.setAttribute(a,""):da(n,a,r)}}}function ut(n,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var r=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ve(n,o,y,E,a,null)}}m&&Ve(n,o,"srcSet",a.srcSet,a,null),r&&Ve(n,o,"src",a.src,a,null);return;case"input":Ce("invalid",n);var A=y=E=m=null,M=null,P=null;for(r in a)if(a.hasOwnProperty(r)){var z=a[r];if(z!=null)switch(r){case"name":m=z;break;case"type":E=z;break;case"checked":M=z;break;case"defaultChecked":P=z;break;case"value":y=z;break;case"defaultValue":A=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,o));break;default:Ve(n,o,r,z,a,null)}}zd(n,y,A,M,P,E,m,!1);return;case"select":Ce("invalid",n),r=E=y=null;for(m in a)if(a.hasOwnProperty(m)&&(A=a[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":r=A;default:Ve(n,o,m,A,a,null)}o=y,a=E,n.multiple=!!r,o!=null?Xi(n,!!r,o,!1):a!=null&&Xi(n,!!r,a,!0);return;case"textarea":Ce("invalid",n),y=m=r=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":r=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ve(n,o,E,A,a,null)}Yd(n,r,m,y);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ve(n,o,M,r,a,null)}return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(r=0;r<ws.length;r++)Ce(ws[r],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(r=a[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ve(n,o,P,r,a,null)}return;default:if(Cr(o)){for(z in a)a.hasOwnProperty(z)&&(r=a[z],r!==void 0&&rc(n,o,z,r,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(r=a[A],r!=null&&Ve(n,o,A,r,a,null))}function ZC(n,o,a,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,A=null,M=null,P=null,z=null;for(B in a){var J=a[B];if(a.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":M=J;default:r.hasOwnProperty(B)||Ve(n,o,B,null,r,J)}}for(var G in r){var B=r[G];if(J=a[G],r.hasOwnProperty(G)&&(B!=null||J!=null))switch(G){case"type":y=B;break;case"name":m=B;break;case"checked":P=B;break;case"defaultChecked":z=B;break;case"value":E=B;break;case"defaultValue":A=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,o));break;default:B!==J&&Ve(n,o,G,B,r,J)}}Sr(n,E,A,M,P,z,y,m);return;case"select":B=E=A=G=null;for(y in a)if(M=a[y],a.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":B=M;default:r.hasOwnProperty(y)||Ve(n,o,y,null,r,M)}for(m in r)if(y=r[m],M=a[m],r.hasOwnProperty(m)&&(y!=null||M!=null))switch(m){case"value":G=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==M&&Ve(n,o,m,y,r,M)}o=A,a=E,r=B,G!=null?Xi(n,!!a,G,!1):!!r!=!!a&&(o!=null?Xi(n,!!a,o,!0):Xi(n,!!a,a?[]:"",!1));return;case"textarea":B=G=null;for(A in a)if(m=a[A],a.hasOwnProperty(A)&&m!=null&&!r.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ve(n,o,A,null,r,m)}for(E in r)if(m=r[E],y=a[E],r.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":G=m;break;case"defaultValue":B=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Ve(n,o,E,m,r,y)}Fd(n,G,B);return;case"option":for(var ae in a)if(G=a[ae],a.hasOwnProperty(ae)&&G!=null&&!r.hasOwnProperty(ae))switch(ae){case"selected":n.selected=!1;break;default:Ve(n,o,ae,null,r,G)}for(M in r)if(G=r[M],B=a[M],r.hasOwnProperty(M)&&G!==B&&(G!=null||B!=null))switch(M){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ve(n,o,M,G,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!r.hasOwnProperty(ce)&&Ve(n,o,ce,null,r,G);for(P in r)if(G=r[P],B=a[P],r.hasOwnProperty(P)&&G!==B&&(G!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,o));break;default:Ve(n,o,P,G,r,B)}return;default:if(Cr(o)){for(var Pe in a)G=a[Pe],a.hasOwnProperty(Pe)&&G!==void 0&&!r.hasOwnProperty(Pe)&&rc(n,o,Pe,void 0,r,G);for(z in r)G=r[z],B=a[z],!r.hasOwnProperty(z)||G===B||G===void 0&&B===void 0||rc(n,o,z,G,r,B);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!r.hasOwnProperty(U)&&Ve(n,o,U,null,r,G);for(J in r)G=r[J],B=a[J],!r.hasOwnProperty(J)||G===B||G==null&&B==null||Ve(n,o,J,G,r,B)}function Xm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var m=a[r],y=m.transferSize,E=m.initiatorType,A=m.duration;if(y&&A&&Xm(E)){for(E=0,A=m.responseEnd,r+=1;r<a.length;r++){var M=a[r],P=M.startTime;if(P>A)break;var z=M.transferSize,J=M.initiatorType;z&&Xm(J)&&(M=M.responseEnd,E+=z*(M<A?1:(A-P)/(M-P)))}if(--r,o+=8*(y+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var uc=null,cc=null;function cl(n){return n.nodeType===9?n:n.ownerDocument}function Qm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zm(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function fc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dc=null;function $C(){var n=window.event;return n&&n.type==="popstate"?n===dc?!1:(dc=n,!0):(dc=null,!1)}var Wm=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(n){return $m.resolve(null).then(n).catch(tA)}:Wm;function tA(n){setTimeout(function(){throw n})}function si(n){return n==="head"}function jm(n,o){var a=o,r=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(r===0){n.removeChild(m),xo(o);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")Us(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Us(a);for(var y=a.firstChild;y;){var E=y.nextSibling,A=y.nodeName;y[Wo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&Us(n.ownerDocument.body);a=m}while(a);xo(o)}function eg(n,o){var a=n;n=0;do{var r=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=r}while(a)}function hc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hc(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function nA(n,o,a,r){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Wo])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Jt(n.nextSibling),n===null)break}return null}function iA(n,o,a){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jt(n.nextSibling),n===null))return null;return n}function tg(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Jt(n.nextSibling),n===null))return null;return n}function pc(n){return n.data==="$?"||n.data==="$~"}function mc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function oA(n,o){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||a.readyState!=="loading")o();else{var r=function(){o(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Jt(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var gc=null;function ng(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(o===0)return Jt(n.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}n=n.nextSibling}return null}function ig(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return n;o--}else a!=="/$"&&a!=="/&"||o++}n=n.previousSibling}return null}function og(n,o,a){switch(o=cl(a),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Us(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);vr(n)}var Kt=new Map,sg=new Set;function fl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ln=Z.d;Z.d={f:sA,r:aA,D:lA,C:rA,L:uA,m:cA,X:dA,S:fA,M:hA};function sA(){var n=Ln.f(),o=nl();return n||o}function aA(n){var o=Yi(n);o!==null&&o.tag===5&&o.type==="form"?Cp(o):Ln.r(n)}var _o=typeof document>"u"?null:document;function ag(n,o,a){var r=_o;if(r&&typeof o=="string"&&o){var m=Ot(o);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),sg.has(m)||(sg.add(m),n={rel:n,crossOrigin:a,href:o},r.querySelector(m)===null&&(o=r.createElement("link"),ut(o,"link",n),nt(o),r.head.appendChild(o)))}}function lA(n){Ln.D(n),ag("dns-prefetch",n,null)}function rA(n,o){Ln.C(n,o),ag("preconnect",n,o)}function uA(n,o,a){Ln.L(n,o,a);var r=_o;if(r&&n&&o){var m='link[rel="preload"][as="'+Ot(o)+'"]';o==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+Ot(a.imageSizes)+'"]')):m+='[href="'+Ot(n)+'"]';var y=m;switch(o){case"style":y=Ro(n);break;case"script":y=Mo(n)}Kt.has(y)||(n=T({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:n,as:o},a),Kt.set(y,n),r.querySelector(m)!==null||o==="style"&&r.querySelector(Ls(y))||o==="script"&&r.querySelector(Vs(y))||(o=r.createElement("link"),ut(o,"link",n),nt(o),r.head.appendChild(o)))}}function cA(n,o){Ln.m(n,o);var a=_o;if(a&&n){var r=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Ot(r)+'"][href="'+Ot(n)+'"]',y=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Mo(n)}if(!Kt.has(y)&&(n=T({rel:"modulepreload",href:n},o),Kt.set(y,n),a.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vs(y)))return}r=a.createElement("link"),ut(r,"link",n),nt(r),a.head.appendChild(r)}}}function fA(n,o,a){Ln.S(n,o,a);var r=_o;if(r&&n){var m=Ji(r).hoistableStyles,y=Ro(n);o=o||"default";var E=m.get(y);if(!E){var A={loading:0,preload:null};if(E=r.querySelector(Ls(y)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":o},a),(a=Kt.get(y))&&yc(n,a);var M=E=r.createElement("link");nt(M),ut(M,"link",n),M._p=new Promise(function(P,z){M.onload=P,M.onerror=z}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,dl(E,o,r)}E={type:"stylesheet",instance:E,count:1,state:A},m.set(y,E)}}}function dA(n,o){Ln.X(n,o);var a=_o;if(a&&n){var r=Ji(a).hoistableScripts,m=Mo(n),y=r.get(m);y||(y=a.querySelector(Vs(m)),y||(n=T({src:n,async:!0},o),(o=Kt.get(m))&&vc(n,o),y=a.createElement("script"),nt(y),ut(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function hA(n,o){Ln.M(n,o);var a=_o;if(a&&n){var r=Ji(a).hoistableScripts,m=Mo(n),y=r.get(m);y||(y=a.querySelector(Vs(m)),y||(n=T({src:n,async:!0,type:"module"},o),(o=Kt.get(m))&&vc(n,o),y=a.createElement("script"),nt(y),ut(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function lg(n,o,a,r){var m=(m=Se.current)?fl(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Ro(a.href),a=Ji(m).hoistableStyles,r=a.get(o),r||(r={type:"style",instance:null,count:0,state:null},a.set(o,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ro(a.href);var y=Ji(m).hoistableStyles,E=y.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=m.querySelector(Ls(n)))&&!y._p&&(E.instance=y,E.state.loading=5),Kt.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(n,a),y||pA(m,n,a,E.state))),o&&r===null)throw Error(s(528,""));return E}if(o&&r!==null)throw Error(s(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mo(a),a=Ji(m).hoistableScripts,r=a.get(o),r||(r={type:"script",instance:null,count:0,state:null},a.set(o,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ro(n){return'href="'+Ot(n)+'"'}function Ls(n){return'link[rel="stylesheet"]['+n+"]"}function rg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function pA(n,o,a,r){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?r.loading=1:(o=n.createElement("link"),r.preload=o,o.addEventListener("load",function(){return r.loading|=1}),o.addEventListener("error",function(){return r.loading|=2}),ut(o,"link",a),nt(o),n.head.appendChild(o))}function Mo(n){return'[src="'+Ot(n)+'"]'}function Vs(n){return"script[async]"+n}function ug(n,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var r=n.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(r)return o.instance=r,nt(r),r;var m=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),nt(r),ut(r,"style",m),dl(r,a.precedence,n),o.instance=r;case"stylesheet":m=Ro(a.href);var y=n.querySelector(Ls(m));if(y)return o.state.loading|=4,o.instance=y,nt(y),y;r=rg(a),(m=Kt.get(m))&&yc(r,m),y=(n.ownerDocument||n).createElement("link"),nt(y);var E=y;return E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),ut(y,"link",r),o.state.loading|=4,dl(y,a.precedence,n),o.instance=y;case"script":return y=Mo(a.src),(m=n.querySelector(Vs(y)))?(o.instance=m,nt(m),m):(r=a,(m=Kt.get(y))&&(r=T({},a),vc(r,m)),n=n.ownerDocument||n,m=n.createElement("script"),nt(m),ut(m,"link",r),n.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(r=o.instance,o.state.loading|=4,dl(r,a.precedence,n));return o.instance}function dl(n,o,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,y=m,E=0;E<r.length;E++){var A=r[E];if(A.dataset.precedence===o)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(n,o.firstChild))}function yc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function vc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var hl=null;function cg(n,o,a){if(hl===null){var r=new Map,m=hl=new Map;m.set(a,r)}else m=hl,r=m.get(a),r||(r=new Map,m.set(a,r));if(r.has(n))return r;for(r.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var y=a[m];if(!(y[Wo]||y[st]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(o)||"";E=n+E;var A=r.get(E);A?A.push(y):r.set(E,[y])}}return r}function fg(n,o,a){n=n.ownerDocument||n,n.head.insertBefore(a,o==="title"?n.querySelector("head > title"):null)}function mA(n,o,a){if(a===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function dg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function gA(n,o,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ro(r.href),y=o.querySelector(Ls(m));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=pl.bind(n),o.then(n,n)),a.state.loading|=4,a.instance=y,nt(y);return}y=o.ownerDocument||o,r=rg(r),(m=Kt.get(m))&&yc(r,m),y=y.createElement("link"),nt(y);var E=y;E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),ut(y,"link",r),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=pl.bind(n),o.addEventListener("load",a),o.addEventListener("error",a))}}var Tc=0;function yA(n,o){return n.stylesheets&&n.count===0&&gl(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var r=setTimeout(function(){if(n.stylesheets&&gl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+o);0<n.imgBytes&&Tc===0&&(Tc=62500*WC());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Tc?50:800)+o);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function pl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ml=null;function gl(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ml=new Map,o.forEach(vA,n),ml=null,pl.call(n))}function vA(n,o){if(!(o.state.loading&4)){var a=ml.get(n);if(a)var r=a.get(null);else{a=new Map,ml.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),r=E)}r&&a.set(null,r)}m=o.instance,E=m.getAttribute("data-precedence"),y=a.get(E)||r,y===r&&a.set(null,m),a.set(E,m),this.count++,r=pl.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),o.state.loading|=4}}var Ps={$$typeof:L,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function TA(n,o,a,r,m,y,E,A,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function hg(n,o,a,r,m,y,E,A,M,P,z,J){return n=new TA(n,o,a,E,M,P,z,J,A),o=1,y===!0&&(o|=24),y=bt(3,null,null,o),n.current=y,y.stateNode=n,o=$r(),o.refCount++,n.pooledCache=o,o.refCount++,y.memoizedState={element:r,isDehydrated:a,cache:o},nu(y),n}function pg(n){return n?(n=no,n):no}function mg(n,o,a,r,m,y){m=pg(m),r.context===null?r.context=m:r.pendingContext=m,r=Xn(o),r.payload={element:a},y=y===void 0?null:y,y!==null&&(r.callback=y),a=Qn(n,r,o),a!==null&&(Mt(a,n,o),ps(a,n,o))}function gg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<o?a:o}}function Sc(n,o){gg(n,o),(n=n.alternate)&&gg(n,o)}function yg(n){if(n.tag===13||n.tag===31){var o=Ci(n,67108864);o!==null&&Mt(o,n,67108864),Sc(n,67108864)}}function vg(n){if(n.tag===13||n.tag===31){var o=Gt();o=mr(o);var a=Ci(n,o);a!==null&&Mt(a,n,o),Sc(n,o)}}var yl=!0;function SA(n,o,a,r){var m=O.T;O.T=null;var y=Z.p;try{Z.p=2,Ec(n,o,a,r)}finally{Z.p=y,O.T=m}}function EA(n,o,a,r){var m=O.T;O.T=null;var y=Z.p;try{Z.p=8,Ec(n,o,a,r)}finally{Z.p=y,O.T=m}}function Ec(n,o,a,r){if(yl){var m=Cc(r);if(m===null)lc(n,o,r,vl,a),Sg(n,r);else if(AA(m,n,o,a,r))r.stopPropagation();else if(Sg(n,r),o&4&&-1<CA.indexOf(n)){for(;m!==null;){var y=Yi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=yi(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var M=1<<31-Dt(E);A.entanglements[1]|=M,E&=~M}hn(y),(De&6)===0&&(el=Nt()+500,Ds(0))}}break;case 31:case 13:A=Ci(y,2),A!==null&&Mt(A,y,2),nl(),Sc(y,2)}if(y=Cc(r),y===null&&lc(n,o,r,vl,a),y===m)break;m=y}m!==null&&r.stopPropagation()}else lc(n,o,r,null,a)}}function Cc(n){return n=_r(n),Ac(n)}var vl=null;function Ac(n){if(vl=null,n=Fi(n),n!==null){var o=u(n);if(o===null)n=null;else{var a=o.tag;if(a===13){if(n=c(o),n!==null)return n;n=null}else if(a===31){if(n=h(o),n!==null)return n;n=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return vl=n,null}function Tg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lE()){case xd:return 2;case Nd:return 8;case la:case rE:return 32;case Id:return 268435456;default:return 32}default:return 32}}var _c=!1,ai=null,li=null,ri=null,Gs=new Map,Hs=new Map,ui=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sg(n,o){switch(n){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Gs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(o.pointerId)}}function Os(n,o,a,r,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:a,eventSystemFlags:r,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Yi(o),o!==null&&yg(o)),n):(n.eventSystemFlags|=r,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function AA(n,o,a,r,m){switch(o){case"focusin":return ai=Os(ai,n,o,a,r,m),!0;case"dragenter":return li=Os(li,n,o,a,r,m),!0;case"mouseover":return ri=Os(ri,n,o,a,r,m),!0;case"pointerover":var y=m.pointerId;return Gs.set(y,Os(Gs.get(y)||null,n,o,a,r,m)),!0;case"gotpointercapture":return y=m.pointerId,Hs.set(y,Os(Hs.get(y)||null,n,o,a,r,m)),!0}return!1}function Eg(n){var o=Fi(n.target);if(o!==null){var a=u(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){n.blockedOn=o,Vd(n.priority,function(){vg(a)});return}}else if(o===31){if(o=h(a),o!==null){n.blockedOn=o,Vd(n.priority,function(){vg(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tl(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var a=Cc(n.nativeEvent);if(a===null){a=n.nativeEvent;var r=new a.constructor(a.type,a);Ar=r,a.target.dispatchEvent(r),Ar=null}else return o=Yi(a),o!==null&&yg(o),n.blockedOn=a,!1;o.shift()}return!0}function Cg(n,o,a){Tl(n)&&a.delete(o)}function _A(){_c=!1,ai!==null&&Tl(ai)&&(ai=null),li!==null&&Tl(li)&&(li=null),ri!==null&&Tl(ri)&&(ri=null),Gs.forEach(Cg),Hs.forEach(Cg)}function Sl(n,o){n.blockedOn===o&&(n.blockedOn=null,_c||(_c=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_A)))}var El=null;function Ag(n){El!==n&&(El=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){El===n&&(El=null);for(var o=0;o<n.length;o+=3){var a=n[o],r=n[o+1],m=n[o+2];if(typeof r!="function"){if(Ac(r||a)===null)continue;break}var y=Yi(a);y!==null&&(n.splice(o,3),o-=3,Cu(y,{pending:!0,data:m,method:a.method,action:r},r,m))}}))}function xo(n){function o(M){return Sl(M,n)}ai!==null&&Sl(ai,n),li!==null&&Sl(li,n),ri!==null&&Sl(ri,n),Gs.forEach(o),Hs.forEach(o);for(var a=0;a<ui.length;a++){var r=ui[a];r.blockedOn===n&&(r.blockedOn=null)}for(;0<ui.length&&(a=ui[0],a.blockedOn===null);)Eg(a),a.blockedOn===null&&ui.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var m=a[r],y=a[r+1],E=m[St]||null;if(typeof y=="function")E||Ag(a);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[St]||null)A=E.formAction;else if(Ac(m)!==null)continue}else A=E.action;typeof A=="function"?a[r+1]=A:(a.splice(r,3),r-=3),Ag(a)}}}function _g(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function Rc(n){this._internalRoot=n}Cl.prototype.render=Rc.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var a=o.current,r=Gt();mg(a,r,n,o,null,null)},Cl.prototype.unmount=Rc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;mg(n.current,2,null,n,null,null),nl(),o[zi]=null}};function Cl(n){this._internalRoot=n}Cl.prototype.unstable_scheduleHydration=function(n){if(n){var o=Ld();n={blockedOn:null,target:n,priority:o};for(var a=0;a<ui.length&&o!==0&&o<ui[a].priority;a++);ui.splice(a,0,n),a===0&&Eg(n)}};var Rg=e.version;if(Rg!=="19.2.3")throw Error(s(527,Rg,"19.2.3"));Z.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(o),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var RA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{Xo=Al.inject(RA),It=Al}catch{}}return ks.createRoot=function(n,o){if(!l(n))throw Error(s(299));var a=!1,r="",m=bp,y=Up,E=Lp;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(r=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=hg(n,1,!1,null,null,a,r,null,m,y,E,_g),n[zi]=o.current,ac(n),new Rc(o)},ks.hydrateRoot=function(n,o,a){if(!l(n))throw Error(s(299));var r=!1,m="",y=bp,E=Up,A=Lp,M=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),o=hg(n,1,!0,o,a??null,r,m,M,y,E,A,_g),o.context=pg(null),a=o.current,r=Gt(),r=mr(r),m=Xn(r),m.callback=null,Qn(a,m,r),a=r,o.current.lanes=a,Zo(o,a),hn(o),n[zi]=o.current,ac(n),new Cl(o)},ks.version="19.2.3",ks}var Vg;function PA(){if(Vg)return Nc.exports;Vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nc.exports=VA(),Nc.exports}var GA=PA();const HA=wv(GA),Pf=F.createContext({});function Gf(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hf=typeof window<"u",bv=Hf?F.useLayoutEffect:F.useEffect,Wl=F.createContext(null);function Of(t,e){t.indexOf(e)===-1&&t.push(e)}function Bf(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const Vn=(t,e,i)=>i>e?e:i<t?t:i;let kf=()=>{};const Pn={},Uv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Lv(t){return typeof t=="object"&&t!==null}const Vv=t=>/^0[^.\s]+$/u.test(t);function qf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wt=t=>t,OA=(t,e)=>i=>e(t(i)),na=(...t)=>t.reduce(OA),Ws=(t,e,i)=>{const s=e-t;return s===0?1:(i-t)/s};class zf{constructor(){this.subscriptions=[]}add(e){return Of(this.subscriptions,e),()=>Bf(this.subscriptions,e)}notify(e,i,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,i,s);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(e,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mn=t=>t*1e3,Zt=t=>t/1e3;function Pv(t,e){return e?t*(1e3/e):0}const Gv=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,BA=1e-7,kA=12;function qA(t,e,i,s,l){let u,c,h=0;do c=e+(i-e)/2,u=Gv(c,s,l)-t,u>0?i=c:e=c;while(Math.abs(u)>BA&&++h<kA);return c}function ia(t,e,i,s){if(t===e&&i===s)return Wt;const l=u=>qA(u,0,1,t,i);return u=>u===0||u===1?u:Gv(l(u),e,s)}const Hv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ov=t=>e=>1-t(1-e),Bv=ia(.33,1.53,.69,.99),Ff=Ov(Bv),kv=Hv(Ff),qv=t=>(t*=2)<1?.5*Ff(t):.5*(2-Math.pow(2,-10*(t-1))),Yf=t=>1-Math.sin(Math.acos(t)),zv=Ov(Yf),Fv=Hv(Yf),zA=ia(.42,0,1,1),FA=ia(0,0,.58,1),Yv=ia(.42,0,.58,1),YA=t=>Array.isArray(t)&&typeof t[0]!="number",Jv=t=>Array.isArray(t)&&typeof t[0]=="number",JA={linear:Wt,easeIn:zA,easeInOut:Yv,easeOut:FA,circIn:Yf,circInOut:Fv,circOut:zv,backIn:Ff,backInOut:kv,backOut:Bv,anticipate:qv},KA=t=>typeof t=="string",Pg=t=>{if(Jv(t)){kf(t.length===4);const[e,i,s,l]=t;return ia(e,i,s,l)}else if(KA(t))return JA[t];return t},_l=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XA(t,e){let i=new Set,s=new Set,l=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(p.schedule(v),t()),v(h)}const p={schedule:(v,T=!1,S=!1)=>{const _=S&&l?i:s;return T&&c.add(v),_.has(v)||_.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,l){u=!0;return}l=!0,[i,s]=[s,i],i.forEach(g),i.clear(),l=!1,u&&(u=!1,p.process(v))}};return p}const QA=40;function Kv(t,e){let i=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=_l.reduce((L,K)=>(L[K]=XA(u),L),{}),{setup:h,read:g,resolveKeyframes:p,preUpdate:v,update:T,preRender:S,render:C,postRender:_}=c,N=()=>{const L=Pn.useManualTiming?l.timestamp:performance.now();i=!1,Pn.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(L-l.timestamp,QA),1)),l.timestamp=L,l.isProcessing=!0,h.process(l),g.process(l),p.process(l),v.process(l),T.process(l),S.process(l),C.process(l),_.process(l),l.isProcessing=!1,i&&e&&(s=!1,t(N))},x=()=>{i=!0,s=!0,l.isProcessing||t(N)};return{schedule:_l.reduce((L,K)=>{const Q=c[K];return L[K]=($,k=!1,W=!1)=>(i||x(),Q.schedule($,k,W)),L},{}),cancel:L=>{for(let K=0;K<_l.length;K++)c[_l[K]].cancel(L)},state:l,steps:c}}const{schedule:ke,cancel:di,state:ct,steps:bc}=Kv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0);let Ul;function ZA(){Ul=void 0}const xt={now:()=>(Ul===void 0&&xt.set(ct.isProcessing||Pn.useManualTiming?ct.timestamp:performance.now()),Ul),set:t=>{Ul=t,queueMicrotask(ZA)}},Xv=t=>e=>typeof e=="string"&&e.startsWith(t),Qv=Xv("--"),WA=Xv("var(--"),Jf=t=>WA(t)?$A.test(t.split("/*")[0].trim()):!1,$A=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ko={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$s={...ko,transform:t=>Vn(0,1,t)},Rl={...ko,default:1},Ks=t=>Math.round(t*1e5)/1e5,Kf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jA(t){return t==null}const e_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xf=(t,e)=>i=>!!(typeof i=="string"&&e_.test(i)&&i.startsWith(t)||e&&!jA(i)&&Object.prototype.hasOwnProperty.call(i,e)),Zv=(t,e,i)=>s=>{if(typeof s!="string")return s;const[l,u,c,h]=s.match(Kf);return{[t]:parseFloat(l),[e]:parseFloat(u),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},t_=t=>Vn(0,255,t),Uc={...ko,transform:t=>Math.round(t_(t))},Hi={test:Xf("rgb","red"),parse:Zv("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+Uc.transform(t)+", "+Uc.transform(e)+", "+Uc.transform(i)+", "+Ks($s.transform(s))+")"};function n_(t){let e="",i="",s="",l="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),l=t.substring(4,5),e+=e,i+=i,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Wc={test:Xf("#"),parse:n_,transform:Hi.transform},oa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fi=oa("deg"),gn=oa("%"),fe=oa("px"),i_=oa("vh"),o_=oa("vw"),Gg={...gn,parse:t=>gn.parse(t)/100,transform:t=>gn.transform(t*100)},Io={test:Xf("hsl","hue"),parse:Zv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+gn.transform(Ks(e))+", "+gn.transform(Ks(i))+", "+Ks($s.transform(s))+")"},je={test:t=>Hi.test(t)||Wc.test(t)||Io.test(t),parse:t=>Hi.test(t)?Hi.parse(t):Io.test(t)?Io.parse(t):Wc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hi.transform(t):Io.transform(t),getAnimatableNone:t=>{const e=je.parse(t);return e.alpha=0,je.transform(e)}},s_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a_(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Kf))==null?void 0:e.length)||0)+(((i=t.match(s_))==null?void 0:i.length)||0)>0}const Wv="number",$v="color",l_="var",r_="var(",Hg="${}",u_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function js(t){const e=t.toString(),i=[],s={color:[],number:[],var:[]},l=[];let u=0;const h=e.replace(u_,g=>(je.test(g)?(s.color.push(u),l.push($v),i.push(je.parse(g))):g.startsWith(r_)?(s.var.push(u),l.push(l_),i.push(g)):(s.number.push(u),l.push(Wv),i.push(parseFloat(g))),++u,Hg)).split(Hg);return{values:i,split:h,indexes:s,types:l}}function jv(t){return js(t).values}function eT(t){const{split:e,types:i}=js(t),s=e.length;return l=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],l[c]!==void 0){const h=i[c];h===Wv?u+=Ks(l[c]):h===$v?u+=je.transform(l[c]):u+=l[c]}return u}}const c_=t=>typeof t=="number"?0:je.test(t)?je.getAnimatableNone(t):t;function f_(t){const e=jv(t);return eT(t)(e.map(c_))}const hi={test:a_,parse:jv,createTransformer:eT,getAnimatableNone:f_};function Lc(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function d_({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,e/=100,i/=100;let l=0,u=0,c=0;if(!e)l=u=c=i;else{const h=i<.5?i*(1+e):i+e-i*e,g=2*i-h;l=Lc(g,h,t+1/3),u=Lc(g,h,t),c=Lc(g,h,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Ol(t,e){return i=>i>0?e:t}const qe=(t,e,i)=>t+(e-t)*i,Vc=(t,e,i)=>{const s=t*t,l=i*(e*e-s)+s;return l<0?0:Math.sqrt(l)},h_=[Wc,Hi,Io],p_=t=>h_.find(e=>e.test(t));function Og(t){const e=p_(t);if(!e)return!1;let i=e.parse(t);return e===Io&&(i=d_(i)),i}const Bg=(t,e)=>{const i=Og(t),s=Og(e);if(!i||!s)return Ol(t,e);const l={...i};return u=>(l.red=Vc(i.red,s.red,u),l.green=Vc(i.green,s.green,u),l.blue=Vc(i.blue,s.blue,u),l.alpha=qe(i.alpha,s.alpha,u),Hi.transform(l))},$c=new Set(["none","hidden"]);function m_(t,e){return $c.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function g_(t,e){return i=>qe(t,e,i)}function Qf(t){return typeof t=="number"?g_:typeof t=="string"?Jf(t)?Ol:je.test(t)?Bg:T_:Array.isArray(t)?tT:typeof t=="object"?je.test(t)?Bg:y_:Ol}function tT(t,e){const i=[...t],s=i.length,l=t.map((u,c)=>Qf(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)i[c]=l[c](u);return i}}function y_(t,e){const i={...t,...e},s={};for(const l in i)t[l]!==void 0&&e[l]!==void 0&&(s[l]=Qf(t[l])(t[l],e[l]));return l=>{for(const u in s)i[u]=s[u](l);return i}}function v_(t,e){const i=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=t.indexes[u][s[u]],h=t.values[c]??0;i[l]=h,s[u]++}return i}const T_=(t,e)=>{const i=hi.createTransformer(e),s=js(t),l=js(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?$c.has(t)&&!l.values.length||$c.has(e)&&!s.values.length?m_(t,e):na(tT(v_(s,l),l.values),i):Ol(t,e)};function nT(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?qe(t,e,i):Qf(t)(t,e)}const S_=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ke.update(e,i),stop:()=>di(e),now:()=>ct.isProcessing?ct.timestamp:xt.now()}},iT=(t,e,i=10)=>{let s="";const l=Math.max(Math.round(e/i),2);for(let u=0;u<l;u++)s+=Math.round(t(u/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bl=2e4;function Zf(t){let e=0;const i=50;let s=t.next(e);for(;!s.done&&e<Bl;)e+=i,s=t.next(e);return e>=Bl?1/0:e}function E_(t,e=100,i){const s=i({...t,keyframes:[0,e]}),l=Math.min(Zf(s),Bl);return{type:"keyframes",ease:u=>s.next(l*u).value/e,duration:Zt(l)}}const C_=5;function oT(t,e,i){const s=Math.max(e-C_,0);return Pv(i-t(s),e-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pc=.001;function A_({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:i=Ye.velocity,mass:s=Ye.mass}){let l,u,c=1-e;c=Vn(Ye.minDamping,Ye.maxDamping,c),t=Vn(Ye.minDuration,Ye.maxDuration,Zt(t)),c<1?(l=p=>{const v=p*c,T=v*t,S=v-i,C=jc(p,c),_=Math.exp(-T);return Pc-S/C*_},u=p=>{const T=p*c*t,S=T*i+i,C=Math.pow(c,2)*Math.pow(p,2)*t,_=Math.exp(-T),N=jc(Math.pow(p,2),c);return(-l(p)+Pc>0?-1:1)*((S-C)*_)/N}):(l=p=>{const v=Math.exp(-p*t),T=(p-i)*t+1;return-Pc+v*T},u=p=>{const v=Math.exp(-p*t),T=(i-p)*(t*t);return v*T});const h=5/t,g=R_(l,u,h);if(t=mn(t),isNaN(g))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const p=Math.pow(g,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const __=12;function R_(t,e,i){let s=i;for(let l=1;l<__;l++)s=s-t(s)/e(s);return s}function jc(t,e){return t*Math.sqrt(1-e*e)}const M_=["duration","bounce"],x_=["stiffness","damping","mass"];function kg(t,e){return e.some(i=>t[i]!==void 0)}function N_(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!kg(t,x_)&&kg(t,M_))if(t.visualDuration){const i=t.visualDuration,s=2*Math.PI/(i*1.2),l=s*s,u=2*Vn(.05,1,1-(t.bounce||0))*Math.sqrt(l);e={...e,mass:Ye.mass,stiffness:l,damping:u}}else{const i=A_(t);e={...e,...i,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function kl(t=Ye.visualDuration,e=Ye.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:l}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:u},{stiffness:g,damping:p,mass:v,duration:T,velocity:S,isResolvedFromDuration:C}=N_({...i,velocity:-Zt(i.velocity||0)}),_=S||0,N=p/(2*Math.sqrt(g*v)),x=c-u,D=Zt(Math.sqrt(g/v)),H=Math.abs(x)<5;s||(s=H?Ye.restSpeed.granular:Ye.restSpeed.default),l||(l=H?Ye.restDelta.granular:Ye.restDelta.default);let L;if(N<1){const Q=jc(D,N);L=$=>{const k=Math.exp(-N*D*$);return c-k*((_+N*D*x)/Q*Math.sin(Q*$)+x*Math.cos(Q*$))}}else if(N===1)L=Q=>c-Math.exp(-D*Q)*(x+(_+D*x)*Q);else{const Q=D*Math.sqrt(N*N-1);L=$=>{const k=Math.exp(-N*D*$),W=Math.min(Q*$,300);return c-k*((_+N*D*x)*Math.sinh(W)+Q*x*Math.cosh(W))/Q}}const K={calculatedDuration:C&&T||null,next:Q=>{const $=L(Q);if(C)h.done=Q>=T;else{let k=Q===0?_:0;N<1&&(k=Q===0?mn(_):oT(L,Q,$));const W=Math.abs(k)<=s,q=Math.abs(c-$)<=l;h.done=W&&q}return h.value=h.done?c:$,h},toString:()=>{const Q=Math.min(Zf(K),Bl),$=iT(k=>K.next(Q*k).value,Q,30);return Q+"ms "+$},toTransition:()=>{}};return K}kl.applyToOptions=t=>{const e=E_(t,100,kl);return t.ease=e.ease,t.duration=mn(e.duration),t.type="keyframes",t};function ef({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:g,restDelta:p=.5,restSpeed:v}){const T=t[0],S={done:!1,value:T},C=W=>h!==void 0&&W<h||g!==void 0&&W>g,_=W=>h===void 0?g:g===void 0||Math.abs(h-W)<Math.abs(g-W)?h:g;let N=i*e;const x=T+N,D=c===void 0?x:c(x);D!==x&&(N=D-T);const H=W=>-N*Math.exp(-W/s),L=W=>D+H(W),K=W=>{const q=H(W),j=L(W);S.done=Math.abs(q)<=p,S.value=S.done?D:j};let Q,$;const k=W=>{C(S.value)&&(Q=W,$=kl({keyframes:[S.value,_(S.value)],velocity:oT(L,W,S.value),damping:l,stiffness:u,restDelta:p,restSpeed:v}))};return k(0),{calculatedDuration:null,next:W=>{let q=!1;return!$&&Q===void 0&&(q=!0,K(W),k(W)),Q!==void 0&&W>=Q?$.next(W-Q):(!q&&K(W),S)}}}function I_(t,e,i){const s=[],l=i||Pn.mix||nT,u=t.length-1;for(let c=0;c<u;c++){let h=l(t[c],t[c+1]);if(e){const g=Array.isArray(e)?e[c]||Wt:e;h=na(g,h)}s.push(h)}return s}function D_(t,e,{clamp:i=!0,ease:s,mixer:l}={}){const u=t.length;if(kf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=I_(e,s,l),g=h.length,p=v=>{if(c&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const S=Ws(t[T],t[T+1],v);return h[T](S)};return i?v=>p(Vn(t[0],t[u-1],v)):p}function w_(t,e){const i=t[t.length-1];for(let s=1;s<=e;s++){const l=Ws(0,e,s);t.push(qe(i,1,l))}}function b_(t){const e=[0];return w_(e,t.length-1),e}function U_(t,e){return t.map(i=>i*e)}function L_(t,e){return t.map(()=>e||Yv).splice(0,t.length-1)}function Xs({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){const l=YA(s)?s.map(Pg):Pg(s),u={done:!1,value:e[0]},c=U_(i&&i.length===e.length?i:b_(e),t),h=D_(c,e,{ease:Array.isArray(l)?l:L_(e,l)});return{calculatedDuration:t,next:g=>(u.value=h(g),u.done=g>=t,u)}}const V_=t=>t!==null;function Wf(t,{repeat:e,repeatType:i="loop"},s,l=1){const u=t.filter(V_),h=l<0||e&&i!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const P_={decay:ef,inertia:ef,tween:Xs,keyframes:Xs,spring:kl};function sT(t){typeof t.type=="string"&&(t.type=P_[t.type])}class $f{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const G_=t=>t/100;class jf extends $f{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,l;const{motionValue:i}=this.options;i&&i.updatedAt!==xt.now()&&this.tick(xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(s=this.options).onStop)==null||l.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sT(e);const{type:i=Xs,repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const g=i||Xs;g!==Xs&&typeof h[0]!="number"&&(this.mixKeyframes=na(G_,nT(h[0],h[1])),h=[0,100]);const p=g({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Zf(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=p}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:s,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:C,type:_,onUpdate:N,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?D<0:D>l;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let L=this.currentTime,K=s;if(T){const W=Math.min(this.currentTime,l)/h;let q=Math.floor(W),j=W%1;!j&&W>=1&&(j=1),j===1&&q--,q=Math.min(q,T+1),!!(q%2)&&(S==="reverse"?(j=1-j,C&&(j-=C/h)):S==="mirror"&&(K=c)),L=Vn(0,1,j)*h}const Q=H?{done:!1,value:v[0]}:K.next(L);u&&(Q.value=u(Q.value));let{done:$}=Q;!H&&g!==null&&($=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return k&&_!==ef&&(Q.value=Wf(v,this.options,x,this.speed)),N&&N(Q.value),k&&this.finish(),Q}then(e,i){return this.finished.then(e,i)}get duration(){return Zt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zt(e)}get time(){return Zt(this.currentTime)}set time(e){var i;e=mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xt.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=Zt(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=S_,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(u=(l=this.options).onPlay)==null||u.call(l);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function H_(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oi=t=>t*180/Math.PI,tf=t=>{const e=Oi(Math.atan2(t[1],t[0]));return nf(e)},O_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tf,rotateZ:tf,skewX:t=>Oi(Math.atan(t[1])),skewY:t=>Oi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nf=t=>(t=t%360,t<0&&(t+=360),t),qg=tf,zg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),B_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zg,scaleY:Fg,scale:t=>(zg(t)+Fg(t))/2,rotateX:t=>nf(Oi(Math.atan2(t[6],t[5]))),rotateY:t=>nf(Oi(Math.atan2(-t[2],t[0]))),rotateZ:qg,rotate:qg,skewX:t=>Oi(Math.atan(t[4])),skewY:t=>Oi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function of(t){return t.includes("scale")?1:0}function sf(t,e){if(!t||t==="none")return of(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(i)s=B_,l=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=O_,l=h}if(!l)return of(e);const u=s[e],c=l[1].split(",").map(q_);return typeof u=="function"?u(c):c[u]}const k_=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return sf(i,e)};function q_(t){return parseFloat(t.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(qo),Yg=t=>t===ko||t===fe,z_=new Set(["x","y","z"]),F_=qo.filter(t=>!z_.has(t));function Y_(t){const e=[];return F_.forEach(i=>{const s=t.getValue(i);s!==void 0&&(e.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),e}const Bi={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sf(e,"x"),y:(t,{transform:e})=>sf(e,"y")};Bi.translateX=Bi.x;Bi.translateY=Bi.y;const ki=new Set;let af=!1,lf=!1,rf=!1;function aT(){if(lf){const t=Array.from(ki).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),i=new Map;e.forEach(s=>{const l=Y_(s);l.length&&(i.set(s,l),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=i.get(s);l&&l.forEach(([u,c])=>{var h;(h=s.getValue(u))==null||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}lf=!1,af=!1,ki.forEach(t=>t.complete(rf)),ki.clear()}function lT(){ki.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lf=!0)})}function J_(){rf=!0,lT(),aT(),rf=!1}class ed{constructor(e,i,s,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=s,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ki.add(this),af||(af=!0,ke.read(lT),ke.resolveKeyframes(aT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:s,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&i){const h=s.readValue(i,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),l&&u===void 0&&l.set(e[0])}H_(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ki.delete(this)}cancel(){this.state==="scheduled"&&(ki.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K_=t=>t.startsWith("--");function X_(t,e,i){K_(e)?t.style.setProperty(e,i):t.style[e]=i}const Q_=qf(()=>window.ScrollTimeline!==void 0),Z_={};function W_(t,e){const i=qf(t);return()=>Z_[e]??i()}const rT=W_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ys=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,Jg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ys([0,.65,.55,1]),circOut:Ys([.55,0,1,.45]),backIn:Ys([.31,.01,.66,-.59]),backOut:Ys([.33,1.53,.69,.99])};function uT(t,e){if(t)return typeof t=="function"?rT()?iT(t,e):"ease-out":Jv(t)?Ys(t):Array.isArray(t)?t.map(i=>uT(i,e)||Jg.easeOut):Jg[t]}function $_(t,e,i,{delay:s=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:g}={},p=void 0){const v={[e]:i};g&&(v.offset=g);const T=uT(h,l);Array.isArray(T)&&(v.easing=T);const S={delay:s,duration:l,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),t.animate(v,S)}function cT(t){return typeof t=="function"&&"applyToOptions"in t}function j_({type:t,...e}){return cT(t)&&rT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eR extends $f{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:s,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:g}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,kf(typeof e.type!="string");const p=j_(e);this.animation=$_(i,s,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Wf(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):X_(i,s,v),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,s;const e=((s=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:s.call(i).duration)||0;return Zt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zt(e)}get time(){return Zt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Q_()?(this.animation.timeline=e,Wt):i(this)}}const fT={anticipate:qv,backInOut:kv,circInOut:Fv};function tR(t){return t in fT}function nR(t){typeof t.ease=="string"&&tR(t.ease)&&(t.ease=fT[t.ease])}const Kg=10;class iR extends eR{constructor(e){nR(e),sT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:s,onComplete:l,element:u,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const h=new jf({...c,autoplay:!1}),g=mn(this.finishedTime??this.time);i.setWithVelocity(h.sample(g-Kg).value,h.sample(g).value,Kg),h.stop()}}const Xg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hi.test(t)||t==="0")&&!t.startsWith("url("));function oR(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function sR(t,e,i,s){const l=t[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=Xg(l,e),h=Xg(u,e);return!c||!h?!1:oR(t)||(i==="spring"||cT(i))&&s}function uf(t){t.duration=0,t.type="keyframes"}const aR=new Set(["opacity","clipPath","filter","transform"]),lR=qf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rR(t){var v;const{motionValue:e,name:i,repeatDelay:s,repeatType:l,damping:u,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=e.owner.getProps();return lR()&&i&&aR.has(i)&&(i!=="transform"||!p)&&!g&&!s&&l!=="mirror"&&u!==0&&c!=="inertia"}const uR=40;class cR extends $f{constructor({autoplay:e=!0,delay:i=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:g,motionValue:p,element:v,...T}){var _;super(),this.stop=()=>{var N,x;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=xt.now();const S={autoplay:e,delay:i,type:s,repeat:l,repeatDelay:u,repeatType:c,name:g,motionValue:p,element:v,...T},C=(v==null?void 0:v.KeyframeResolver)||ed;this.keyframeResolver=new C(h,(N,x,D)=>this.onKeyframesResolved(N,x,S,!D),g,p,v),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,i,s,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:g,isHandoff:p,onUpdate:v}=s;this.resolvedAt=xt.now(),sR(e,u,c,h)||((Pn.instantAnimations||!g)&&(v==null||v(Wf(e,s,i))),e[0]=e[e.length-1],uf(s),s.repeat=0);const S={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>uR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:e},C=!p&&rR(S)?new iR({...S,element:S.motionValue.owner.current}):new jf(S);C.finished.then(()=>this.notifyFinished()).catch(Wt),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),J_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const fR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dR(t){const e=fR.exec(t);if(!e)return[,];const[,i,s,l]=e;return[`--${i??s}`,l]}function dT(t,e,i=1){const[s,l]=dR(t);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Uv(c)?parseFloat(c):c}return Jf(l)?dT(l,e,i+1):l}function td(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hT=new Set(["width","height","top","left","right","bottom",...qo]),hR={test:t=>t==="auto",parse:t=>t},pT=t=>e=>e.test(t),mT=[ko,fe,gn,fi,o_,i_,hR],Qg=t=>mT.find(pT(t));function pR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Vv(t):!0}const mR=new Set(["brightness","contrast","saturate","opacity"]);function gR(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=i.match(Kf)||[];if(!s)return t;const l=i.replace(s,"");let u=mR.has(e)?1:0;return s!==i&&(u*=100),e+"("+u+l+")"}const yR=/\b([a-z-]*)\(.*?\)/gu,cf={...hi,getAnimatableNone:t=>{const e=t.match(yR);return e?e.map(gR).join(" "):t}},Zg={...ko,transform:Math.round},vR={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:Rl,scaleX:Rl,scaleY:Rl,scaleZ:Rl,skew:fi,skewX:fi,skewY:fi,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:$s,originX:Gg,originY:Gg,originZ:fe},nd={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...vR,zIndex:Zg,fillOpacity:$s,strokeOpacity:$s,numOctaves:Zg},TR={...nd,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:cf,WebkitFilter:cf},gT=t=>TR[t];function yT(t,e){let i=gT(t);return i!==cf&&(i=hi),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const SR=new Set(["auto","none","0"]);function ER(t,e,i){let s=0,l;for(;s<t.length&&!l;){const u=t[s];typeof u=="string"&&!SR.has(u)&&js(u).values.length&&(l=t[s]),s++}if(l&&i)for(const u of e)t[u]=yT(i,l)}class CR extends ed{constructor(e,i,s,l,u){super(e,i,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let p=e[g];if(typeof p=="string"&&(p=p.trim(),Jf(p))){const v=dT(p,i.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!hT.has(s)||e.length!==2)return;const[l,u]=e,c=Qg(l),h=Qg(u);if(c!==h)if(Yg(c)&&Yg(h))for(let g=0;g<e.length;g++){const p=e[g];typeof p=="string"&&(e[g]=parseFloat(p))}else Bi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||pR(e[l]))&&s.push(l);s.length&&ER(e,s,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const l=i[i.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){var h;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Bi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([g,p])=>{e.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function AR(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const l=(i==null?void 0:i[t])??s.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}const vT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function TT(t){return Lv(t)&&"offsetHeight"in t}const Wg=30,_R=t=>!isNaN(parseFloat(t));class RR{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const l=xt.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=xt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_R(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new zf);const s=this.events[e].add(i);return e==="change"?()=>{s(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Wg)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Wg);return Pv(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oo(t,e){return new RR(t,e)}const{schedule:id}=Kv(queueMicrotask,!1),an={x:!1,y:!1};function ST(){return an.x||an.y}function MR(t){return t==="x"||t==="y"?an[t]?null:(an[t]=!0,()=>{an[t]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}function ET(t,e){const i=AR(t),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[i,l,()=>s.abort()]}function $g(t){return!(t.pointerType==="touch"||ST())}function xR(t,e,i={}){const[s,l,u]=ET(t,i),c=h=>{if(!$g(h))return;const{target:g}=h,p=e(g,h);if(typeof p!="function"||!g)return;const v=T=>{$g(T)&&(p(T),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,l)};return s.forEach(h=>{h.addEventListener("pointerenter",c,l)}),u}const CT=(t,e)=>e?t===e?!0:CT(t,e.parentElement):!1,od=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IR(t){return NR.has(t.tagName)||t.tabIndex!==-1}const Ll=new WeakSet;function jg(t){return e=>{e.key==="Enter"&&t(e)}}function Gc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DR=(t,e)=>{const i=t.currentTarget;if(!i)return;const s=jg(()=>{if(Ll.has(i))return;Gc(i,"down");const l=jg(()=>{Gc(i,"up")}),u=()=>Gc(i,"cancel");i.addEventListener("keyup",l,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)};function ey(t){return od(t)&&!ST()}function wR(t,e,i={}){const[s,l,u]=ET(t,i),c=h=>{const g=h.currentTarget;if(!ey(h))return;Ll.add(g);const p=e(g,h),v=(C,_)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Ll.has(g)&&Ll.delete(g),ey(C)&&typeof p=="function"&&p(C,{success:_})},T=C=>{v(C,g===window||g===document||i.useGlobalTarget||CT(g,C.target))},S=C=>{v(C,!1)};window.addEventListener("pointerup",T,l),window.addEventListener("pointercancel",S,l)};return s.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,l),TT(h)&&(h.addEventListener("focus",p=>DR(p,l)),!IR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function AT(t){return Lv(t)&&"ownerSVGElement"in t}function bR(t){return AT(t)&&t.tagName==="svg"}const dt=t=>!!(t&&t.getVelocity),UR=[...mT,je,hi],LR=t=>UR.find(pT(t)),sd=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ty(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VR(...t){return e=>{let i=!1;const s=t.map(l=>{const u=ty(l,e);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let l=0;l<s.length;l++){const u=s[l];typeof u=="function"?u():ty(t[l],null)}}}}function PR(...t){return F.useCallback(VR(...t),t)}class GR extends F.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const s=i.offsetParent,l=TT(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HR({children:t,isPresent:e,anchorX:i,root:s}){const l=F.useId(),u=F.useRef(null),c=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=F.useContext(sd),g=PR(u,t==null?void 0:t.ref);return F.useInsertionEffect(()=>{const{width:p,height:v,top:T,left:S,right:C}=c.current;if(e||!u.current||!p||!v)return;const _=i==="left"?`left: ${S}`:`right: ${C}`;u.current.dataset.motionPopId=l;const N=document.createElement("style");h&&(N.nonce=h);const x=s??document.head;return x.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${_}px !important;
            top: ${T}px !important;
          }
        `),()=>{x.contains(N)&&x.removeChild(N)}},[e]),I.jsx(GR,{isPresent:e,childRef:u,sizeRef:c,children:F.cloneElement(t,{ref:g})})}const OR=({children:t,initial:e,isPresent:i,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:c,anchorX:h,root:g})=>{const p=Gf(BR),v=F.useId();let T=!0,S=F.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:i,custom:l,onExitComplete:C=>{p.set(C,!0);for(const _ of p.values())if(!_)return;s&&s()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[i,p,s]);return u&&T&&(S={...S}),F.useMemo(()=>{p.forEach((C,_)=>p.set(_,!1))},[i]),F.useEffect(()=>{!i&&!p.size&&s&&s()},[i]),c==="popLayout"&&(t=I.jsx(HR,{isPresent:i,anchorX:h,root:g,children:t})),I.jsx(Wl.Provider,{value:S,children:t})};function BR(){return new Map}function _T(t=!0){const e=F.useContext(Wl);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:l}=e,u=F.useId();F.useEffect(()=>{if(t)return l(u)},[t]);const c=F.useCallback(()=>t&&s&&s(u),[u,s,t]);return!i&&s?[!1,c]:[!0]}const Ml=t=>t.key||"";function ny(t){const e=[];return F.Children.forEach(t,i=>{F.isValidElement(i)&&e.push(i)}),e}const ff=({children:t,custom:e,initial:i=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",root:g})=>{const[p,v]=_T(c),T=F.useMemo(()=>ny(t),[t]),S=c&&!p?[]:T.map(Ml),C=F.useRef(!0),_=F.useRef(T),N=Gf(()=>new Map),[x,D]=F.useState(T),[H,L]=F.useState(T);bv(()=>{C.current=!1,_.current=T;for(let $=0;$<H.length;$++){const k=Ml(H[$]);S.includes(k)?N.delete(k):N.get(k)!==!0&&N.set(k,!1)}},[H,S.length,S.join("-")]);const K=[];if(T!==x){let $=[...T];for(let k=0;k<H.length;k++){const W=H[k],q=Ml(W);S.includes(q)||($.splice(k,0,W),K.push(W))}return u==="wait"&&K.length&&($=K),L(ny($)),D(T),null}const{forceRender:Q}=F.useContext(Pf);return I.jsx(I.Fragment,{children:H.map($=>{const k=Ml($),W=c&&!p?!1:T===H||S.includes(k),q=()=>{if(N.has(k))N.set(k,!0);else return;let j=!0;N.forEach(ee=>{ee||(j=!1)}),j&&(Q==null||Q(),L(_.current),c&&(v==null||v()),s&&s())};return I.jsx(OR,{isPresent:W,initial:!C.current||i?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:g,onExitComplete:W?void 0:q,anchorX:h,children:$},k)})})},RT=F.createContext({strict:!1}),iy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in iy)Bo[t]={isEnabled:e=>iy[t].some(i=>!!e[i])};function kR(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const qR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ql(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qR.has(t)}let MT=t=>!ql(t);function zR(t){typeof t=="function"&&(MT=e=>e.startsWith("on")?!ql(e):t(e))}try{zR(require("@emotion/is-prop-valid").default)}catch{}function FR(t,e,i){const s={};for(const l in t)l==="values"&&typeof t.values=="object"||(MT(l)||i===!0&&ql(l)||!e&&!ql(l)||t.draggable&&l.startsWith("onDrag"))&&(s[l]=t[l]);return s}const $l=F.createContext({});function jl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ea(t){return typeof t=="string"||Array.isArray(t)}const ad=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ld=["initial",...ad];function er(t){return jl(t.animate)||ld.some(e=>ea(t[e]))}function xT(t){return!!(er(t)||t.variants)}function YR(t,e){if(er(t)){const{initial:i,animate:s}=t;return{initial:i===!1||ea(i)?i:void 0,animate:ea(s)?s:void 0}}return t.inherit!==!1?e:{}}function JR(t){const{initial:e,animate:i}=YR(t,F.useContext($l));return F.useMemo(()=>({initial:e,animate:i}),[oy(e),oy(i)])}function oy(t){return Array.isArray(t)?t.join(" "):t}function sy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fe.test(t))t=parseFloat(t);else return t;const i=sy(t,e.target.x),s=sy(t,e.target.y);return`${i}% ${s}%`}},KR={correct:(t,{treeScale:e,projectionDelta:i})=>{const s=t,l=hi.parse(t);if(l.length>5)return s;const u=hi.createTransformer(t),c=typeof l[0]!="number"?1:0,h=i.x.scale*e.x,g=i.y.scale*e.y;l[0+c]/=h,l[1+c]/=g;const p=qe(h,g,.5);return typeof l[2+c]=="number"&&(l[2+c]/=p),typeof l[3+c]=="number"&&(l[3+c]/=p),u(l)}},df={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:KR};function NT(t,{layout:e,layoutId:i}){return zo.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!df[t]||t==="opacity")}const XR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QR=qo.length;function ZR(t,e,i){let s="",l=!0;for(let u=0;u<QR;u++){const c=qo[u],h=t[c];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(c.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||i){const p=vT(h,nd[c]);if(!g){l=!1;const v=XR[c]||c;s+=`${v}(${p}) `}i&&(e[c]=p)}}return s=s.trim(),i?s=i(e,l?"":s):l&&(s="none"),s}function rd(t,e,i){const{style:s,vars:l,transformOrigin:u}=t;let c=!1,h=!1;for(const g in e){const p=e[g];if(zo.has(g)){c=!0;continue}else if(Qv(g)){l[g]=p;continue}else{const v=vT(p,nd[g]);g.startsWith("origin")?(h=!0,u[g]=v):s[g]=v}}if(e.transform||(c||i?s.transform=ZR(e,t.transform,i):s.transform&&(s.transform="none")),h){const{originX:g="50%",originY:p="50%",originZ:v=0}=u;s.transformOrigin=`${g} ${p} ${v}`}}const ud=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IT(t,e,i){for(const s in e)!dt(e[s])&&!NT(s,i)&&(t[s]=e[s])}function WR({transformTemplate:t},e){return F.useMemo(()=>{const i=ud();return rd(i,e,t),Object.assign({},i.vars,i.style)},[e])}function $R(t,e){const i=t.style||{},s={};return IT(s,i,t),Object.assign(s,WR(t,e)),s}function jR(t,e){const i={},s=$R(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}const eM={offset:"stroke-dashoffset",array:"stroke-dasharray"},tM={offset:"strokeDashoffset",array:"strokeDasharray"};function nM(t,e,i=1,s=0,l=!0){t.pathLength=1;const u=l?eM:tM;t[u.offset]=fe.transform(-s);const c=fe.transform(e),h=fe.transform(i);t[u.array]=`${c} ${h}`}function DT(t,{attrX:e,attrY:i,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...h},g,p,v){if(rd(t,h,p),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),s!==void 0&&(T.scale=s),l!==void 0&&nM(T,l,u,c,!1)}const wT=()=>({...ud(),attrs:{}}),bT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iM(t,e,i,s){const l=F.useMemo(()=>{const u=wT();return DT(u,e,bT(s),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};IT(u,t.style,t),l.style={...u,...l.style}}return l}const oM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cd(t){return typeof t!="string"||t.includes("-")?!1:!!(oM.indexOf(t)>-1||/[A-Z]/u.test(t))}function sM(t,e,i,{latestValues:s},l,u=!1){const h=(cd(t)?iM:jR)(e,s,l,t),g=FR(e,typeof t=="string",u),p=t!==F.Fragment?{...g,...h,ref:i}:{},{children:v}=e,T=F.useMemo(()=>dt(v)?v.get():v,[v]);return F.createElement(t,{...p,children:T})}function ay(t){const e=[{},{}];return t==null||t.values.forEach((i,s)=>{e[0][s]=i.get(),e[1][s]=i.getVelocity()}),e}function fd(t,e,i,s){if(typeof e=="function"){const[l,u]=ay(s);e=e(i!==void 0?i:t.custom,l,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[l,u]=ay(s);e=e(i!==void 0?i:t.custom,l,u)}return e}function Vl(t){return dt(t)?t.get():t}function aM({scrapeMotionValuesFromProps:t,createRenderState:e},i,s,l){return{latestValues:lM(i,s,l,t),renderState:e()}}function lM(t,e,i,s){const l={},u=s(t,{});for(const S in u)l[S]=Vl(u[S]);let{initial:c,animate:h}=t;const g=er(t),p=xT(t);e&&p&&!g&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const T=v?h:c;if(T&&typeof T!="boolean"&&!jl(T)){const S=Array.isArray(T)?T:[T];for(let C=0;C<S.length;C++){const _=fd(t,S[C]);if(_){const{transitionEnd:N,transition:x,...D}=_;for(const H in D){let L=D[H];if(Array.isArray(L)){const K=v?L.length-1:0;L=L[K]}L!==null&&(l[H]=L)}for(const H in N)l[H]=N[H]}}}return l}const UT=t=>(e,i)=>{const s=F.useContext($l),l=F.useContext(Wl),u=()=>aM(t,e,s,l);return i?u():Gf(u)};function dd(t,e,i){var u;const{style:s}=t,l={};for(const c in s)(dt(s[c])||e.style&&dt(e.style[c])||NT(c,t)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(l[c]=s[c]);return l}const rM=UT({scrapeMotionValuesFromProps:dd,createRenderState:ud});function LT(t,e,i){const s=dd(t,e,i);for(const l in t)if(dt(t[l])||dt(e[l])){const u=qo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=t[l]}return s}const uM=UT({scrapeMotionValuesFromProps:LT,createRenderState:wT}),cM=Symbol.for("motionComponentSymbol");function Do(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fM(t,e,i){return F.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),i&&(typeof i=="function"?i(s):Do(i)&&(i.current=s))},[e])}const hd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dM="framerAppearId",VT="data-"+hd(dM),PT=F.createContext({});function hM(t,e,i,s,l){var N,x;const{visualElement:u}=F.useContext($l),c=F.useContext(RT),h=F.useContext(Wl),g=F.useContext(sd).reducedMotion,p=F.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:u,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const v=p.current,T=F.useContext(PT);v&&!v.projection&&l&&(v.type==="html"||v.type==="svg")&&pM(p.current,i,l,T);const S=F.useRef(!1);F.useInsertionEffect(()=>{v&&S.current&&v.update(i,h)});const C=i[VT],_=F.useRef(!!C&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,C))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,C)));return bv(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),F.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,C)}),_.current=!1),v.enteringChildren=void 0)}),v}function pM(t,e,i,s){const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:g,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:GT(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Do(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:g,layoutRoot:p})}function GT(t){if(t)return t.options.allowProjection!==!1?t.projection:GT(t.parent)}function Hc(t,{forwardMotionProps:e=!1}={},i,s){i&&kR(i);const l=cd(t)?uM:rM;function u(h,g){let p;const v={...F.useContext(sd),...h,layoutId:mM(h)},{isStatic:T}=v,S=JR(h),C=l(h,T);if(!T&&Hf){gM();const _=yM(v);p=_.MeasureLayout,S.visualElement=hM(t,C,v,s,_.ProjectionNode)}return I.jsxs($l.Provider,{value:S,children:[p&&S.visualElement?I.jsx(p,{visualElement:S.visualElement,...v}):null,sM(t,h,fM(C,S.visualElement,g),C,T,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=F.forwardRef(u);return c[cM]=t,c}function mM({layoutId:t}){const e=F.useContext(Pf).id;return e&&t!==void 0?e+"-"+t:t}function gM(t,e){F.useContext(RT).strict}function yM(t){const{drag:e,layout:i}=Bo;if(!e&&!i)return{};const s={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function vM(t,e){if(typeof Proxy>"u")return Hc;const i=new Map,s=(u,c)=>Hc(u,c,t,e),l=(u,c)=>s(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?s:(i.has(c)||i.set(c,Hc(c,void 0,t,e)),i.get(c))})}function HT({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function TM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function SM(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function Oc(t){return t===void 0||t===1}function hf({scale:t,scaleX:e,scaleY:i}){return!Oc(t)||!Oc(e)||!Oc(i)}function Pi(t){return hf(t)||OT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OT(t){return ly(t.x)||ly(t.y)}function ly(t){return t&&t!=="0%"}function zl(t,e,i){const s=t-i,l=e*s;return i+l}function ry(t,e,i,s,l){return l!==void 0&&(t=zl(t,l,s)),zl(t,i,s)+e}function pf(t,e=0,i=1,s,l){t.min=ry(t.min,e,i,s,l),t.max=ry(t.max,e,i,s,l)}function BT(t,{x:e,y:i}){pf(t.x,e.translate,e.scale,e.originPoint),pf(t.y,i.translate,i.scale,i.originPoint)}const uy=.999999999999,cy=1.0000000000001;function EM(t,e,i,s=!1){const l=i.length;if(!l)return;e.x=e.y=1;let u,c;for(let h=0;h<l;h++){u=i[h],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bo(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,BT(t,c)),s&&Pi(u.latestValues)&&bo(t,u.latestValues))}e.x<cy&&e.x>uy&&(e.x=1),e.y<cy&&e.y>uy&&(e.y=1)}function wo(t,e){t.min=t.min+e,t.max=t.max+e}function fy(t,e,i,s,l=.5){const u=qe(t.min,t.max,l);pf(t,e,i,u,s)}function bo(t,e){fy(t.x,e.x,e.scaleX,e.scale,e.originX),fy(t.y,e.y,e.scaleY,e.scale,e.originY)}function kT(t,e){return HT(SM(t.getBoundingClientRect(),e))}function CM(t,e,i){const s=kT(t,i),{scroll:l}=e;return l&&(wo(s.x,l.offset.x),wo(s.y,l.offset.y)),s}const dy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:dy(),y:dy()}),hy=()=>({min:0,max:0}),tt=()=>({x:hy(),y:hy()}),mf={current:null},qT={current:!1};function AM(){if(qT.current=!0,!!Hf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mf.current=t.matches;t.addEventListener("change",e),e()}else mf.current=!1}const _M=new WeakMap;function RM(t,e,i){for(const s in e){const l=e[s],u=i[s];if(dt(l))t.addValue(s,l);else if(dt(u))t.addValue(s,Oo(l,{owner:t}));else if(u!==l)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=t.getStaticValue(s);t.addValue(s,Oo(c!==void 0?c:l,{owner:t}))}}for(const s in i)e[s]===void 0&&t.removeValue(s);return e}const py=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MM{scrapeMotionValuesFromProps(e,i,s){return{}}constructor({parent:e,props:i,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ed,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=xt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ke.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=p,this.parent=e,this.props=i,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=er(i),this.isVariantNode=xT(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in T){const C=T[S];g[S]!==void 0&&dt(C)&&C.set(g[S])}}mount(e){var i;this.current=e,_M.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),qT.current||AM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mf.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=zo.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=i.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ke.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const i=Bo[e];if(!i)continue;const{isEnabled:s,Feature:l}=i;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<py.length;s++){const l=py[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=e[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=RM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const s=this.values.get(e);i!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&i!==void 0&&(s=Oo(i===null?void 0:i,{owner:this}),this.addValue(e,s)),s}readValue(e,i){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Uv(s)||Vv(s))?s=parseFloat(s):!LR(s)&&hi.test(i)&&(s=yT(e,i)),this.setBaseTarget(e,dt(s)?s.get():s)),dt(s)?s.get():s}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var u;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const c=fd(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[e])}if(i&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!dt(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new zf),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){id.render(this.render)}}class zT extends MM{constructor(){super(...arguments),this.KeyframeResolver=CR}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:s}){delete i[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function FT(t,{style:e,vars:i},s,l){const u=t.style;let c;for(c in e)u[c]=e[c];l==null||l.applyProjectionStyles(u,s);for(c in i)u.setProperty(c,i[c])}function xM(t){return window.getComputedStyle(t)}class NM extends zT{constructor(){super(...arguments),this.type="html",this.renderInstance=FT}readValueFromInstance(e,i){var s;if(zo.has(i))return(s=this.projection)!=null&&s.isProjecting?of(i):k_(e,i);{const l=xM(e),u=(Qv(i)?l.getPropertyValue(i):l[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:i}){return kT(e,i)}build(e,i,s){rd(e,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,i,s){return dd(e,i,s)}}const YT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IM(t,e,i,s){FT(t,e,void 0,s);for(const l in e.attrs)t.setAttribute(YT.has(l)?l:hd(l),e.attrs[l])}class DM extends zT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(zo.has(i)){const s=gT(i);return s&&s.default||0}return i=YT.has(i)?i:hd(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,s){return LT(e,i,s)}build(e,i,s){DT(e,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,i,s,l){IM(e,i,s,l)}mount(e){this.isSVGTag=bT(e.tagName),super.mount(e)}}const wM=(t,e)=>cd(t)?new DM(e):new NM(e,{allowProjection:t!==F.Fragment});function Po(t,e,i){const s=t.getProps();return fd(s,e,i!==void 0?i:s.custom,t)}const gf=t=>Array.isArray(t);function bM(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Oo(i))}function UM(t){return gf(t)?t[t.length-1]||0:t}function LM(t,e){const i=Po(t,e);let{transitionEnd:s={},transition:l={},...u}=i||{};u={...u,...s};for(const c in u){const h=UM(u[c]);bM(t,c,h)}}function VM(t){return!!(dt(t)&&t.add)}function yf(t,e){const i=t.getValue("willChange");if(VM(i))return i.add(e);if(!i&&Pn.WillChange){const s=new Pn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function JT(t){return t.props[VT]}const PM=t=>t!==null;function GM(t,{repeat:e,repeatType:i="loop"},s){const l=t.filter(PM),u=e&&i!=="loop"&&e%2===1?0:l.length-1;return l[u]}const HM={type:"spring",stiffness:500,damping:25,restSpeed:10},OM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BM={type:"keyframes",duration:.8},kM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qM=(t,{keyframes:e})=>e.length>2?BM:zo.has(t)?t.startsWith("scale")?OM(e[1]):HM:kM;function zM({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:h,from:g,elapsed:p,...v}){return!!Object.keys(v).length}const pd=(t,e,i,s={},l,u)=>c=>{const h=td(s,t)||{},g=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-mn(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:l};zM(h)||Object.assign(v,qM(t,v)),v.duration&&(v.duration=mn(v.duration)),v.repeatDelay&&(v.repeatDelay=mn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(uf(v),v.delay===0&&(T=!0)),(Pn.instantAnimations||Pn.skipAnimations)&&(T=!0,uf(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,T&&!u&&e.get()!==void 0){const S=GM(v.keyframes,h);if(S!==void 0){ke.update(()=>{v.onUpdate(S),v.onComplete()});return}}return h.isSync?new jf(v):new cR(v)};function FM({protectedKeys:t,needsAnimating:e},i){const s=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,s}function KT(t,e,{delay:i=0,transitionOverride:s,type:l}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(u=s);const g=[],p=l&&t.animationState&&t.animationState.getState()[l];for(const v in h){const T=t.getValue(v,t.latestValues[v]??null),S=h[v];if(S===void 0||p&&FM(p,v))continue;const C={delay:i,...td(u||{},v)},_=T.get();if(_!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===_&&!C.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const D=JT(t);if(D){const H=window.MotionHandoffAnimation(D,v,ke);H!==null&&(C.startTime=H,N=!0)}}yf(t,v),T.start(pd(v,T,S,t.shouldReduceMotion&&hT.has(v)?{type:!1}:C,t,N));const x=T.animation;x&&g.push(x)}return c&&Promise.all(g).then(()=>{ke.update(()=>{c&&LM(t,c)})}),g}function XT(t,e,i,s=0,l=1){const u=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*s;return typeof i=="function"?i(u,c):l===1?u*s:h-u*s}function vf(t,e,i={}){var g;const s=Po(t,e,i.type==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(l=i.transitionOverride);const u=s?()=>Promise.all(KT(t,s,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:S}=l;return YM(t,e,p,v,T,S,i)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,v]=h==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(i.delay)])}function YM(t,e,i=0,s=0,l=0,u=1,c){const h=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),h.push(vf(g,e,{...c,delay:i+(typeof s=="function"?0:s)+XT(t.variantChildren,g,s,l,u)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(h)}function JM(t,e,i={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(u=>vf(t,u,i));s=Promise.all(l)}else if(typeof e=="string")s=vf(t,e,i);else{const l=typeof e=="function"?Po(t,e,i.custom):e;s=Promise.all(KT(t,l,i))}return s.then(()=>{t.notify("AnimationComplete",e)})}function QT(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}const KM=ld.length;function ZT(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?ZT(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<KM;i++){const s=ld[i],l=t.props[s];(ea(l)||l===!1)&&(e[s]=l)}return e}const XM=[...ad].reverse(),QM=ad.length;function ZM(t){return e=>Promise.all(e.map(({animation:i,options:s})=>JM(t,i,s)))}function WM(t){let e=ZM(t),i=my(),s=!0;const l=g=>(p,v)=>{var S;const T=Po(t,v,g==="exit"?(S=t.presenceContext)==null?void 0:S.custom:void 0);if(T){const{transition:C,transitionEnd:_,...N}=T;p={...p,...N,..._}}return p};function u(g){e=g(t)}function c(g){const{props:p}=t,v=ZT(t.parent)||{},T=[],S=new Set;let C={},_=1/0;for(let x=0;x<QM;x++){const D=XM[x],H=i[D],L=p[D]!==void 0?p[D]:v[D],K=ea(L),Q=D===g?H.isActive:null;Q===!1&&(_=x);let $=L===v[D]&&L!==p[D]&&K;if($&&s&&t.manuallyAnimateOnMount&&($=!1),H.protectedKeys={...C},!H.isActive&&Q===null||!L&&!H.prevProp||jl(L)||typeof L=="boolean")continue;const k=$M(H.prevProp,L);let W=k||D===g&&H.isActive&&!$&&K||x>_&&K,q=!1;const j=Array.isArray(L)?L:[L];let ee=j.reduce(l(D),{});Q===!1&&(ee={});const{prevResolvedValues:se={}}=H,te={...se,...ee},pe=Z=>{W=!0,S.has(Z)&&(q=!0,S.delete(Z)),H.needsAnimating[Z]=!0;const ie=t.getValue(Z);ie&&(ie.liveStyle=!1)};for(const Z in te){const ie=ee[Z],ve=se[Z];if(C.hasOwnProperty(Z))continue;let de=!1;gf(ie)&&gf(ve)?de=!QT(ie,ve):de=ie!==ve,de?ie!=null?pe(Z):S.add(Z):ie!==void 0&&S.has(Z)?pe(Z):H.protectedKeys[Z]=!0}H.prevProp=L,H.prevResolvedValues=ee,H.isActive&&(C={...C,...ee}),s&&t.blockInitialAnimation&&(W=!1);const Ie=$&&k;W&&(!Ie||q)&&T.push(...j.map(Z=>{const ie={type:D};if(typeof Z=="string"&&s&&!Ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,de=Po(ve,Z);if(ve.enteringChildren&&de){const{delayChildren:b}=de.transition||{};ie.delay=XT(ve.enteringChildren,t,b)}}return{animation:Z,options:ie}}))}if(S.size){const x={};if(typeof p.initial!="boolean"){const D=Po(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(x.transition=D.transition)}S.forEach(D=>{const H=t.getBaseTarget(D),L=t.getValue(D);L&&(L.liveStyle=!0),x[D]=H??null}),T.push({animation:x})}let N=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(T):Promise.resolve()}function h(g,p){var T;if(i[g].isActive===p)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(S=>{var C;return(C=S.animationState)==null?void 0:C.setActive(g,p)}),i[g].isActive=p;const v=c(g);for(const S in i)i[S].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>i,reset:()=>{i=my()}}}function $M(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QT(e,t):!1}function Vi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function my(){return{animate:Vi(!0),whileInView:Vi(),whileHover:Vi(),whileTap:Vi(),whileDrag:Vi(),whileFocus:Vi(),exit:Vi()}}class pi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jM extends pi{constructor(e){super(e),e.animationState||(e.animationState=WM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ex=0;class tx extends pi{constructor(){super(...arguments),this.id=ex++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);i&&!e&&l.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nx={animation:{Feature:jM},exit:{Feature:tx}};function ta(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}function sa(t){return{point:{x:t.pageX,y:t.pageY}}}const ix=t=>e=>od(e)&&t(e,sa(e));function Qs(t,e,i,s){return ta(t,e,ix(i),s)}const WT=1e-4,ox=1-WT,sx=1+WT,$T=.01,ax=0-$T,lx=0+$T;function vt(t){return t.max-t.min}function rx(t,e,i){return Math.abs(t-e)<=i}function gy(t,e,i,s=.5){t.origin=s,t.originPoint=qe(e.min,e.max,t.origin),t.scale=vt(i)/vt(e),t.translate=qe(i.min,i.max,t.origin)-t.originPoint,(t.scale>=ox&&t.scale<=sx||isNaN(t.scale))&&(t.scale=1),(t.translate>=ax&&t.translate<=lx||isNaN(t.translate))&&(t.translate=0)}function Zs(t,e,i,s){gy(t.x,e.x,i.x,s?s.originX:void 0),gy(t.y,e.y,i.y,s?s.originY:void 0)}function yy(t,e,i){t.min=i.min+e.min,t.max=t.min+vt(e)}function ux(t,e,i){yy(t.x,e.x,i.x),yy(t.y,e.y,i.y)}function vy(t,e,i){t.min=e.min-i.min,t.max=t.min+vt(e)}function Fl(t,e,i){vy(t.x,e.x,i.x),vy(t.y,e.y,i.y)}function Xt(t){return[t("x"),t("y")]}const jT=({current:t})=>t?t.ownerDocument.defaultView:null,Ty=(t,e)=>Math.abs(t-e);function cx(t,e){const i=Ty(t.x,e.x),s=Ty(t.y,e.y);return Math.sqrt(i**2+s**2)}class eS{constructor(e,i,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=kc(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,_=cx(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!_)return;const{point:N}=S,{timestamp:x}=ct;this.history.push({...N,timestamp:x});const{onStart:D,onMove:H}=this.handlers;C||(D&&D(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Bc(C,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:_,onSessionEnd:N,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=kc(S.type==="pointercancel"?this.lastMoveEventInfo:Bc(C,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,D),N&&N(S,D)},!od(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const h=sa(e),g=Bc(h,this.transformPagePoint),{point:p}=g,{timestamp:v}=ct;this.history=[{...p,timestamp:v}];const{onSessionStart:T}=i;T&&T(e,kc(g,this.history)),this.removeListeners=na(Qs(this.contextWindow,"pointermove",this.handlePointerMove),Qs(this.contextWindow,"pointerup",this.handlePointerUp),Qs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),di(this.updatePoint)}}function Bc(t,e){return e?{point:e(t.point)}:t}function Sy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kc({point:t},e){return{point:t,delta:Sy(t,tS(e)),offset:Sy(t,fx(e)),velocity:dx(e,.1)}}function fx(t){return t[0]}function tS(t){return t[t.length-1]}function dx(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null;const l=tS(t);for(;i>=0&&(s=t[i],!(l.timestamp-s.timestamp>mn(e)));)i--;if(!s)return{x:0,y:0};const u=Zt(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function hx(t,{min:e,max:i},s){return e!==void 0&&t<e?t=s?qe(e,t,s.min):Math.max(t,e):i!==void 0&&t>i&&(t=s?qe(i,t,s.max):Math.min(t,i)),t}function Ey(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function px(t,{top:e,left:i,bottom:s,right:l}){return{x:Ey(t.x,i,l),y:Ey(t.y,e,s)}}function Cy(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function mx(t,e){return{x:Cy(t.x,e.x),y:Cy(t.y,e.y)}}function gx(t,e){let i=.5;const s=vt(t),l=vt(e);return l>s?i=Ws(e.min,e.max-s,t.min):s>l&&(i=Ws(t.min,t.max-l,e.min)),Vn(0,1,i)}function yx(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const Tf=.35;function vx(t=Tf){return t===!1?t=0:t===!0&&(t=Tf),{x:Ay(t,"left","right"),y:Ay(t,"top","bottom")}}function Ay(t,e,i){return{min:_y(t,e),max:_y(t,i)}}function _y(t,e){return typeof t=="number"?t:t[e]||0}const Tx=new WeakMap;class Sx{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(sa(T).point)},c=(T,S)=>{const{drag:C,dragPropagation:_,onDragStart:N}=this.getProps();if(C&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MR(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(D=>{let H=this.getAxisMotionValue(D).get()||0;if(gn.test(H)){const{projection:L}=this.visualElement;if(L&&L.layout){const K=L.layout.layoutBox[D];K&&(H=vt(K)*(parseFloat(H)/100))}}this.originPoint[D]=H}),N&&ke.postRender(()=>N(T,S)),yf(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},h=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:_,onDirectionLock:N,onDrag:x}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:D}=S;if(_&&this.currentDirection===null){this.currentDirection=Ex(D),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",S.point,D),this.updateAxis("y",S.point,D),this.visualElement.render(),x&&x(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Xt(T=>{var S;return this.getAnimationState(T)==="paused"&&((S=this.getAxisMotionValue(T).animation)==null?void 0:S.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new eS(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:jT(this.visualElement)})}stop(e,i){const s=e||this.latestPointerEvent,l=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ke.postRender(()=>h(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,s){const{drag:l}=this.getProps();if(!s||!xl(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=hx(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Do(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=px(s.layoutBox,e):this.constraints=!1,this.elastic=vx(i),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=yx(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Do(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=CM(s,l.root,this.visualElement.getTransformPagePoint());let c=mx(l.layout.layoutBox,u);if(i){const h=i(TM(c));this.hasMutatedConstraints=!!h,h&&(c=HT(h))}return c}startAnimation(e){const{drag:i,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},p=Xt(v=>{if(!xl(v,i,this.currentDirection))return;let T=g&&g[v]||{};c&&(T={min:0,max:0});const S=l?200:1e6,C=l?40:1e7,_={type:"inertia",velocity:s?e[v]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,_)});return Promise.all(p).then(h)}startAxisValueAnimation(e,i){const s=this.getAxisMotionValue(e);return yf(this.visualElement,e),s.start(pd(e,s,0,i,this.visualElement,!1))}stopAnimation(){Xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xt(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[i];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xt(i=>{const{drag:s}=this.getProps();if(!xl(i,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(i);if(l&&l.layout){const{min:c,max:h}=l.layout.layoutBox[i];u.set(e[i]-qe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Do(i)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Xt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const g=h.get();l[c]=gx({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xt(c=>{if(!xl(c,e,null))return;const h=this.getAxisMotionValue(c),{min:g,max:p}=this.constraints[c];h.set(qe(g,p,l[c]))})}addListeners(){if(!this.visualElement.current)return;Tx.set(this.visualElement,this);const e=this.visualElement.current,i=Qs(e,"pointerdown",g=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();Do(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ke.read(s);const c=ta(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xt(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=Tf,dragMomentum:h=!0}=e;return{...e,drag:i,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function xl(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function Ex(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class Cx extends pi{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new Sx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ry=t=>(e,i)=>{t&&ke.postRender(()=>t(e,i))};class Ax extends pi{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new eS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:Ry(e),onStart:Ry(i),onMove:s,onEnd:(u,c)=>{delete this.session,l&&ke.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=Qs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let qc=!1;class _x extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=e;u&&(i.group&&i.group.add(u),s&&s.register&&l&&s.register(u),qc&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Pl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:s,drag:l,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,qc=!0,l||e.layoutDependency!==i||i===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||ke.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),id.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:l}=e;qc=!0,l&&(l.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nS(t){const[e,i]=_T(),s=F.useContext(Pf);return I.jsx(_x,{...t,layoutGroup:s,switchLayoutGroup:F.useContext(PT),isPresent:e,safeToRemove:i})}function Rx(t,e,i){const s=dt(t)?t:Oo(t);return s.start(pd("",s,e,i)),s.animation}const Mx=(t,e)=>t.depth-e.depth;class xx{constructor(){this.children=[],this.isDirty=!1}add(e){Of(this.children,e),this.isDirty=!0}remove(e){Bf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Mx),this.isDirty=!1,this.children.forEach(e)}}function Nx(t,e){const i=xt.now(),s=({timestamp:l})=>{const u=l-i;u>=e&&(di(s),t(u-e))};return ke.setup(s,!0),()=>di(s)}const iS=["TopLeft","TopRight","BottomLeft","BottomRight"],Ix=iS.length,My=t=>typeof t=="string"?parseFloat(t):t,xy=t=>typeof t=="number"||fe.test(t);function Dx(t,e,i,s,l,u){l?(t.opacity=qe(0,i.opacity??1,wx(s)),t.opacityExit=qe(e.opacity??1,0,bx(s))):u&&(t.opacity=qe(e.opacity??1,i.opacity??1,s));for(let c=0;c<Ix;c++){const h=`border${iS[c]}Radius`;let g=Ny(e,h),p=Ny(i,h);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||xy(g)===xy(p)?(t[h]=Math.max(qe(My(g),My(p),s),0),(gn.test(p)||gn.test(g))&&(t[h]+="%")):t[h]=p}(e.rotate||i.rotate)&&(t.rotate=qe(e.rotate||0,i.rotate||0,s))}function Ny(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wx=oS(0,.5,zv),bx=oS(.5,.95,Wt);function oS(t,e,i){return s=>s<t?0:s>e?1:i(Ws(t,e,s))}function Iy(t,e){t.min=e.min,t.max=e.max}function on(t,e){Iy(t.x,e.x),Iy(t.y,e.y)}function Dy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wy(t,e,i,s,l){return t-=e,t=zl(t,1/i,s),l!==void 0&&(t=zl(t,1/l,s)),t}function Ux(t,e=0,i=1,s=.5,l,u=t,c=t){if(gn.test(e)&&(e=parseFloat(e),e=qe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=qe(u.min,u.max,s);t===u&&(h-=e),t.min=wy(t.min,e,i,h,l),t.max=wy(t.max,e,i,h,l)}function by(t,e,[i,s,l],u,c){Ux(t,e[i],e[s],e[l],e.scale,u,c)}const Lx=["x","scaleX","originX"],Vx=["y","scaleY","originY"];function Uy(t,e,i,s){by(t.x,e,Lx,i?i.x:void 0,s?s.x:void 0),by(t.y,e,Vx,i?i.y:void 0,s?s.y:void 0)}function Ly(t){return t.translate===0&&t.scale===1}function sS(t){return Ly(t.x)&&Ly(t.y)}function Vy(t,e){return t.min===e.min&&t.max===e.max}function Px(t,e){return Vy(t.x,e.x)&&Vy(t.y,e.y)}function Py(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aS(t,e){return Py(t.x,e.x)&&Py(t.y,e.y)}function Gy(t){return vt(t.x)/vt(t.y)}function Hy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Gx{constructor(){this.members=[]}add(e){Of(this.members,e),e.scheduleRender()}remove(e){if(Bf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(l=>e===l);if(i===0)return!1;let s;for(let l=i;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,i){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,i&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:s}=e;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hx(t,e,i){let s="";const l=t.x.translate/e.x,u=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((l||u||c)&&(s=`translate3d(${l}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:p,rotate:v,rotateX:T,rotateY:S,skewX:C,skewY:_}=i;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),_&&(s+=`skewY(${_}deg) `)}const h=t.x.scale*e.x,g=t.y.scale*e.y;return(h!==1||g!==1)&&(s+=`scale(${h}, ${g})`),s||"none"}const zc=["","X","Y","Z"],Ox=1e3;let Bx=0;function Fc(t,e,i,s){const{latestValues:l}=e;l[t]&&(i[t]=l[t],e.setStaticValue(t,0),s&&(s[t]=0))}function lS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=JT(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ke,!(l||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&lS(s)}function rS({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},h=e==null?void 0:e()){this.id=Bx++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zx),this.nodes.forEach(Kx),this.nodes.forEach(Xx),this.nodes.forEach(Fx)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new xx)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new zf),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const g=this.eventHandlers.get(c);g&&g.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=AT(c)&&!bR(c),this.instance=c;const{layoutId:h,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||h)&&(this.isLayoutDirty=!0),t){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{T=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,v&&v(),v=Nx(S,250),Pl.hasAnimatedSinceResize&&(Pl.hasAnimatedSinceResize=!1,this.nodes.forEach(ky)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||jx,{onLayoutAnimationStart:N,onLayoutAnimationComplete:x}=p.getProps(),D=!this.targetLayout||!aS(this.targetLayout,C),H=!T&&S;if(this.options.layoutRoot||this.resumeFrom||H||T&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...td(_,"layout"),onPlay:N,onComplete:x};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(v,H)}else T||ky(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qx),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Oy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(By);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jx),this.nodes.forEach(kx),this.nodes.forEach(qx)):this.nodes.forEach(By),this.clearAllSnapshots();const h=xt.now();ct.delta=Vn(0,1e3/60,h-ct.timestamp),ct.timestamp=h,ct.isProcessing=!0,bc.update.process(ct),bc.preRender.process(ct),bc.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,id.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yx),this.sharedNodes.forEach(Zx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vt(this.snapshot.measuredBox.x)&&!vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!sS(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Pi(this.latestValues)||v)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return c&&(g=this.removeTransform(g)),eN(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return tt();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(tN))){const{scroll:v}=this.root;v&&(wo(h.x,v.offset.x),wo(h.y,v.offset.y))}return h}removeElementScroll(c){var g;const h=tt();if(on(h,c),(g=this.scroll)!=null&&g.wasRoot)return h;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:T,options:S}=v;v!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&on(h,c),wo(h.x,T.offset.x),wo(h.y,T.offset.y))}return h}applyTransform(c,h=!1){const g=tt();on(g,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&bo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Pi(v.latestValues)&&bo(g,v.latestValues)}return Pi(this.latestValues)&&bo(g,this.latestValues),g}removeTransform(c){const h=tt();on(h,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Pi(p.latestValues))continue;hf(p.latestValues)&&p.updateSnapshot();const v=tt(),T=p.measurePageBox();on(v,T),Uy(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Pi(this.latestValues)&&Uy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var C;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=ct.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ux(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),BT(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hf(this.parent.latestValues)||OT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Fl(this.relativeTargetOrigin,h,g),on(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var _;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(g=!1),g)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;on(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;EM(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dy(this.prevProjectionDelta.x,this.projectionDelta.x),Dy(this.prevProjectionDelta.y,this.projectionDelta.y)),Zs(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Hy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(c,h=!1){const g=this.snapshot,p=g?g.latestValues:{},v={...this.latestValues},T=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=tt(),C=g?g.source:void 0,_=this.layout?this.layout.source:void 0,N=C!==_,x=this.getStack(),D=!x||x.members.length<=1,H=!!(N&&!D&&this.options.crossfade===!0&&!this.path.some($x));this.animationProgress=0;let L;this.mixTargetDelta=K=>{const Q=K/1e3;qy(T.x,c.x,Q),qy(T.y,c.y,Q),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wx(this.relativeTarget,this.relativeTargetOrigin,S,Q),L&&Px(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=tt()),on(L,this.relativeTarget)),N&&(this.animationValues=v,Dx(v,p,this.latestValues,Q,H,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,g,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{Pl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oo(0)),this.currentAnimation=Rx(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ox),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:g,layout:p,latestValues:v}=c;if(!(!h||!g||!p)){if(this!==c&&this.layout&&p&&uS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||tt();const T=vt(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+T;const S=vt(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}on(h,g),bo(h,v),Zs(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Gx),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const p={};g.z&&Fc("z",c,p,this.animationValues);for(let v=0;v<zc.length;v++)Fc(`rotate${zc[v]}`,c,p,this.animationValues),Fc(`skew${zc[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Vl(h==null?void 0:h.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Vl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Pi(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=Hx(this.projectionDeltaWithTransform,this.treeScale,v);g&&(T=g(v,T)),c.transform=T;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const _ in df){if(v[_]===void 0)continue;const{correct:N,applyTo:x,isCSSVariable:D}=df[_],H=T==="none"?v[_]:N(v[_],p);if(x){const L=x.length;for(let K=0;K<L;K++)c[x[K]]=H}else D?this.options.visualElement.renderState.vars[_]=H:c[_]=H}this.options.layoutId&&(c.pointerEvents=p===this?Vl(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Oy),this.root.sharedNodes.clear()}}}function kx(t){t.updateLayout()}function qx(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?Xt(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],C=vt(S);S.min=s[T].min,S.max=S.min+C}):uS(u,e.layoutBox,s)&&Xt(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],C=vt(s[T]);S.max=S.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+C)});const h=Uo();Zs(h,s,e.layoutBox);const g=Uo();c?Zs(g,t.applyTransform(l,!0),e.measuredBox):Zs(g,s,e.layoutBox);const p=!sS(h);let v=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:C}=T;if(S&&C){const _=tt();Fl(_,e.layoutBox,S.layoutBox);const N=tt();Fl(N,s,C.layoutBox),aS(_,N)||(v=!0),T.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=_,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:g,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function zx(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yx(t){t.clearSnapshot()}function Oy(t){t.clearMeasurements()}function By(t){t.isLayoutDirty=!1}function Jx(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ky(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kx(t){t.resolveTargetDelta()}function Xx(t){t.calcProjection()}function Qx(t){t.resetSkewAndRotation()}function Zx(t){t.removeLeadSnapshot()}function qy(t,e,i){t.translate=qe(e.translate,0,i),t.scale=qe(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function zy(t,e,i,s){t.min=qe(e.min,i.min,s),t.max=qe(e.max,i.max,s)}function Wx(t,e,i,s){zy(t.x,e.x,i.x,s),zy(t.y,e.y,i.y,s)}function $x(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jx={duration:.45,ease:[.4,0,.1,1]},Fy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yy=Fy("applewebkit/")&&!Fy("chrome/")?Math.round:Wt;function Jy(t){t.min=Yy(t.min),t.max=Yy(t.max)}function eN(t){Jy(t.x),Jy(t.y)}function uS(t,e,i){return t==="position"||t==="preserve-aspect"&&!rx(Gy(e),Gy(i),.2)}function tN(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const nN=rS({attachResizeListener:(t,e)=>ta(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yc={current:void 0},cS=rS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yc.current){const t=new nN({});t.mount(window),t.setOptions({layoutScroll:!0}),Yc.current=t}return Yc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iN={pan:{Feature:Ax},drag:{Feature:Cx,ProjectionNode:cS,MeasureLayout:nS}};function Ky(t,e,i){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",i==="Start");const l="onHover"+i,u=s[l];u&&ke.postRender(()=>u(e,sa(e)))}class oN extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=xR(e,(i,s)=>(Ky(this.node,s,"Start"),l=>Ky(this.node,l,"End"))))}unmount(){}}class sN extends pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na(ta(this.node.current,"focus",()=>this.onFocus()),ta(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xy(t,e,i){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",i==="Start");const l="onTap"+(i==="End"?"":i),u=s[l];u&&ke.postRender(()=>u(e,sa(e)))}class aN extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=wR(e,(i,s)=>(Xy(this.node,s,"Start"),(l,{success:u})=>Xy(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sf=new WeakMap,Jc=new WeakMap,lN=t=>{const e=Sf.get(t.target);e&&e(t)},rN=t=>{t.forEach(lN)};function uN({root:t,...e}){const i=t||document;Jc.has(i)||Jc.set(i,{});const s=Jc.get(i),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(rN,{root:t,...e})),s[l]}function cN(t,e,i){const s=uN(e);return Sf.set(t,i),s.observe(t),()=>{Sf.delete(t),s.unobserve(t)}}const fN={some:0,all:1};class dN extends pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:s,amount:l="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:fN[l]},h=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=p?v:T;S&&S(g)};return cN(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(hN(e,i))&&this.startObserver()}unmount(){}}function hN({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const pN={inView:{Feature:dN},tap:{Feature:aN},focus:{Feature:sN},hover:{Feature:oN}},mN={layout:{ProjectionNode:cS,MeasureLayout:nS}},gN={...nx,...pN,...iN,...mN},Qt=vM(gN,wM);var R=(t=>(t.NEUTRAL="NEUTRAL",t.HAPPY="HAPPY",t.SAD="SAD",t.ANGRY="ANGRY",t.LOVE="LOVE",t.STAR="STAR",t.CONFUSED="CONFUSED",t.SLEEPING="SLEEPING",t.DIZZY="DIZZY",t.SURPRISED="SURPRISED",t.BORED="BORED",t.RICH="RICH",t.WINK="WINK",t.CRYING="CRYING",t.SHY="SHY",t.SCANNING="SCANNING",t.ATTENTION="ATTENTION",t.RECOGNIZING="RECOGNIZING",t.SPEECHLESS="SPEECHLESS",t.THINKING="THINKING",t.COOL="COOL",t.ANXIOUS="ANXIOUS",t.SHOCKED="SHOCKED",t.DREAMING="DREAMING",t.SUNNY="SUNNY",t.RAINY="RAINY",t.CLOUDY="CLOUDY",t.SNOWY="SNOWY",t.CAT="CAT",t.DOG="DOG",t.ELEPHANT="ELEPHANT",t.ANT="ANT",t.MONKEY="MONKEY",t.BIRD="BIRD",t.ALIEN="ALIEN",t.GHOST="GHOST",t.FIRE="FIRE",t.MUSIC="MUSIC",t.BROKEN="BROKEN",t.EATING="EATING",t.SMART="SMART",t.ROCKET="ROCKET",t.ZEN="ZEN",t.GLITCH="GLITCH",t.YES="YES",t.NO="NO",t))(R||{});const Qy=()=>I.jsx("rect",{x:"0",y:"0",width:"80",height:"100",rx:"20"}),Zy=()=>I.jsx("path",{d:"M0 60 Q 50 10 100 60",fill:"none",stroke:"currentColor",strokeWidth:"20",strokeLinecap:"round"}),Wy=()=>I.jsx("path",{d:"M0 20 Q 50 70 100 20",fill:"none",stroke:"currentColor",strokeWidth:"20",strokeLinecap:"round"}),yN=()=>I.jsx("path",{d:"M50 85 C 50 85 10 60 10 35 C 10 15 30 15 50 35 C 70 15 90 15 90 35 C 90 60 50 85 50 85",fill:"currentColor"}),vN=()=>I.jsx("path",{d:"M50 0 L 65 35 L 100 50 L 65 65 L 50 100 L 35 65 L 0 50 L 35 35 Z",fill:"currentColor"}),TN=()=>I.jsx("path",{d:"M50 50 m -40 0 a 40 40 0 1 0 80 0 a 40 40 0 1 0 -80 0 M50 50 m -25 0 a 25 25 0 1 0 50 0 a 25 25 0 1 0 -50 0",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round"}),SN=()=>I.jsxs("g",{children:[I.jsx("rect",{x:"0",y:"40",width:"80",height:"20",rx:"10"}),I.jsx("text",{x:"50",y:"30",fontSize:"40",fontWeight:"bold",fill:"currentColor",children:"?"})]}),EN=()=>I.jsxs("g",{children:[I.jsx("rect",{x:"0",y:"45",width:"100",height:"10",rx:"5"}),I.jsx("circle",{cx:"110",cy:"30",r:"5",fill:"currentColor"}),I.jsx("circle",{cx:"125",cy:"15",r:"8",fill:"currentColor"})]}),CN=()=>I.jsx("path",{d:"M0 20 L 100 60",fill:"none",stroke:"currentColor",strokeWidth:"25",strokeLinecap:"round"}),AN=()=>I.jsx("rect",{x:"15",y:"0",width:"50",height:"110",rx:"25"}),_N=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"20 10"}),I.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeDasharray:"5 5"}),I.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"currentColor"}),I.jsx("rect",{x:"0",y:"48",width:"100",height:"4",fill:"currentColor",opacity:"0.6"})]}),RN=()=>I.jsx("rect",{x:"0",y:"45",width:"100",height:"15",rx:"7.5",fill:"currentColor"}),MN=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"20",cy:"50",r:"12",fill:"currentColor"}),I.jsx("circle",{cx:"50",cy:"50",r:"12",fill:"currentColor"}),I.jsx("circle",{cx:"80",cy:"50",r:"12",fill:"currentColor"})]}),xN=()=>I.jsxs("g",{children:[I.jsx("rect",{x:"0",y:"30",width:"100",height:"40",rx:"5",fill:"currentColor"}),I.jsx("rect",{x:"10",y:"35",width:"80",height:"10",rx:"2",fill:"white",opacity:"0.3"})]}),NN=()=>I.jsx("path",{d:"M0 50 L 20 30 L 40 70 L 60 30 L 80 70 L 100 50",fill:"none",stroke:"currentColor",strokeWidth:"15",strokeLinecap:"round",strokeJoin:"round"}),IN=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"10"}),I.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"currentColor"})]}),DN=()=>I.jsx("path",{d:"M25 70 A 20 20 0 0 1 35 32 A 30 30 0 0 1 85 45 A 20 20 0 0 1 85 80 Z",fill:"currentColor"}),wN=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"50",cy:"50",r:"25",fill:"currentColor"}),[0,45,90,135,180,225,270,315].map(t=>I.jsx("line",{x1:"50",y1:"10",x2:"50",y2:"20",stroke:"currentColor",strokeWidth:"6",strokeLinecap:"round",transform:`rotate(${t} 50 50)`},t))]}),bN=()=>I.jsxs("g",{children:[I.jsx("path",{d:"M20 20 Q 50 10 80 20 Q 90 40 50 45 Q 10 40 20 20",fill:"currentColor",opacity:"0.4"}),I.jsx("path",{d:"M30 60 Q 35 55 40 60 Q 40 70 35 75 Q 30 70 30 60",fill:"currentColor"}),I.jsx("path",{d:"M60 60 Q 65 55 70 60 Q 70 70 65 75 Q 60 70 60 60",fill:"currentColor"}),I.jsx("path",{d:"M45 80 Q 50 75 55 80 Q 55 90 50 95 Q 45 90 45 80",fill:"currentColor"})]}),UN=()=>I.jsx("path",{d:"M25 70 A 20 20 0 0 1 35 32 A 30 30 0 0 1 85 45 A 20 20 0 0 1 85 80 Z",fill:"currentColor"}),LN=()=>I.jsxs("g",{children:[[0,60,120,180,240,300].map(t=>I.jsx("line",{x1:"50",y1:"20",x2:"50",y2:"80",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",transform:`rotate(${t} 50 50)`},t)),I.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"none",stroke:"currentColor",strokeWidth:"4"})]}),VN=()=>I.jsx("ellipse",{cx:"50",cy:"50",rx:"12",ry:"48",fill:"currentColor"}),PN=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"50",cy:"55",r:"38",fill:"currentColor"}),I.jsx("circle",{cx:"68",cy:"40",r:"12",fill:"white",opacity:"0.8"})]}),GN=()=>I.jsx("path",{d:"M30 20 Q 50 10 70 20 L 70 50 Q 70 90 20 80",fill:"none",stroke:"currentColor",strokeWidth:"18",strokeLinecap:"round"}),HN=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"30",cy:"30",r:"8",fill:"currentColor"}),I.jsx("circle",{cx:"70",cy:"30",r:"8",fill:"currentColor"}),I.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"currentColor"}),I.jsx("circle",{cx:"30",cy:"70",r:"8",fill:"currentColor"}),I.jsx("circle",{cx:"70",cy:"70",r:"8",fill:"currentColor"})]}),ON=()=>I.jsxs("g",{children:[I.jsx("circle",{cx:"35",cy:"50",r:"25",fill:"none",stroke:"currentColor",strokeWidth:"8"}),I.jsx("circle",{cx:"35",cy:"50",r:"5",fill:"currentColor"}),I.jsx("circle",{cx:"80",cy:"40",r:"15",fill:"none",stroke:"currentColor",strokeWidth:"8"}),I.jsx("circle",{cx:"80",cy:"40",r:"5",fill:"currentColor"})]}),BN=()=>I.jsx("path",{d:"M20 40 L 80 40 L 50 90 Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"5",strokeLineJoin:"round"}),kN=()=>I.jsx("path",{d:"M10 50 Q 10 0 50 10 Q 90 0 90 50 Q 90 100 50 90 Q 10 100 10 50",fill:"currentColor"}),qN=()=>I.jsx("path",{d:"M20 80 L 20 40 A 30 30 0 0 1 80 40 L 80 80 L 65 70 L 50 80 L 35 70 L 20 80",fill:"currentColor"}),zN=()=>I.jsx("path",{d:"M50 90 Q 90 90 90 50 Q 90 10 50 0 Q 10 10 10 50 Q 10 90 50 90 Z M 50 20 Q 50 50 70 50 Q 50 90 50 20",fill:"currentColor"}),FN=()=>I.jsx("path",{d:"M30 70 A 10 10 0 1 0 50 70 V 20 L 80 30 V 80",fill:"none",stroke:"currentColor",strokeWidth:"10",strokeLinecap:"round"}),YN=()=>I.jsxs("g",{children:[I.jsx("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"currentColor",strokeWidth:"15",strokeLinecap:"round"}),I.jsx("line",{x1:"80",y1:"20",x2:"20",y2:"80",stroke:"currentColor",strokeWidth:"15",strokeLinecap:"round"})]}),JN=()=>I.jsx("path",{d:"M50 50 L 90 20 A 45 45 0 1 1 90 80 Z",fill:"currentColor"}),KN=()=>I.jsxs("g",{children:[I.jsx("rect",{x:"5",y:"25",width:"90",height:"50",rx:"10",fill:"none",stroke:"currentColor",strokeWidth:"8"}),I.jsx("line",{x1:"50",y1:"25",x2:"50",y2:"35",stroke:"currentColor",strokeWidth:"4"})]}),XN=()=>I.jsx("path",{d:"M50 10 L 80 80 Q 50 90 20 80 Z",fill:"currentColor"}),QN=()=>I.jsx("path",{d:"M10 50 Q 50 60 90 50",fill:"none",stroke:"currentColor",strokeWidth:"12",strokeLinecap:"round"}),ZN=()=>I.jsxs("g",{children:[I.jsx("rect",{x:"10",y:"10",width:"80",height:"10",fill:"currentColor",opacity:"0.8"}),I.jsx("rect",{x:"20",y:"30",width:"60",height:"10",fill:"currentColor",opacity:"0.6","x-offset":"5"}),I.jsx("rect",{x:"15",y:"50",width:"70",height:"10",fill:"currentColor",opacity:"0.9"}),I.jsx("rect",{x:"25",y:"70",width:"50",height:"10",fill:"currentColor",opacity:"0.7"})]});var sn=(t=>(t[t.HAPPY=0]="HAPPY",t[t.SAD=1]="SAD",t[t.ANGRY=2]="ANGRY",t[t.SURPRISED=3]="SURPRISED",t[t.CONFUSED=4]="CONFUSED",t[t.SCANNING=5]="SCANNING",t[t.RECOGNIZING=6]="RECOGNIZING",t[t.DREAMING=7]="DREAMING",t[t.COOL=8]="COOL",t[t.BLIP=9]="BLIP",t))(sn||{});class WN{constructor(){this.audioCtx=null}initContext(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext)),this.audioCtx.state==="suspended"&&this.audioCtx.resume()}playBeep(e){if(this.initContext(),!this.audioCtx)return;const i=this.audioCtx.createOscillator(),s=this.audioCtx.createGain();i.connect(s),s.connect(this.audioCtx.destination);const l=this.audioCtx.currentTime;switch(e){case 0:i.type="sine",i.frequency.setValueAtTime(880,l),i.frequency.exponentialRampToValueAtTime(1320,l+.1),s.gain.setValueAtTime(0,l),s.gain.linearRampToValueAtTime(.08,l+.05),s.gain.linearRampToValueAtTime(0,l+.2),i.start(l),i.stop(l+.2);break;case 1:i.type="sine",i.frequency.setValueAtTime(440,l),i.frequency.linearRampToValueAtTime(220,l+.5),s.gain.setValueAtTime(.08,l),s.gain.linearRampToValueAtTime(0,l+.5),i.start(l),i.stop(l+.5);break;case 3:i.type="square",i.frequency.setValueAtTime(400,l),i.frequency.exponentialRampToValueAtTime(1600,l+.1),s.gain.setValueAtTime(.04,l),s.gain.linearRampToValueAtTime(0,l+.1),i.start(l),i.stop(l+.1);break;case 2:i.type="sawtooth",i.frequency.setValueAtTime(120,l),i.frequency.linearRampToValueAtTime(80,l+.3),s.gain.setValueAtTime(.08,l),s.gain.linearRampToValueAtTime(0,l+.3),i.start(l),i.stop(l+.3);break;case 4:i.type="triangle",i.frequency.setValueAtTime(300,l),s.gain.setValueAtTime(.08,l),s.gain.linearRampToValueAtTime(0,l+.1),i.start(l),i.stop(l+.1),setTimeout(()=>this.playBeep(9),150);break;case 6:i.type="sine",i.frequency.setValueAtTime(600,l),i.frequency.linearRampToValueAtTime(1200,l+.4),s.gain.setValueAtTime(0,l),s.gain.linearRampToValueAtTime(.04,l+.1),s.gain.linearRampToValueAtTime(0,l+.4),i.start(l),i.stop(l+.4);break;case 7:i.type="sine",i.frequency.setValueAtTime(600,l),i.frequency.linearRampToValueAtTime(900,l+.8),s.gain.setValueAtTime(0,l),s.gain.linearRampToValueAtTime(.03,l+.4),s.gain.linearRampToValueAtTime(0,l+.8),i.start(l),i.stop(l+.8);break;case 8:i.type="sine",i.frequency.setValueAtTime(300,l),i.frequency.exponentialRampToValueAtTime(100,l+.2),s.gain.setValueAtTime(.1,l),s.gain.linearRampToValueAtTime(0,l+.2),i.start(l),i.stop(l+.2);break;case 5:i.type="sine",i.frequency.setValueAtTime(1800,l),s.gain.setValueAtTime(.02,l),s.gain.linearRampToValueAtTime(0,l+.04),i.start(l),i.stop(l+.04);break;case 9:default:i.type="sine",i.frequency.setValueAtTime(1200,l),s.gain.setValueAtTime(.04,l),s.gain.linearRampToValueAtTime(0,l+.05),i.start(l),i.stop(l+.05);break}}}const pn=new WN,$N=({currentEmotion:t,isListening:e,isSoundEnabled:i=!0,lookDirection:s="center",targetObject:l=null,volume:u=0,brightness:c=.5,mousePos:h=null})=>{const[g,p]=F.useState({x:0,y:0,rotate:0,scanScale:1}),[v,T]=F.useState(!1),[S,C]=F.useState(!1),[_,N]=F.useState({y:0,x:0}),x=F.useRef(null),D=F.useRef(null),H=F.useRef(g);F.useEffect(()=>{if(i)switch(t){case R.HAPPY:case R.LOVE:case R.YES:case R.STAR:pn.playBeep(sn.HAPPY);break;case R.SAD:case R.BORED:case R.NO:case R.CRYING:pn.playBeep(sn.SAD);break;case R.SURPRISED:case R.SHOCKED:pn.playBeep(sn.SURPRISED);break;case R.ANGRY:pn.playBeep(sn.ANGRY);break;case R.CONFUSED:case R.DIZZY:case R.ANXIOUS:pn.playBeep(sn.CONFUSED);break;case R.RECOGNIZING:pn.playBeep(sn.RECOGNIZING);break;case R.SCANNING:case R.THINKING:pn.playBeep(sn.SCANNING);break;case R.COOL:pn.playBeep(sn.COOL);break;case R.DREAMING:pn.playBeep(sn.DREAMING);break;case R.ATTENTION:pn.playBeep(sn.BLIP);break}},[t,i]),F.useEffect(()=>{H.current=g},[g]);const L=F.useMemo(()=>{const q=(1-c)*.12,j=Math.max(0,(u-40)/200);return 1+q+Math.min(j,.25)},[c,u]),K=F.useMemo(()=>{if(u<45)return{x:0,y:0,rotate:0};const q=Math.min((u-40)/30,2.5),j=s!=="center"||l||h?.15:1;return{x:(Math.random()-.5)*q*j,y:(Math.random()-.5)*q*j,rotate:(Math.random()-.5)*(q*.3)*j}},[u,s,l,h]);F.useEffect(()=>{const q=()=>{if(t===R.SLEEPING||t===R.YES||t===R.NO||t===R.RECOGNIZING||t===R.SPEECHLESS||t===R.THINKING){p({x:0,y:0,rotate:0,scanScale:1}),C(!1),x.current=setTimeout(q,2500);return}let ee=0,se=0,te=0,pe=1,Ie=2800+Math.random()*5500,O=!1;const Z=!!l,ie=H.current.rotate;if(t===R.ANXIOUS)ee=(Math.random()-.5)*110,se=(Math.random()-.5)*50,te=ee*.12,pe=.85+Math.random()*.3,Ie=200+Math.random()*600;else if(h)ee=h.x*140,se=h.y*70,te=ee*.08,pe=1.15,Ie=100;else if(Z)s==="left"?ee=-95:s==="right"?ee=95:ee=0,se=(Math.random()-.5)*4,te=ee*.08,pe=1.18,Ie=Ie*4;else if(s!=="center")ee=s==="left"?-82:82,se=(Math.random()-.5)*10,te=s==="left"?-7:7,pe=1.12,Ie=Ie*2.2;else{const de=Math.random(),b=de>.85,X=de>.65&&de<=.85;if(b){const ne=ie*8,le=ie*2.5;ee=(Math.random()-.5)*110+ne,se=(Math.random()-.5)*50+le,ee=Math.max(-115,Math.min(115,ee)),se=Math.max(-60,Math.min(60,se)),te=ee*.12+se*.06,pe=.8+Math.random()*.35}else X?(O=!0,ee=(Math.random()-.5)*70,se=(Math.random()-.5)*40,te=ee*.06,pe=.95+Math.random()*.1,Ie=6e3+Math.random()*5e3):(ee=(Math.random()-.5)*22,se=(Math.random()-.5)*10,te=ee*.03,pe=1)}const ve=u>80?.7:1.3;C(O),p({x:ee,y:se,rotate:te,scanScale:pe}),x.current=setTimeout(q,Ie*ve)},j=()=>{const ee=l||h||S?.2:t===R.ANXIOUS?2.5:1;p(te=>({...te,x:te.x+(Math.random()-.5)*.7*ee,y:te.y+(Math.random()-.5)*.7*ee,rotate:te.rotate+(Math.random()-.5)*.18*ee}));const se=u>60||t===R.ANXIOUS?150:550;D.current=setTimeout(j,se+Math.random()*400)};return q(),j(),()=>{x.current&&clearTimeout(x.current),D.current&&clearTimeout(D.current)}},[t,s,l,u,S,h]),F.useEffect(()=>{const q=setInterval(()=>{if(t===R.SLEEPING||t===R.RECOGNIZING||t===R.SPEECHLESS)return;const ee=Math.random()>.85||t===R.ANXIOUS;T(!0),setTimeout(()=>{T(!1),ee&&setTimeout(()=>{T(!0),setTimeout(()=>T(!1),90)},70)},110)},(t===R.ANXIOUS?1200:4500)+Math.random()*8e3),j=setInterval(()=>{const ee=Date.now()/3200;N({y:Math.sin(ee)*(t===R.ANXIOUS?6:4),x:Math.cos(ee*.6)*1.5})},16);return()=>{clearInterval(q),clearInterval(j)}},[t]);const Q=(q,j)=>{switch(q){case R.HAPPY:return I.jsx(Zy,{});case R.SAD:return I.jsx(Wy,{});case R.LOVE:return I.jsx(yN,{});case R.STAR:return I.jsx(vN,{});case R.CONFUSED:return I.jsx(SN,{});case R.SLEEPING:return I.jsx(EN,{});case R.DIZZY:return I.jsx(TN,{});case R.SPEECHLESS:return I.jsx(RN,{});case R.THINKING:return I.jsx(Qt.g,{animate:{opacity:[1,.4,1]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:I.jsx(MN,{})});case R.COOL:return I.jsx(xN,{});case R.ANXIOUS:return I.jsx(Qt.g,{animate:{x:[-3,3,-3],y:[-2,2,-2]},transition:{repeat:1/0,duration:.08},children:I.jsx(NN,{})});case R.SHOCKED:return I.jsx(IN,{});case R.DREAMING:return I.jsx(DN,{});case R.RECOGNIZING:return I.jsx(Qt.g,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},children:I.jsx(_N,{})});case R.ANGRY:return I.jsx("g",{transform:j==="left"?"scale(1,1)":"scale(-1,1) translate(-100,0)",children:I.jsx(CN,{})});case R.SURPRISED:return I.jsx("circle",{cx:"50",cy:"50",r:"45"});case R.BORED:return I.jsx("rect",{x:"0",y:"48",width:"100",height:"12",rx:"6"});case R.ATTENTION:return I.jsx(AN,{});case R.SCANNING:return I.jsx("rect",{x:"0",y:"20",width:"100",height:"60",rx:"10"});case R.WINK:return j==="left"?I.jsx(Qy,{}):I.jsx("path",{d:"M0 60 Q 50 50 100 60",fill:"none",stroke:"currentColor",strokeWidth:"15",strokeLinecap:"round"});case R.SUNNY:return I.jsx(wN,{});case R.RAINY:return I.jsx(bN,{});case R.CLOUDY:return I.jsx(UN,{});case R.SNOWY:return I.jsx(LN,{});case R.YES:return I.jsx(Zy,{});case R.NO:return I.jsx(Wy,{});case R.CAT:return I.jsx(VN,{});case R.DOG:return I.jsx(PN,{});case R.ELEPHANT:return I.jsx(GN,{});case R.ANT:return I.jsx(HN,{});case R.MONKEY:return I.jsx(ON,{});case R.BIRD:return I.jsx(BN,{});case R.ALIEN:return I.jsx(kN,{});case R.GHOST:return I.jsx(qN,{});case R.FIRE:return I.jsx(zN,{});case R.MUSIC:return I.jsx(FN,{});case R.BROKEN:return I.jsx(YN,{});case R.EATING:return I.jsx(JN,{});case R.SMART:return I.jsx(KN,{});case R.ROCKET:return I.jsx(XN,{});case R.ZEN:return I.jsx(QN,{});case R.GLITCH:return I.jsx(ZN,{});default:return I.jsx(Qy,{})}},$=F.useMemo(()=>t===R.RECOGNIZING?"#22d3ee":t===R.ATTENTION?"#fbbf24":t===R.SCANNING?"#a855f7":t===R.HAPPY||t===R.LOVE||t===R.YES?"#f472b6":t===R.NO?"#ef4444":t===R.SUNNY?"#facc15":t===R.RAINY?"#60a5fa":t===R.SNOWY?"#e0f2fe":t===R.CLOUDY?"#94a3b8":t===R.SPEECHLESS?"#64748b":t===R.THINKING?"#fbbf24":t===R.COOL?"#2dd4bf":t===R.ANXIOUS?"#f97316":t===R.SHOCKED?"#ffffff":t===R.DREAMING?"#c084fc":t===R.CAT?"#fcd34d":t===R.DOG?"#a68a64":t===R.ELEPHANT?"#94a3b8":t===R.ANT?"#ef4444":t===R.MONKEY?"#d97706":t===R.BIRD?"#38bdf8":t===R.ALIEN?"#10b981":t===R.GHOST?"#e5e7eb":t===R.FIRE?"#ef4444":t===R.MUSIC?"#8b5cf6":t===R.BROKEN?"#dc2626":t===R.EATING?"#fbbf24":t===R.SMART?"#06b6d4":t===R.ROCKET?"#60a5fa":t===R.ZEN?"#86efac":t===R.GLITCH?"#bef264":e?"#4ade80":"#38bdf8",[t,e]),k={type:"spring",stiffness:S?15:t===R.ANXIOUS?250:l?115:80,damping:S?25:t===R.ANXIOUS?12:16,mass:S?2.5:t===R.ANXIOUS?.8:1.5,restDelta:.001},W={initial:{opacity:0,scale:.8,rotate:0,filter:"blur(10px)"},animate:()=>({opacity:1,scale:v?.02:L*g.scanScale,rotate:g.rotate+K.rotate,filter:"blur(0px)",x:(t===R.NO?[0,-35,35,-35,35,0]:g.x)+K.x+_.x,y:(t===R.YES?[0,-35,10,-35,10,0]:g.y+_.y)+K.y,transition:{...t===R.YES||t===R.NO?{x:{duration:.8},y:{duration:.8}}:k}}),exit:{opacity:0,scale:.7,rotate:0,filter:"blur(15px)",transition:{duration:.35,ease:"circIn"}}};return I.jsxs("div",{className:"flex items-center justify-center gap-20 md:gap-40 h-full w-full bg-black overflow-hidden relative perspective-1000",children:[I.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:I.jsx(Qt.div,{animate:{scale:[1,1.05,1],opacity:e?[.12,.25,.12]:[.03,.06,.03],boxShadow:`0 0 ${230*L*g.scanScale}px 90px ${$}`},transition:{repeat:1/0,duration:7,ease:"easeInOut"},className:"w-[90vw] h-[70vh] border-[50px] border-white/5 blur-3xl rounded-[220px] transition-colors duration-2500"})}),I.jsx("div",{className:"flex gap-20 md:gap-40 relative z-10 h-[260px] items-center",children:["left","right"].map(q=>I.jsx("div",{className:"relative w-[240px] h-[240px] flex items-center justify-center",children:I.jsx(ff,{initial:!1,children:I.jsx(Qt.div,{variants:W,initial:"initial",animate:"animate",exit:"exit",className:"absolute inset-0 flex items-center justify-center",style:{color:$,strokeWidth:L*2.2},children:I.jsx(Qt.div,{animate:e?{opacity:[1,.7,1]}:{},transition:{repeat:1/0,duration:2.2,ease:"easeInOut"},children:I.jsx("svg",{width:"230",height:"230",viewBox:"0 0 120 120",className:"fill-current stroke-current drop-shadow-[0_0_20px_rgba(255,255,255,0.06)]",children:I.jsx("g",{transform:"translate(10, 10)",children:Q(t,q)})})})},`${t}-${q}`)})},q))}),(e||t===R.SCANNING||t===R.RECOGNIZING)&&I.jsxs(Qt.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},className:"absolute bottom-16 flex flex-col items-center gap-5",children:[I.jsx("div",{className:"flex gap-3 h-8 items-center",children:[...Array(15)].map((q,j)=>I.jsx(Qt.div,{animate:{height:[6,26,6],opacity:[.1,1,.1]},transition:{repeat:1/0,duration:1.1,delay:j*.07,ease:"circInOut"},className:`w-1.5 rounded-full ${t===R.RECOGNIZING?"bg-cyan-500/60":t===R.SCANNING?"bg-purple-500/60":"bg-green-500/60"}`},j))}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:`text-[9px] uppercase font-black italic tracking-[0.8em] transition-colors ${t===R.RECOGNIZING?"text-cyan-400 opacity-70":t===R.SCANNING?"text-purple-400 opacity-70":"text-green-400 opacity-70"}`,children:t===R.RECOGNIZING?"Neural Recognizing":t===R.SCANNING?"Neural Sync":"Quantum Stream"}),I.jsx("div",{className:`h-[1px] w-28 mt-2 transition-colors ${t===R.RECOGNIZING?"bg-cyan-500/30":t===R.SCANNING?"bg-purple-500/30":"bg-green-500/30"}`})]})]})]})};class jN{constructor(){this.audioContext=null,this.analyser=null,this.stream=null,this.dataArray=null}async start(){try{console.log("Requesting microphone access..."),this.stream=await navigator.mediaDevices.getUserMedia({audio:!0}),console.log("Microphone access granted:",this.stream.id),(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext));const e=this.audioContext.createMediaStreamSource(this.stream);return this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=256,e.connect(this.analyser),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.audioContext.state==="suspended"&&await this.audioContext.resume(),!0}catch(e){return console.error("Audio Start Error:",e),this.stream&&(this.stream.getTracks().forEach(i=>i.stop()),this.stream=null),`${e.name} (${e.message})`}}stop(){var e;(e=this.stream)==null||e.getTracks().forEach(i=>i.stop()),this.audioContext&&(this.audioContext.close(),this.audioContext=null)}getVolume(){if(!this.analyser||!this.dataArray)return 0;this.analyser.getByteFrequencyData(this.dataArray);let e=0;for(let i=0;i<this.dataArray.length;i++)e+=this.dataArray[i];return e/this.dataArray.length}}const eI=t=>{const[e,i]=F.useState(!1),[s,l]=F.useState(!1),[u,c]=F.useState(0),[h,g]=F.useState(null),[p,v]=F.useState(null),[T,S]=F.useState(!1),C=F.useRef(!1);F.useEffect(()=>{C.current=T},[T]);const[_,N]=F.useState("");F.useEffect(()=>{if(_){const k=setTimeout(()=>N(""),5e3);return()=>clearTimeout(k)}},[_]);const x=F.useRef(null),D=F.useRef(new jN),H=F.useRef(null),L=F.useCallback(()=>{if(s){const k=D.current.getVolume();c(k),H.current=requestAnimationFrame(L)}},[s]);F.useEffect(()=>(s?H.current=requestAnimationFrame(L):(H.current&&cancelAnimationFrame(H.current),c(0)),()=>{H.current&&cancelAnimationFrame(H.current)}),[s,L]),F.useEffect(()=>{let k=!0;return setTimeout(async()=>{try{const q=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});k&&x.current&&(x.current.srcObject=q,i(!0))}catch(q){console.warn("Auto-start camera failed (interaction needed?):",q)}try{const q=await D.current.start();k&&q===!0&&l(!0)}catch(q){console.warn("Auto-start mic failed:",q)}},500),()=>{k=!1}},[]);const K=async()=>{var k;if(g(null),e){const W=(k=x.current)==null?void 0:k.srcObject;W==null||W.getTracks().forEach(q=>q.stop()),i(!1)}else try{const W=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});x.current&&(x.current.srcObject=W,i(!0))}catch{g("Fotocamera negata.")}},Q=async()=>{if(g(null),s)D.current.stop(),l(!1);else{const k=await D.current.start();k===!0?l(!0):g(typeof k=="string"?k:"Microfono negato.")}};F.useEffect(()=>{const k=window.SpeechRecognition||window.webkitSpeechRecognition;if(!k)return;const W=new k;if(W.continuous=!0,W.interimResults=!1,W.lang="it-IT",W.onresult=q=>{var se;const j=q.results[q.results.length-1][0].transcript;N(j);const ee=j.toLowerCase();if(ee.includes(t.toLowerCase())){const te=(se=ee.split(t.toLowerCase())[1])==null?void 0:se.trim();S(!0),te?(v(te),S(!0),setTimeout(()=>S(!1),1e3)):(v("WAKE_UP_TRIGGER"),S(!0),setTimeout(()=>S(!1),3e3))}else C.current&&(v(ee),S(!1))},W.onend=()=>{s&&setTimeout(()=>{try{W.start()}catch{}},300)},s)try{W.start()}catch{}return()=>{W.onend=null;try{W.stop()}catch{}}},[s,t]);const $=F.useCallback(()=>v(null),[]);return{videoRef:x,isCameraEnabled:e,isSensorEnabled:s,volume:u,lastCommand:p,transcript:_,clearCommand:$,toggleCamera:K,toggleSensor:Q,permissionError:h,isListeningForCommand:T}};var tI={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nI,iI;function oI(){return{geminiUrl:nI,vertexUrl:iI}}function sI(t,e,i,s){var l,u;if(!(t!=null&&t.baseUrl)){const c=oI();return e?(l=c.vertexUrl)!==null&&l!==void 0?l:i:(u=c.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hn{}function oe(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(t,e,i){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(i))t[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(i))for(let p=0;p<g.length;p++){const v=g[p];d(v,e.slice(u+1),i[p])}else for(const p of g)d(p,e.slice(u+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];d(g[0],e.slice(u+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],l=t[s];if(l!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===l)return;if(typeof l=="object"&&typeof i=="object"&&l!==null&&i!==null)Object.assign(l,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function f(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(h=>f(h,e.slice(s+1),i)):i}else return i}else t=t[l]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function aI(t,e){for(const[i,s]of Object.entries(e)){const l=i.split("."),u=s.split("."),c=new Set;let h=-1;for(let g=0;g<l.length;g++)if(l[g]==="*"){h=g;break}if(h!==-1&&u.length>h)for(let g=h;g<u.length;g++){const p=u[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Ef(t,l,u,0,c)}}function Ef(t,e,i,s,l){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const c=u.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])Ef(g,e,i,s+1,l)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(p=>!p.startsWith("_")&&!l.has(p)),g={};for(const p of h)g[p]=c[p];for(const[p,v]of Object.entries(g)){const T=[];for(const S of i.slice(s))S==="*"?T.push(p):T.push(S);d(c,T,v)}for(const p of h)delete c[p]}}else{const c=t;u in c&&Ef(c[u],e,i,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function md(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lI(t){const e={},i=f(t,["operationName"]);i!=null&&d(e,["operationName"],i);const s=f(t,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function rI(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],cI(c)),e}function uI(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],fI(c)),e}function cI(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>dI(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function fI(t){const e={},i=f(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>hI(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function dI(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],TI(i)),e}function hI(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],SI(i)),e}function pI(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function mI(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function gI(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],yI(c)),e}function yI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const l=f(t,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function fS(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],vI(c)),e}function vI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const l=f(t,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function TI(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],md(s));const l=f(t,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function SI(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],md(s));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $y;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($y||($y={}));var jy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jy||(jy={}));var e0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(e0||(e0={}));var yt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(yt||(yt={}));var t0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(t0||(t0={}));var n0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(n0||(n0={}));var i0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(i0||(i0={}));var o0;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(o0||(o0={}));var s0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(s0||(s0={}));var a0;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(a0||(a0={}));var l0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(l0||(l0={}));var r0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(r0||(r0={}));var u0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(u0||(u0={}));var c0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(c0||(c0={}));var f0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(f0||(f0={}));var d0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(d0||(d0={}));var h0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(h0||(h0={}));var p0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(p0||(p0={}));var m0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(m0||(m0={}));var Yl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Yl||(Yl={}));var g0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(g0||(g0={}));var y0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(y0||(y0={}));var v0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(v0||(v0={}));var Cf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cf||(Cf={}));var T0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(T0||(T0={}));var S0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(S0||(S0={}));var E0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(E0||(E0={}));var C0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(C0||(C0={}));var A0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(A0||(A0={}));var _0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_0||(_0={}));var R0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(R0||(R0={}));var M0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(M0||(M0={}));var x0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(x0||(x0={}));var N0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(N0||(N0={}));var I0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(I0||(I0={}));var D0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(D0||(D0={}));var w0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(w0||(w0={}));var b0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(b0||(b0={}));var U0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(U0||(U0={}));var L0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(L0||(L0={}));var V0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(V0||(V0={}));var P0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(P0||(P0={}));var G0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(G0||(G0={}));var H0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(H0||(H0={}));var O0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(O0||(O0={}));var B0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(B0||(B0={}));var k0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(k0||(k0={}));var q0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(q0||(q0={}));var z0;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(z0||(z0={}));var F0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(F0||(F0={}));var Y0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Y0||(Y0={}));var J0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(J0||(J0={}));var K0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(K0||(K0={}));var X0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(X0||(X0={}));var Q0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Q0||(Q0={}));var Lo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Lo||(Lo={}));class Af{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class zs{get text(){var e,i,s,l,u,c,h,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const T=[];for(const S of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[C,_]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(_!==null||_!==void 0)&&T.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,i,s,l,u,c,h,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const T of(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,C]of Object.entries(T))S!=="inlineData"&&(C!==null||C!==void 0)&&v.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,s,l,u,c,h,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,s,l,u,c,h,g,p;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,s,l,u,c,h,g,p;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Z0{}class W0{}class EI{}class CI{}class AI{}class _I{}class $0{}class j0{}class ev{}class RI{}class Jl{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Jl;let l;const u=e;return i?l=uI(u):l=rI(u),Object.assign(s,l),s}}class tv{}class nv{}class iv{}class ov{}class MI{}class xI{}class NI{}class gd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new gd,u=gI(e);return Object.assign(s,u),s}}class II{}class DI{}class wI{}class sv{}class bI{get text(){var e,i,s;let l="",u=!1;const c=[];for(const h of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,i,s;let l="";const u=[];for(const c of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&u.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class UI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new yd,u=fS(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function dS(t,e){const i=Ne(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function hS(t){return Array.isArray(t)?t.map(e=>Kl(e)):[Kl(t)]}function Kl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function pS(t){const e=Kl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mS(t){const e=Kl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function av(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function gS(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>av(e)):[av(t)]}function _f(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ht(t){if(t==null)throw new Error("ContentUnion is required");return _f(t)?t:{role:"user",parts:gS(t)}}function vd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=ht(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=ht(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ht(i)):[ht(e)]}function $t(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(lv(t)||rv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ht(t)]}const e=[],i=[],s=_f(t[0]);for(const l of t){const u=_f(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(lv(l)||rv(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return s||e.push({role:"user",parts:gS(i)}),e}function LI(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(yt).includes(i[0].toUpperCase())?i[0].toUpperCase():yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(yt).includes(s.toUpperCase())?s.toUpperCase():yt.TYPE_UNSPECIFIED})}}function Go(t){const e={},i=["items"],s=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&LI(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(yt).includes(h.toUpperCase())?h.toUpperCase():yt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Go(h);else if(s.includes(c)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(Go(p))}e[c]=g}else if(l.includes(c)){const g={};for(const[p,v]of Object.entries(h))g[p]=Go(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Td(t){return Go(t)}function Sd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ed(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Go(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Go(e.response));return t}function Yo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function VI(t,e,i,s=1){const l=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:l?`${i}/${e}`:e}function On(t,e){if(typeof e!="string")throw new Error("name must be a string");return VI(t,e,"cachedContents")}function yS(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function mi(t){return md(t)}function PI(t){return t!=null&&typeof t=="object"&&"name"in t}function GI(t){return t!=null&&typeof t=="object"&&"video"in t}function HI(t){return t!=null&&typeof t=="object"&&"uri"in t}function vS(t){var e;let i;if(PI(t)&&(i=t.name),!(HI(t)&&(i=t.uri,i===void 0))&&!(GI(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const l=i.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${i}`);i=l[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function TS(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function SS(t){for(const e of["models","tunedModels","publisherModels"])if(OI(t,e))return t[e];return[]}function OI(t,e){return t!==null&&typeof t=="object"&&e in t}function BI(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function kI(t,e={}){const i=[],s=new Set;for(const l of t){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const c=BI(l,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function ES(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,l=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function qI(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function CS(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const l=i.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let u=!1;for(const c of l){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Jo(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function AS(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zI(t){const e={},i=f(t,["responsesFile"]);i!=null&&d(e,["fileName"],i);const s=f(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>A1(c))),d(e,["inlinedResponses"],u)}const l=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["inlinedEmbedContentResponses"],u)}return e}function FI(t){const e={},i=f(t,["predictionsFormat"]);i!=null&&d(e,["format"],i);const s=f(t,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const l=f(t,["bigqueryDestination","outputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function YI(t){const e={},i=f(t,["format"]);i!=null&&d(e,["predictionsFormat"],i);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const l=f(t,["bigqueryUri"]);if(l!=null&&d(e,["bigqueryDestination","outputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Gl(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const l=f(t,["metadata","state"]);l!=null&&d(e,["state"],AS(l));const u=f(t,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const h=f(t,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const g=f(t,["metadata","model"]);g!=null&&d(e,["model"],g);const p=f(t,["metadata","output"]);return p!=null&&d(e,["dest"],zI(CS(p))),e}function Rf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const l=f(t,["state"]);l!=null&&d(e,["state"],AS(l));const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(e,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(e,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(e,["updateTime"],p);const v=f(t,["model"]);v!=null&&d(e,["model"],v);const T=f(t,["inputConfig"]);T!=null&&d(e,["src"],JI(T));const S=f(t,["outputConfig"]);S!=null&&d(e,["dest"],FI(CS(S)));const C=f(t,["completionStats"]);return C!=null&&d(e,["completionStats"],C),e}function JI(t){const e={},i=f(t,["instancesFormat"]);i!=null&&d(e,["format"],i);const s=f(t,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const l=f(t,["bigquerySource","inputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function KI(t,e){const i={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&d(i,["fileName"],s);const l=f(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>C1(t,c))),d(i,["requests","requests"],u)}return i}function XI(t){const e={},i=f(t,["format"]);i!=null&&d(e,["instancesFormat"],i);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const l=f(t,["bigqueryUri"]);if(l!=null&&d(e,["bigquerySource","inputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function QI(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function ZI(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Jo(t,s)),i}function WI(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Jo(t,s)),i}function $I(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],jI(s));const l=f(t,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const p=f(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=f(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function jI(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["citations"],s)}return e}function _S(t){const e={},i=f(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>D1(u))),d(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function e1(t,e){const i={},s=f(t,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function t1(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=f(t,["dest"]);return e!==void 0&&l!=null&&d(e,["outputConfig"],YI(qI(l))),i}function uv(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["src"]);l!=null&&d(i,["batch","inputConfig"],KI(t,ES(t,l)));const u=f(e,["config"]);return u!=null&&e1(u,i),i}function n1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],Ne(t,s));const l=f(e,["src"]);l!=null&&d(i,["inputConfig"],XI(ES(t,l)));const u=f(e,["config"]);return u!=null&&t1(u,i),i}function i1(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),i}function o1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["src"]);l!=null&&d(i,["batch","inputConfig"],f1(t,l));const u=f(e,["config"]);return u!=null&&i1(u,i),i}function s1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Jo(t,s)),i}function a1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Jo(t,s)),i}function l1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function r1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function u1(t,e){const i={},s=f(e,["contents"]);if(s!=null){let u=vd(t,s);Array.isArray(u)&&(u=u.map(c=>c)),d(i,["requests[]","request","content"],u)}const l=f(e,["config"]);return l!=null&&(d(i,["_self"],c1(l,i)),aI(i,{"requests[].*":"requests[].request.*"})),i}function c1(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const l=f(t,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function f1(t,e){const i={},s=f(e,["fileName"]);s!=null&&d(i,["file_name"],s);const l=f(e,["inlinedRequests"]);return l!=null&&d(i,["requests"],u1(t,l)),i}function d1(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function h1(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const l=f(t,["name"]);if(l!=null&&d(e,["name"],l),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function p1(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function m1(t,e,i){const s={},l=f(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],_S(ht(l)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const C=f(e,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const _=f(e,["frequencyPenalty"]);_!=null&&d(s,["frequencyPenalty"],_);const N=f(e,["seed"]);N!=null&&d(s,["seed"],N);const x=f(e,["responseMimeType"]);x!=null&&d(s,["responseMimeType"],x);const D=f(e,["responseSchema"]);D!=null&&d(s,["responseSchema"],Td(D));const H=f(e,["responseJsonSchema"]);if(H!=null&&d(s,["responseJsonSchema"],H),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=f(e,["safetySettings"]);if(i!==void 0&&L!=null){let te=L;Array.isArray(te)&&(te=te.map(pe=>w1(pe))),d(i,["safetySettings"],te)}const K=f(e,["tools"]);if(i!==void 0&&K!=null){let te=Yo(K);Array.isArray(te)&&(te=te.map(pe=>U1(Fo(pe)))),d(i,["tools"],te)}const Q=f(e,["toolConfig"]);if(i!==void 0&&Q!=null&&d(i,["toolConfig"],b1(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=f(e,["cachedContent"]);i!==void 0&&$!=null&&d(i,["cachedContent"],On(t,$));const k=f(e,["responseModalities"]);k!=null&&d(s,["responseModalities"],k);const W=f(e,["mediaResolution"]);W!=null&&d(s,["mediaResolution"],W);const q=f(e,["speechConfig"]);if(q!=null&&d(s,["speechConfig"],Sd(q)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=f(e,["thinkingConfig"]);j!=null&&d(s,["thinkingConfig"],j);const ee=f(e,["imageConfig"]);ee!=null&&d(s,["imageConfig"],E1(ee));const se=f(e,["enableEnhancedCivicAnswers"]);return se!=null&&d(s,["enableEnhancedCivicAnswers"],se),s}function g1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>$I(p))),d(e,["candidates"],g)}const l=f(t,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function y1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Jo(t,s)),i}function v1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Jo(t,s)),i}function T1(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function S1(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function E1(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function C1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["request","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let h=$t(l);Array.isArray(h)&&(h=h.map(g=>_S(g))),d(i,["request","contents"],h)}const u=f(e,["metadata"]);u!=null&&d(i,["metadata"],u);const c=f(e,["config"]);return c!=null&&d(i,["request","generationConfig"],m1(t,c,f(i,["request"],{}))),i}function A1(t){const e={},i=f(t,["response"]);i!=null&&d(e,["response"],g1(i));const s=f(t,["error"]);return s!=null&&d(e,["error"],s),e}function _1(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);if(e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function R1(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&d(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),i}function M1(t){const e={},i=f(t,["config"]);return i!=null&&_1(i,e),e}function x1(t){const e={},i=f(t,["config"]);return i!=null&&R1(i,e),e}function N1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Gl(c))),d(e,["batchJobs"],u)}return e}function I1(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Rf(c))),d(e,["batchJobs"],u)}return e}function D1(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],d1(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],h1(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],QI(g));const p=f(t,["text"]);p!=null&&d(e,["text"],p);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function w1(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function b1(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],p1(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function U1(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],T1(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],S1(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Gn||(Gn={}));class qi{constructor(e,i,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,l)}init(e,i,s){var l,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1 extends Hn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new qi(Gn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=uv(this.apiClient,e),s=i._url,l=oe("{model}:batchGenerateContent",s),h=i.batch.inputConfig.requests,g=h.requests,p=[];for(const v of g){const T=Object.assign({},v);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=S,T.request=C}p.push(T)}return h.requests=p,delete i.config,delete i._url,delete i._query,{path:l,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(c)s.dest=`${c}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=n1(this.apiClient,e);return h=oe("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rf(v))}else{const p=uv(this.apiClient,e);return h=oe("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Gl(v))}}async createEmbeddingsInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=o1(this.apiClient,e);return u=oe("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>Gl(g))}}async get(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=v1(this.apiClient,e);return h=oe("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rf(v))}else{const p=y1(this.apiClient,e);return h=oe("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Gl(v))}}async cancel(e){var i,s,l,u;let c="",h={};if(this.apiClient.isVertexAI()){const g=WI(this.apiClient,e);c=oe("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=ZI(this.apiClient,e);c=oe("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=x1(e);return h=oe("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=I1(v),S=new sv;return Object.assign(S,T),S})}else{const p=M1(e);return h=oe("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=N1(v),S=new sv;return Object.assign(S,T),S})}}async delete(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=a1(this.apiClient,e);return h=oe("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>r1(v))}else{const p=s1(this.apiClient,e);return h=oe("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>l1(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V1(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function cv(t){const e={},i=f(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>oD(u))),d(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function P1(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let v=$t(c);Array.isArray(v)&&(v=v.map(T=>cv(T))),d(e,["contents"],v)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],cv(ht(h)));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>aD(T))),d(e,["tools"],v)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],sD(p)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function G1(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=$t(c);Array.isArray(T)&&(T=T.map(S=>S)),d(e,["contents"],T)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],ht(h));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>lD(S))),d(e,["tools"],T)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],p);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),i}function H1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],dS(t,s));const l=f(e,["config"]);return l!=null&&P1(l,i),i}function O1(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],dS(t,s));const l=f(e,["config"]);return l!=null&&G1(l,i),i}function B1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],On(t,s)),i}function k1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],On(t,s)),i}function q1(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function z1(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function F1(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Y1(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const l=f(t,["name"]);if(l!=null&&d(e,["name"],l),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function J1(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function K1(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function X1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],On(t,s)),i}function Q1(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],On(t,s)),i}function Z1(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function W1(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function $1(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function j1(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function eD(t){const e={},i=f(t,["config"]);return i!=null&&$1(i,e),e}function tD(t){const e={},i=f(t,["config"]);return i!=null&&j1(i,e),e}function nD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function iD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function oD(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],F1(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],Y1(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],V1(g));const p=f(t,["text"]);p!=null&&d(e,["text"],p);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function sD(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],J1(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function aD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],Z1(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],W1(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function lD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>K1(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function rD(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),i}function uD(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),i}function cD(t,e){const i={},s=f(e,["name"]);s!=null&&d(i,["_url","name"],On(t,s));const l=f(e,["config"]);return l!=null&&rD(l,i),i}function fD(t,e){const i={},s=f(e,["name"]);s!=null&&d(i,["_url","name"],On(t,s));const l=f(e,["config"]);return l!=null&&uD(l,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dD extends Hn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new qi(Gn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=O1(this.apiClient,e);return h=oe("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=H1(this.apiClient,e);return h=oe("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Q1(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=X1(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=k1(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=z1(v),S=new iv;return Object.assign(S,T),S})}else{const p=B1(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=q1(v),S=new iv;return Object.assign(S,T),S})}}async update(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=fD(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=cD(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=tD(e);return h=oe("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=iD(v),S=new ov;return Object.assign(S,T),S})}else{const p=eD(e);return h=oe("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=nD(v),S=new ov;return Object.assign(S,T),S})}}}function Xl(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i}function fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(t){return this instanceof he?(this.v=t,this):new he(t)}function ln(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(_){return Promise.resolve(_).then(C,T)}}function h(C,_){s[C]&&(l[C]=function(N){return new Promise(function(x,D){u.push([C,N,x,D])>1||g(C,N)})},_&&(l[C]=_(l[C])))}function g(C,_){try{p(s[C](_))}catch(N){S(u[0][3],N)}}function p(C){C.value instanceof he?Promise.resolve(C.value.v).then(v,T):S(u[0][2],C)}function v(C){g("next",C)}function T(C){g("throw",C)}function S(C,_){C(_),u.shift(),u.length&&g(u[0][0],u[0][1])}}function rn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof fv=="function"?fv(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=t[u]&&function(c){return new Promise(function(h,g){c=t[u](c),l(h,g,c.done,c.value)})}}function l(u,c,h,g){Promise.resolve(g).then(function(p){u({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:RS(i)}function RS(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function pD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dv(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const l=[];let u=!0;for(;s<i&&t[s].role==="model";)l.push(t[s]),u&&!RS(t[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class mD{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new gD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gD{constructor(e,i,s,l={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),pD(u)}async sendMessage(e){var i;await this.sendPromise;const s=ht(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,c,h;const g=await l,p=(c=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(T))!==null&&h!==void 0?h:[]);const C=p?[p]:[];this.recordHistory(s,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var i;await this.sendPromise;const s=ht(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?dv(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return ln(this,arguments,function*(){var l,u,c,h,g,p;const v=[];try{for(var T=!0,S=rn(e),C;C=yield he(S.next()),l=C.done,!l;T=!0){h=C.value,T=!1;const _=h;if(hD(_)){const N=(p=(g=_.candidates)===null||g===void 0?void 0:g[0])===null||p===void 0?void 0:p.content;N!==void 0&&v.push(N)}yield yield he(_)}}catch(_){u={error:_}}finally{try{!T&&!l&&(c=S.return)&&(yield he(c.call(S)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let l=[];i.length>0&&i.every(u=>u.role!==void 0)?l=i:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...dv(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yD(t){const e={},i=f(t,["file"]);return i!=null&&d(e,["file"],i),e}function vD(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function TD(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],vS(i)),e}function SD(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function ED(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],vS(i)),e}function CD(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function AD(t){const e={},i=f(t,["config"]);return i!=null&&CD(i,e),e}function _D(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RD extends Hn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new qi(Gn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AD(e);return u=oe("files",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=_D(g),v=new II;return Object.assign(v,p),v})}}async createInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yD(e);return u=oe("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=vD(g),v=new DI;return Object.assign(v,p),v})}}async get(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ED(e);return u=oe("files/{file}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TD(e);return u=oe("files/{file}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=SD(g),v=new wI;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hl(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function MD(t){const e={},i=f(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>qD(u))),d(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function xD(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function ND(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const l=f(t,["name"]);if(l!=null&&d(e,["name"],l),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ID(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function DD(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const l=f(t,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=f(t,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const C=f(t,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const _=f(t,["responseModalities"]);_!=null&&d(e,["responseModalities"],_);const N=f(t,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const x=f(t,["routingConfig"]);x!=null&&d(e,["routingConfig"],x);const D=f(t,["seed"]);D!=null&&d(e,["seed"],D);const H=f(t,["speechConfig"]);H!=null&&d(e,["speechConfig"],H);const L=f(t,["stopSequences"]);L!=null&&d(e,["stopSequences"],L);const K=f(t,["temperature"]);K!=null&&d(e,["temperature"],K);const Q=f(t,["thinkingConfig"]);Q!=null&&d(e,["thinkingConfig"],Q);const $=f(t,["topK"]);$!=null&&d(e,["topK"],$);const k=f(t,["topP"]);if(k!=null&&d(e,["topP"],k),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wD(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function bD(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function UD(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],MD(ht(_)));const N=f(t,["tools"]);if(e!==void 0&&N!=null){let $=Yo(N);Array.isArray($)&&($=$.map(k=>FD(Fo(k)))),d(e,["setup","tools"],$)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&d(e,["setup","sessionResumption"],zD(x));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&d(e,["setup","inputAudioTranscription"],D);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&d(e,["setup","outputAudioTranscription"],H);const L=f(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&d(e,["setup","realtimeInputConfig"],L);const K=f(t,["contextWindowCompression"]);e!==void 0&&K!=null&&d(e,["setup","contextWindowCompression"],K);const Q=f(t,["proactivity"]);if(e!==void 0&&Q!=null&&d(e,["setup","proactivity"],Q),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function LD(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],DD(s));const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],ht(_));const N=f(t,["tools"]);if(e!==void 0&&N!=null){let k=Yo(N);Array.isArray(k)&&(k=k.map(W=>YD(Fo(W)))),d(e,["setup","tools"],k)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&d(e,["setup","sessionResumption"],x);const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&d(e,["setup","inputAudioTranscription"],D);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&d(e,["setup","outputAudioTranscription"],H);const L=f(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&d(e,["setup","realtimeInputConfig"],L);const K=f(t,["contextWindowCompression"]);e!==void 0&&K!=null&&d(e,["setup","contextWindowCompression"],K);const Q=f(t,["proactivity"]);e!==void 0&&Q!=null&&d(e,["setup","proactivity"],Q);const $=f(t,["explicitVadSignal"]);return e!==void 0&&$!=null&&d(e,["setup","explicitVadSignal"],$),i}function VD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&d(i,["config"],UD(l,i)),i}function PD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&d(i,["config"],LD(l,i)),i}function GD(t){const e={},i=f(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function HD(t){const e={},i=f(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["weightedPrompts"],s)}return e}function OD(t){const e={},i=f(t,["media"]);if(i!=null){let p=hS(i);Array.isArray(p)&&(p=p.map(v=>Hl(v))),d(e,["mediaChunks"],p)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],Hl(mS(s)));const l=f(t,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&d(e,["video"],Hl(pS(u)));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function BD(t){const e={},i=f(t,["media"]);if(i!=null){let p=hS(i);Array.isArray(p)&&(p=p.map(v=>v)),d(e,["mediaChunks"],p)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],mS(s));const l=f(t,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&d(e,["video"],pS(u));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const h=f(t,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function kD(t){const e={},i=f(t,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const s=f(t,["serverContent"]);s!=null&&d(e,["serverContent"],s);const l=f(t,["toolCall"]);l!=null&&d(e,["toolCall"],l);const u=f(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],JD(c));const h=f(t,["goAway"]);h!=null&&d(e,["goAway"],h);const g=f(t,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const p=f(t,["voiceActivityDetectionSignal"]);return p!=null&&d(e,["voiceActivityDetectionSignal"],p),e}function qD(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],xD(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],ND(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],Hl(g));const p=f(t,["text"]);p!=null&&d(e,["text"],p);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function zD(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],wD(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],bD(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function YD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>ID(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function JD(t){const e={},i=f(t,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const s=f(t,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const l=f(t,["candidatesTokenCount"]);l!=null&&d(e,["responseTokenCount"],l);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const g=f(t,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["promptTokensDetails"],C)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["cacheTokensDetails"],C)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["responseTokensDetails"],C)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(_=>_)),d(e,["toolUsePromptTokensDetails"],C)}const S=f(t,["trafficType"]);return S!=null&&d(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KD(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function XD(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],QD(s));const l=f(t,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const h=f(t,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const p=f(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=f(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function QD(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["citations"],s)}return e}function ZD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let u=$t(l);Array.isArray(u)&&(u=u.map(c=>c)),d(i,["contents"],u)}return i}function WD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["tokensInfo"],l)}return e}function $D(t){const e={},i=f(t,["values"]);i!=null&&d(e,["values"],i);const s=f(t,["statistics"]);return s!=null&&d(e,["statistics"],jD(s)),e}function jD(t){const e={},i=f(t,["truncated"]);i!=null&&d(e,["truncated"],i);const s=f(t,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function nr(t){const e={},i=f(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>rb(u))),d(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function ew(t){const e={},i=f(t,["controlType"]);i!=null&&d(e,["controlType"],i);const s=f(t,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function tw(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nw(t,e){const i={},s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],ht(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>IS(h))),d(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],Kw(u)),i}function iw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=$t(l);Array.isArray(c)&&(c=c.map(h=>nr(h))),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&tw(u),i}function ow(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=$t(l);Array.isArray(c)&&(c=c.map(h=>h)),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&nw(u,i),i}function sw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);s!=null&&d(e,["totalTokens"],s);const l=f(t,["cachedContentTokenCount"]);return l!=null&&d(e,["cachedContentTokenCount"],l),e}function aw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);return s!=null&&d(e,["totalTokens"],s),e}function lw(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ne(t,s)),i}function rw(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ne(t,s)),i}function uw(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function cw(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function fw(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const C=f(t,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const N=f(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&d(e,["parameters","addWatermark"],x);const D=f(t,["labels"]);e!==void 0&&D!=null&&d(e,["labels"],D);const H=f(t,["editMode"]);e!==void 0&&H!=null&&d(e,["parameters","editMode"],H);const L=f(t,["baseSteps"]);return e!==void 0&&L!=null&&d(e,["parameters","editConfig","baseSteps"],L),i}function dw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=f(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>pb(g))),d(i,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&fw(c,i),i}function hw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ir(u))),d(e,["generatedImages"],l)}return e}function pw(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const l=f(t,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function mw(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const l=f(t,["title"]);e!==void 0&&l!=null&&d(e,["instances[]","title"],l);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=f(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),i}function gw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let h=vd(t,l);Array.isArray(h)&&(h=h.map(g=>g)),d(i,["requests[]","content"],h)}const u=f(e,["config"]);u!=null&&pw(u,i);const c=f(e,["model"]);return c!==void 0&&d(i,["requests[]","model"],Ne(t,c)),i}function yw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=vd(t,l);Array.isArray(c)&&(c=c.map(h=>h)),d(i,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&mw(u,i),i}function vw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&d(e,["metadata"],l),e}function Tw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>$D(c))),d(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&d(e,["metadata"],l),e}function Sw(t){const e={},i=f(t,["endpoint"]);i!=null&&d(e,["name"],i);const s=f(t,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function Ew(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Cw(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const l=f(t,["name"]);if(l!=null&&d(e,["name"],l),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aw(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _w(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function Rw(t,e,i){const s={},l=f(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],nr(ht(l)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const C=f(e,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const _=f(e,["frequencyPenalty"]);_!=null&&d(s,["frequencyPenalty"],_);const N=f(e,["seed"]);N!=null&&d(s,["seed"],N);const x=f(e,["responseMimeType"]);x!=null&&d(s,["responseMimeType"],x);const D=f(e,["responseSchema"]);D!=null&&d(s,["responseSchema"],Td(D));const H=f(e,["responseJsonSchema"]);if(H!=null&&d(s,["responseJsonSchema"],H),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=f(e,["safetySettings"]);if(i!==void 0&&L!=null){let te=L;Array.isArray(te)&&(te=te.map(pe=>mb(pe))),d(i,["safetySettings"],te)}const K=f(e,["tools"]);if(i!==void 0&&K!=null){let te=Yo(K);Array.isArray(te)&&(te=te.map(pe=>Cb(Fo(pe)))),d(i,["tools"],te)}const Q=f(e,["toolConfig"]);if(i!==void 0&&Q!=null&&d(i,["toolConfig"],Eb(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=f(e,["cachedContent"]);i!==void 0&&$!=null&&d(i,["cachedContent"],On(t,$));const k=f(e,["responseModalities"]);k!=null&&d(s,["responseModalities"],k);const W=f(e,["mediaResolution"]);W!=null&&d(s,["mediaResolution"],W);const q=f(e,["speechConfig"]);if(q!=null&&d(s,["speechConfig"],Sd(q)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=f(e,["thinkingConfig"]);j!=null&&d(s,["thinkingConfig"],j);const ee=f(e,["imageConfig"]);ee!=null&&d(s,["imageConfig"],$w(ee));const se=f(e,["enableEnhancedCivicAnswers"]);return se!=null&&d(s,["enableEnhancedCivicAnswers"],se),s}function Mw(t,e,i){const s={},l=f(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],ht(l));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const h=f(e,["topK"]);h!=null&&d(s,["topK"],h);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const p=f(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const C=f(e,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const _=f(e,["frequencyPenalty"]);_!=null&&d(s,["frequencyPenalty"],_);const N=f(e,["seed"]);N!=null&&d(s,["seed"],N);const x=f(e,["responseMimeType"]);x!=null&&d(s,["responseMimeType"],x);const D=f(e,["responseSchema"]);D!=null&&d(s,["responseSchema"],Td(D));const H=f(e,["responseJsonSchema"]);H!=null&&d(s,["responseJsonSchema"],H);const L=f(e,["routingConfig"]);L!=null&&d(s,["routingConfig"],L);const K=f(e,["modelSelectionConfig"]);K!=null&&d(s,["modelConfig"],K);const Q=f(e,["safetySettings"]);if(i!==void 0&&Q!=null){let O=Q;Array.isArray(O)&&(O=O.map(Z=>Z)),d(i,["safetySettings"],O)}const $=f(e,["tools"]);if(i!==void 0&&$!=null){let O=Yo($);Array.isArray(O)&&(O=O.map(Z=>IS(Fo(Z)))),d(i,["tools"],O)}const k=f(e,["toolConfig"]);i!==void 0&&k!=null&&d(i,["toolConfig"],k);const W=f(e,["labels"]);i!==void 0&&W!=null&&d(i,["labels"],W);const q=f(e,["cachedContent"]);i!==void 0&&q!=null&&d(i,["cachedContent"],On(t,q));const j=f(e,["responseModalities"]);j!=null&&d(s,["responseModalities"],j);const ee=f(e,["mediaResolution"]);ee!=null&&d(s,["mediaResolution"],ee);const se=f(e,["speechConfig"]);se!=null&&d(s,["speechConfig"],Sd(se));const te=f(e,["audioTimestamp"]);te!=null&&d(s,["audioTimestamp"],te);const pe=f(e,["thinkingConfig"]);pe!=null&&d(s,["thinkingConfig"],pe);const Ie=f(e,["imageConfig"]);if(Ie!=null&&d(s,["imageConfig"],jw(Ie)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function hv(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=$t(l);Array.isArray(c)&&(c=c.map(h=>nr(h))),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(i,["generationConfig"],Rw(t,u,i)),i}function pv(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["contents"]);if(l!=null){let c=$t(l);Array.isArray(c)&&(c=c.map(h=>h)),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(i,["generationConfig"],Mw(t,u,i)),i}function mv(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>XD(p))),d(e,["candidates"],g)}const l=f(t,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function gv(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),d(e,["candidates"],p)}const l=f(t,["createTime"]);l!=null&&d(e,["createTime"],l);const u=f(t,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=f(t,["responseId"]);h!=null&&d(e,["responseId"],h);const g=f(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function xw(t,e){const i={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=f(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const v=f(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=f(t,["imageSize"]);if(e!==void 0&&C!=null&&d(e,["parameters","sampleImageSize"],C),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Nw(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const C=f(t,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const N=f(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&d(e,["parameters","addWatermark"],x);const D=f(t,["labels"]);e!==void 0&&D!=null&&d(e,["labels"],D);const H=f(t,["imageSize"]);e!==void 0&&H!=null&&d(e,["parameters","sampleImageSize"],H);const L=f(t,["enhancePrompt"]);return e!==void 0&&L!=null&&d(e,["parameters","enhancePrompt"],L),i}function Iw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&xw(u,i),i}function Dw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&Nw(u,i),i}function ww(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>zw(c))),d(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&d(e,["positivePromptSafetyAttributes"],xS(l)),e}function bw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>ir(c))),d(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&d(e,["positivePromptSafetyAttributes"],NS(l)),e}function Uw(t,e){const i={},s=f(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=f(t,["durationSeconds"]);if(e!==void 0&&l!=null&&d(e,["parameters","durationSeconds"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const h=f(t,["personGeneration"]);if(e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const p=f(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&d(e,["parameters","enhancePrompt"],p),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],or(v));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(C=>Vb(C))),d(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function Lw(t,e){const i={},s=f(t,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const u=f(t,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=f(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const g=f(t,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const p=f(t,["resolution"]);e!==void 0&&p!=null&&d(e,["parameters","resolution"],p);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","negativePrompt"],S);const C=f(t,["enhancePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","enhancePrompt"],C);const _=f(t,["generateAudio"]);e!==void 0&&_!=null&&d(e,["parameters","generateAudio"],_);const N=f(t,["lastFrame"]);e!==void 0&&N!=null&&d(e,["instances[0]","lastFrame"],un(N));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let L=x;Array.isArray(L)&&(L=L.map(K=>Pb(K))),d(e,["instances[0]","referenceImages"],L)}const D=f(t,["mask"]);e!==void 0&&D!=null&&d(e,["instances[0]","mask"],Lb(D));const H=f(t,["compressionQuality"]);return e!==void 0&&H!=null&&d(e,["parameters","compressionQuality"],H),i}function Vw(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],Ow(c)),e}function Pw(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],Bw(c)),e}function Gw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&d(i,["instances[0]","image"],or(u));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],DS(c));const h=f(e,["source"]);h!=null&&kw(h,i);const g=f(e,["config"]);return g!=null&&Uw(g,i),i}function Hw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&d(i,["instances[0]","image"],un(u));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],wS(c));const h=f(e,["source"]);h!=null&&qw(h,i);const g=f(e,["config"]);return g!=null&&Lw(g,i),i}function Ow(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>Yw(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function Bw(t){const e={},i=f(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>Jw(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function kw(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=f(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],or(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],DS(u)),i}function qw(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=f(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],un(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],wS(u)),i}function zw(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],eb(i));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const l=f(t,["_self"]);return l!=null&&d(e,["safetyAttributes"],xS(l)),e}function ir(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],MS(i));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const l=f(t,["_self"]);l!=null&&d(e,["safetyAttributes"],NS(l));const u=f(t,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function Fw(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["mask"],MS(i));const s=f(t,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["labels"],l)}return e}function Yw(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],bb(i)),e}function Jw(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],Ub(i)),e}function Kw(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const l=f(t,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const h=f(t,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=f(t,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const C=f(t,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const _=f(t,["responseModalities"]);_!=null&&d(e,["responseModalities"],_);const N=f(t,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const x=f(t,["routingConfig"]);x!=null&&d(e,["routingConfig"],x);const D=f(t,["seed"]);D!=null&&d(e,["seed"],D);const H=f(t,["speechConfig"]);H!=null&&d(e,["speechConfig"],H);const L=f(t,["stopSequences"]);L!=null&&d(e,["stopSequences"],L);const K=f(t,["temperature"]);K!=null&&d(e,["temperature"],K);const Q=f(t,["thinkingConfig"]);Q!=null&&d(e,["thinkingConfig"],Q);const $=f(t,["topK"]);$!=null&&d(e,["topK"],$);const k=f(t,["topP"]);if(k!=null&&d(e,["topP"],k),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Xw(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ne(t,s)),i}function Qw(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Ne(t,s)),i}function Zw(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Ww(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function $w(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jw(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);s!=null&&d(e,["imageSize"],s);const l=f(t,["outputMimeType"]);l!=null&&d(e,["imageOutputOptions","mimeType"],l);const u=f(t,["outputCompressionQuality"]);return u!=null&&d(e,["imageOutputOptions","compressionQuality"],u),e}function eb(t){const e={},i=f(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],mi(i));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function MS(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],mi(s));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function or(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],mi(i));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function un(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],mi(s));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function tb(t,e,i){const s={},l=f(e,["pageSize"]);i!==void 0&&l!=null&&d(i,["_query","pageSize"],l);const u=f(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const h=f(e,["queryBase"]);return i!==void 0&&h!=null&&d(i,["_url","models_url"],TS(t,h)),s}function nb(t,e,i){const s={},l=f(e,["pageSize"]);i!==void 0&&l!=null&&d(i,["_query","pageSize"],l);const u=f(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const h=f(e,["queryBase"]);return i!==void 0&&h!=null&&d(i,["_url","models_url"],TS(t,h)),s}function ib(t,e){const i={},s=f(e,["config"]);return s!=null&&tb(t,s,i),i}function ob(t,e){const i={},s=f(e,["config"]);return s!=null&&nb(t,s,i),i}function sb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["_self"]);if(l!=null){let u=SS(l);Array.isArray(u)&&(u=u.map(c=>Mf(c))),d(e,["models"],u)}return e}function ab(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["_self"]);if(l!=null){let u=SS(l);Array.isArray(u)&&(u=u.map(c=>xf(c))),d(e,["models"],u)}return e}function lb(t){const e={},i=f(t,["maskMode"]);i!=null&&d(e,["maskMode"],i);const s=f(t,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const l=f(t,["maskDilation"]);return l!=null&&d(e,["dilation"],l),e}function Mf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const l=f(t,["description"]);l!=null&&d(e,["description"],l);const u=f(t,["version"]);u!=null&&d(e,["version"],u);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],Ab(c));const h=f(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const g=f(t,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const p=f(t,["supportedGenerationMethods"]);p!=null&&d(e,["supportedActions"],p);const v=f(t,["temperature"]);v!=null&&d(e,["temperature"],v);const T=f(t,["maxTemperature"]);T!=null&&d(e,["maxTemperature"],T);const S=f(t,["topP"]);S!=null&&d(e,["topP"],S);const C=f(t,["topK"]);C!=null&&d(e,["topK"],C);const _=f(t,["thinking"]);return _!=null&&d(e,["thinking"],_),e}function xf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const l=f(t,["description"]);l!=null&&d(e,["description"],l);const u=f(t,["versionId"]);u!=null&&d(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>Sw(S))),d(e,["endpoints"],T)}const h=f(t,["labels"]);h!=null&&d(e,["labels"],h);const g=f(t,["_self"]);g!=null&&d(e,["tunedModelInfo"],_b(g));const p=f(t,["defaultCheckpointId"]);p!=null&&d(e,["defaultCheckpointId"],p);const v=f(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),d(e,["checkpoints"],T)}return e}function rb(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],Ew(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],Cw(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],KD(g));const p=f(t,["text"]);p!=null&&d(e,["text"],p);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function ub(t){const e={},i=f(t,["productImage"]);return i!=null&&d(e,["image"],un(i)),e}function cb(t,e){const i={},s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const l=f(t,["baseSteps"]);e!==void 0&&l!=null&&d(e,["parameters","baseSteps"],l);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const p=f(t,["addWatermark"]);e!==void 0&&p!=null&&d(e,["parameters","addWatermark"],p);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const C=f(t,["labels"]);return e!==void 0&&C!=null&&d(e,["labels"],C),i}function fb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["source"]);l!=null&&hb(l,i);const u=f(e,["config"]);return u!=null&&cb(u,i),i}function db(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>ir(l))),d(e,["generatedImages"],s)}return e}function hb(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=f(t,["personImage"]);e!==void 0&&l!=null&&d(e,["instances[0]","personImage","image"],un(l));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>ub(h))),d(e,["instances[0]","productImages"],c)}return i}function pb(t){const e={},i=f(t,["referenceImage"]);i!=null&&d(e,["referenceImage"],un(i));const s=f(t,["referenceId"]);s!=null&&d(e,["referenceId"],s);const l=f(t,["referenceType"]);l!=null&&d(e,["referenceType"],l);const u=f(t,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],lb(u));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],ew(c));const h=f(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],h);const g=f(t,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function xS(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const l=f(t,["contentType"]);return l!=null&&d(e,["contentType"],l),e}function NS(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const l=f(t,["contentType"]);return l!=null&&d(e,["contentType"],l),e}function mb(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function gb(t){const e={},i=f(t,["image"]);return i!=null&&d(e,["image"],un(i)),e}function yb(t,e){const i={},s=f(t,["mode"]);e!==void 0&&s!=null&&d(e,["parameters","mode"],s);const l=f(t,["maxPredictions"]);e!==void 0&&l!=null&&d(e,["parameters","maxPredictions"],l);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const h=f(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&d(e,["parameters","binaryColorThreshold"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),i}function vb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["source"]);l!=null&&Sb(l,i);const u=f(e,["config"]);return u!=null&&yb(u,i),i}function Tb(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Fw(l))),d(e,["generatedMasks"],s)}return e}function Sb(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=f(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],un(l));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],gb(u)),i}function Eb(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],Aw(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function Cb(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],Zw(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],Ww(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function IS(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>_w(S))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const h=f(t,["enterpriseWebSearch"]);h!=null&&d(e,["enterpriseWebSearch"],h);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const p=f(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],p);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function Ab(t){const e={},i=f(t,["baseModel"]);i!=null&&d(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const l=f(t,["updateTime"]);return l!=null&&d(e,["updateTime"],l),e}function _b(t){const e={},i=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const l=f(t,["updateTime"]);return l!=null&&d(e,["updateTime"],l),e}function Rb(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=f(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function Mb(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=f(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function xb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","name"],Ne(t,s));const l=f(e,["config"]);return l!=null&&Rb(l,i),i}function Nb(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&Mb(l,i),i}function Ib(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const l=f(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&d(e,["parameters","safetySetting"],l);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const h=f(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const g=f(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const p=f(t,["enhanceInputImage"]);e!==void 0&&p!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&d(e,["parameters","sampleCount"],S);const C=f(t,["mode"]);return e!==void 0&&C!=null&&d(e,["parameters","mode"],C),i}function Db(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Ne(t,s));const l=f(e,["image"]);l!=null&&d(i,["instances[0]","image"],un(l));const u=f(e,["upscaleFactor"]);u!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&Ib(c,i),i}function wb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ir(u))),d(e,["generatedImages"],l)}return e}function bb(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],mi(s));const l=f(t,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function Ub(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],mi(s));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Lb(t){const e={},i=f(t,["image"]);i!=null&&d(e,["_self"],un(i));const s=f(t,["maskMode"]);return s!=null&&d(e,["maskMode"],s),e}function Vb(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],or(i));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function Pb(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],un(i));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function DS(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["videoBytes"]);s!=null&&d(e,["encodedVideo"],mi(s));const l=f(t,["mimeType"]);return l!=null&&d(e,["encoding"],l),e}function wS(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],mi(s));const l=f(t,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gb(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),i}function Hb(t){const e={},i=f(t,["config"]);return i!=null&&Gb(i,e),e}function Ob(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function Bb(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&Ob(s,e),e}function kb(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function qb(t,e){const i={},s=f(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["customMetadata"],u)}const l=f(t,["chunkingConfig"]);return e!==void 0&&l!=null&&d(e,["chunkingConfig"],l),i}function zb(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const l=f(t,["done"]);l!=null&&d(e,["done"],l);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],Yb(c)),e}function Fb(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=f(t,["fileName"]);s!=null&&d(e,["fileName"],s);const l=f(t,["config"]);return l!=null&&qb(l,e),e}function Yb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const l=f(t,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function Jb(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function Kb(t){const e={},i=f(t,["config"]);return i!=null&&Jb(i,e),e}function Xb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["fileSearchStores"],u)}return e}function bS(t,e){const i={},s=f(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const l=f(t,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const u=f(t,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["customMetadata"],h)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),i}function Qb(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=f(t,["config"]);return s!=null&&bS(s,e),e}function Zb(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wb="Content-Type",$b="X-Server-Timeout",jb="User-Agent",Nf="x-goog-api-client",eU="1.34.0",tU=`google-genai-sdk/${eU}`,nU="v1beta1",iU="v1beta";class oU{constructor(e){var i,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nU,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:iU,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const l=[this.getRequestUrlInternal(i)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))l.searchParams.append(c,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(i))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,l){if(i&&i.timeout||l){const u=new AbortController,c=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>u.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=c}return i&&i.extraBody!==null&&sU(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await yv(l),new Af(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await yv(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return ln(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:v}=yield he(l.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=u.decode(v,{stream:!0});try{const _=JSON.parse(T);if("error"in _){const N=JSON.parse(JSON.stringify(_.error)),x=N.status,D=N.code,H=`got status: ${x}. ${JSON.stringify(_)}`;if(D>=400&&D<600)throw new tr({message:H,status:D})}}catch(_){if(_.name==="ApiError")throw _}c+=T;let S=-1,C=0;for(;;){S=-1,C=0;for(const x of g){const D=c.indexOf(x);D!==-1&&(S===-1||D<S)&&(S=D,C=x.length)}if(S===-1)break;const _=c.substring(0,S);c=c.substring(S+C);const N=_.trim();if(N.startsWith(h)){const x=N.substring(h.length).trim();try{const D=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield he(new Af(D))}catch(D){throw new Error(`exception parsing stream chunk ${x}. ${D}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=tU+" "+this.clientOptions.userAgentExtra;return e[jb]=i,e[Nf]=i,e[Wb]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append($b,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const l={};i!=null&&(l.mimeType=i.mimeType,l.name=i.name,l.displayName=i.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const h=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const g={file:l},p=this.getFileName(e),v=oe("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,p,g,i==null?void 0:i.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,s){var l;const u=this.clientOptions.uploader,c=await u.stat(i),h=String(c.size),g=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),T={};s!=null&&bS(s,T);const S=await this.fetchUploadUrl(p,h,g,v,T,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,l,u,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const p=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function yv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(s);throw i>=400&&i<600?new tr({message:l,status:i}):new Error(l)}}function sU(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,c){const h=Object.assign({},u);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=s(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const l=s(i,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aU="mcp_used/unknown";let lU=!1;function US(t){for(const e of t)if(rU(e)||typeof e=="object"&&"inputSchema"in e)return!0;return lU}function LS(t){var e;const i=(e=t[Nf])!==null&&e!==void 0?e:"";t[Nf]=(i+` ${aU}`).trimStart()}function rU(t){return t!==null&&typeof t=="object"&&t instanceof Cd}function uU(t){return ln(this,arguments,function*(i,s=100){let l,u=0;for(;u<s;){const c=yield he(i.listTools({cursor:l}));for(const h of c.tools)yield yield he(h),u++;if(!c.nextCursor)break;l=c.nextCursor}})}class Cd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Cd(e,i)}async initialize(){var e,i,s,l;if(this.mcpTools.length>0)return;const u={},c=[];for(const v of this.mcpClients)try{for(var h=!0,g=(i=void 0,rn(uU(v))),p;p=await g.next(),e=p.done,!e;h=!0){l=p.value,h=!1;const T=l;c.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(T){i={error:T}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),kI(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await l.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cU(t,e,i){const s=new UI;let l;i.data instanceof Blob?l=JSON.parse(await i.data.text()):l=JSON.parse(i.data),Object.assign(s,l),e(s)}class fU{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=pU(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(L=>{p=L}),T=e.callbacks,S=function(){p({})},C=this.apiClient,_={onopen:S,onmessage:L=>{cU(C,T.onmessage,L)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(L){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(L){}},N=this.webSocketFactory.create(g,hU(c),_);N.connect(),await v;const H={setup:{model:Ne(this.apiClient,e.model)}};return N.send(JSON.stringify(H)),new dU(N,this.apiClient)}}class dU{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=HD(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=GD(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}}function hU(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function pU(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mU="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gU(t,e,i){const s=new bI;let l;i.data instanceof Blob?l=await i.data.text():i.data instanceof ArrayBuffer?l=new TextDecoder().decode(i.data):l=i.data;const u=JSON.parse(l);if(t.isVertexAI()){const c=kD(u);Object.assign(s,c)}else Object.assign(s,u);e(s)}class yU{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new fU(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,l,u,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&US(e.config.tools)&&LS(T);const S=EU(T);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const q=this.apiClient.getApiKey();let j="BidiGenerateContent",ee="key";q!=null&&q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",ee="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${j}?${ee}=${q}`}let C=()=>{};const _=new Promise(q=>{C=q}),N=e.callbacks,x=function(){var q;(q=N==null?void 0:N.onopen)===null||q===void 0||q.call(N),C({})},D=this.apiClient,H={onopen:x,onmessage:q=>{gU(D,N.onmessage,q)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(q){},onclose:(s=N==null?void 0:N.onclose)!==null&&s!==void 0?s:function(q){}},L=this.webSocketFactory.create(v,SU(S),H);L.connect(),await _;let K=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const q=this.apiClient.getProject(),j=this.apiClient.getLocation();K=`projects/${q}/locations/${j}/`+K}let Q={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yl.AUDIO]}:e.config.responseModalities=[Yl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],k=[];for(const q of $)if(this.isCallableTool(q)){const j=q;k.push(await j.tool())}else k.push(q);k.length>0&&(e.config.tools=k);const W={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Q=PD(this.apiClient,W):Q=VD(this.apiClient,W),delete Q.config,L.send(JSON.stringify(Q)),new TU(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vU={turnComplete:!0};class TU{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=$t(i.turns),e.isVertexAI()||(s=s.map(l=>nr(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(mU)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},vU),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:BD(e)}:i={realtimeInput:OD(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function SU(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function EU(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vv=10;function Tv(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ho(c)){l=!0;break}if(!l)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Ho(t){return"callTool"in t&&typeof t.callTool=="function"}function CU(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(l=>Ho(l)))!==null&&s!==void 0?s:!1}function Sv(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,l)=>{if(Ho(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(l)}),i}function Ev(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AU extends Hn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,l,u,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!CU(i)||Tv(i.config))return await this.generateContentInternal(g);const p=Sv(i);if(p.length>0){const N=p.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let v,T;const S=$t(g.contents),C=(u=(l=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:vv;let _=0;for(;_<C&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const N=v.candidates[0].content,x=[];for(const D of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Ho(D)){const L=await D.callTool(v.functionCalls);x.push(...L)}_++,T={role:"user",parts:x},g.contents=$t(g.contents),g.contents.push(N),g.contents.push(T),Ev(g.config)&&(S.push(N),S.push(T))}return Ev(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async i=>{var s,l,u,c,h;if(this.maybeMoveToResponseJsonSchem(i),Tv(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const g=Sv(i);if(g.length>0){const T=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(u=(l=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var l;let u;const c=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((l=g==null?void 0:g.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:c.push(g);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async i=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new qi(Gn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const l={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async i=>{var s,l,u,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((l=i.video)===null||l===void 0)&&l.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(u=i.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,l;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const c=await Promise.all(u.map(async g=>Ho(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&US(e.config.tools)){const g=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),LS(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var i,s,l;const u=new Map;for(const c of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(Ho(c)){const h=c,g=await h.tool();for(const p of(l=g.functionDeclarations)!==null&&l!==void 0?l:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,h)}}return u}async processAfcStream(e){var i,s,l;const u=(l=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:vv;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,v,T){return ln(this,arguments,function*(){for(var S,C,_,N,x,D;h<u;){c&&(h++,c=!1);const Q=yield he(p.processParamsMaybeAddMcpUsage(T)),$=yield he(p.generateContentStreamInternal(Q)),k=[],W=[];try{for(var H=!0,L=(C=void 0,rn($)),K;K=yield he(L.next()),S=K.done,!S;H=!0){N=K.value,H=!1;const q=N;if(yield yield he(q),q.candidates&&(!((x=q.candidates[0])===null||x===void 0)&&x.content)){W.push(q.candidates[0].content);for(const j of(D=q.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(h<u&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(j.functionCall.name)){const ee=yield he(v.get(j.functionCall.name).callTool([j.functionCall]));k.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(q){C={error:q}}finally{try{!H&&!S&&(_=L.return)&&(yield he(_.call(L)))}finally{if(C)throw C.error}}if(k.length>0){c=!0;const q=new zs;q.candidates=[{content:{role:"user",parts:k}}],yield yield he(q);const j=[];j.push(...W),j.push({role:"user",parts:k});const ee=$t(T.contents).concat(j);T.contents=ee}else break}})})(this,g,e)}async generateContentInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=pv(this.apiClient,e);return h=oe("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=gv(v),S=new zs;return Object.assign(S,T),S})}else{const p=hv(this.apiClient,e);return h=oe("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=mv(v),S=new zs;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=pv(this.apiClient,e);return h=oe("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return ln(this,arguments,function*(){var S,C,_,N;try{for(var x=!0,D=rn(T),H;H=yield he(D.next()),S=H.done,!S;x=!0){N=H.value,x=!1;const L=N,K=gv(yield he(L.json()));K.sdkHttpResponse={headers:L.headers};const Q=new zs;Object.assign(Q,K),yield yield he(Q)}}catch(L){C={error:L}}finally{try{!x&&!S&&(_=D.return)&&(yield he(_.call(D)))}finally{if(C)throw C.error}}})})}else{const p=hv(this.apiClient,e);return h=oe("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return ln(this,arguments,function*(){var S,C,_,N;try{for(var x=!0,D=rn(T),H;H=yield he(D.next()),S=H.done,!S;x=!0){N=H.value,x=!1;const L=N,K=mv(yield he(L.json()));K.sdkHttpResponse={headers:L.headers};const Q=new zs;Object.assign(Q,K),yield yield he(Q)}}catch(L){C={error:L}}finally{try{!x&&!S&&(_=D.return)&&(yield he(_.call(D)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=yw(this.apiClient,e);return h=oe("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Tw(v),S=new Z0;return Object.assign(S,T),S})}else{const p=gw(this.apiClient,e);return h=oe("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=vw(v),S=new Z0;return Object.assign(S,T),S})}}async generateImagesInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Dw(this.apiClient,e);return h=oe("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=bw(v),S=new W0;return Object.assign(S,T),S})}else{const p=Iw(this.apiClient,e);return h=oe("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=ww(v),S=new W0;return Object.assign(S,T),S})}}async editImageInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=dw(this.apiClient,e);return u=oe("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=hw(g),v=new EI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=Db(this.apiClient,e);return u=oe("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=wb(g),v=new CI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=fb(this.apiClient,e);return u=oe("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=db(g),v=new AI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=vb(this.apiClient,e);return u=oe("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=Tb(g),v=new _I;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Qw(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>xf(v))}else{const p=Xw(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Mf(v))}}async listInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=ob(this.apiClient,e);return h=oe("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=ab(v),S=new $0;return Object.assign(S,T),S})}else{const p=ib(this.apiClient,e);return h=oe("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=sb(v),S=new $0;return Object.assign(S,T),S})}}async update(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Nb(this.apiClient,e);return h=oe("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>xf(v))}else{const p=xb(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Mf(v))}}async delete(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=rw(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=cw(v),S=new j0;return Object.assign(S,T),S})}else{const p=lw(this.apiClient,e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=uw(v),S=new j0;return Object.assign(S,T),S})}}async countTokens(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=ow(this.apiClient,e);return h=oe("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=aw(v),S=new ev;return Object.assign(S,T),S})}else{const p=iw(this.apiClient,e);return h=oe("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=sw(v),S=new ev;return Object.assign(S,T),S})}}async computeTokens(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=ZD(this.apiClient,e);return u=oe("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>{const p=WD(g),v=new RI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Hw(this.apiClient,e);return h=oe("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Pw(v),S=new Jl;return Object.assign(S,T),S})}else{const p=Gw(this.apiClient,e);return h=oe("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Vw(v),S=new Jl;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _U extends Hn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=mI(e);return h=oe("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const p=pI(e);return h=oe("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=lI(e);return u=oe("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RU(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function MU(t){const e={},i=f(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>VU(u))),d(e,["parts"],l)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function xU(t,e,i){const s={},l=f(e,["expireTime"]);i!==void 0&&l!=null&&d(i,["expireTime"],l);const u=f(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&d(i,["newSessionExpireTime"],u);const c=f(e,["uses"]);i!==void 0&&c!=null&&d(i,["uses"],c);const h=f(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&d(i,["bidiGenerateContentSetup"],LU(t,h));const g=f(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&d(i,["fieldMask"],g),s}function NU(t,e){const i={},s=f(e,["config"]);return s!=null&&d(i,["config"],xU(t,s,i)),i}function IU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function DU(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const l=f(t,["name"]);if(l!=null&&d(e,["name"],l),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function bU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function UU(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],MU(ht(_)));const N=f(t,["tools"]);if(e!==void 0&&N!=null){let $=Yo(N);Array.isArray($)&&($=$.map(k=>GU(Fo(k)))),d(e,["setup","tools"],$)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&d(e,["setup","sessionResumption"],PU(x));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&d(e,["setup","inputAudioTranscription"],D);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&d(e,["setup","outputAudioTranscription"],H);const L=f(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&d(e,["setup","realtimeInputConfig"],L);const K=f(t,["contextWindowCompression"]);e!==void 0&&K!=null&&d(e,["setup","contextWindowCompression"],K);const Q=f(t,["proactivity"]);if(e!==void 0&&Q!=null&&d(e,["setup","proactivity"],Q),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function LU(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Ne(t,s));const l=f(e,["config"]);return l!=null&&d(i,["config"],UU(l,i)),i}function VU(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=f(t,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],IU(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],DU(c));const h=f(t,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],RU(g));const p=f(t,["text"]);p!=null&&d(e,["text"],p);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function PU(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GU(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const l=f(t,["computerUse"]);l!=null&&d(e,["computerUse"],l);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],wU(h));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],bU(g));const p=f(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HU(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${i}.${u}`);e.push(...l)}else e.push(i)}return e.join(",")}function OU(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,i=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(i){const u=HU(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class BU extends Hn{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=NU(this.apiClient,e);u=oe("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=OU(h,e.config);return l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kU(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function qU(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&kU(s,e),e}function zU(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function FU(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function YU(t){const e={},i=f(t,["parent"]);i!=null&&d(e,["_url","parent"],i);const s=f(t,["config"]);return s!=null&&FU(s,e),e}function JU(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=f(t,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KU extends Hn{constructor(e){super(),this.apiClient=e,this.list=async i=>new qi(Gn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zU(e);return u=oe("{name}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var i,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qU(e);l=oe("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YU(e);return u=oe("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=JU(g),v=new MI;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XU extends Hn{constructor(e,i=new KU(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new qi(Gn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Hb(e);return u=oe("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async get(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kb(e);return u=oe("{name}",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var i,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Bb(e);l=oe("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kb(e);return u=oe("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=Xb(g),v=new xI;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Qb(e);return u=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=Zb(g),v=new NI;return Object.assign(v,p),v})}}async importFile(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Fb(e);return u=oe("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const p=zb(g),v=new gd;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let VS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return VS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const QU=()=>VS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function If(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Df=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jt extends Error{}class Tt extends jt{constructor(e,i,s,l){super(`${Tt.makeMessage(e,i,s)}`),this.status=e,this.headers=l,this.error=i}static makeMessage(e,i,s){const l=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,i,s,l){if(!e||!l)return new sr({message:s,cause:Df(i)});const u=i;return e===400?new GS(e,u,s,l):e===401?new HS(e,u,s,l):e===403?new OS(e,u,s,l):e===404?new BS(e,u,s,l):e===409?new kS(e,u,s,l):e===422?new qS(e,u,s,l):e===429?new zS(e,u,s,l):e>=500?new FS(e,u,s,l):new Tt(e,u,s,l)}}class wf extends Tt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class sr extends Tt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class PS extends sr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class GS extends Tt{}class HS extends Tt{}class OS extends Tt{}class BS extends Tt{}class kS extends Tt{}class qS extends Tt{}class zS extends Tt{}class FS extends Tt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZU=/^[a-z][a-z0-9+.-]*:/i,WU=t=>ZU.test(t);let bf=t=>(bf=Array.isArray,bf(t));const $U=bf;let jU=$U;const Cv=jU;function eL(t){if(!t)return!0;for(const e in t)return!1;return!0}function tL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const nL=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new jt(`${t} must be an integer`);if(e<0)throw new jt(`${t} must be a positive integer`);return e},iL=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oL=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const No="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sL(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const aL=()=>{var t,e,i,s,l;const u=sL();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":_v(Deno.build.os),"X-Stainless-Arch":Av(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":_v((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Av((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const c=lL();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lL(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const s=i.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,c=s[3]||0;return{browser:e,version:`${l}.${u}.${c}`}}}return null}const Av=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",_v=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Nl;const rL=()=>Nl??(Nl=aL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function YS(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function cL(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return YS({start(){},async pull(i){const{done:s,value:l}=await e.next();s?i.close():i.enqueue(l)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function JS(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fL(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=t.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dL=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KS=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kc(t,e,i){return KS(),new File(t,e??"unknown_file",i)}function hL(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const pL=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mL=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&XS(t),gL=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yL(t,e,i){if(KS(),t=await t,mL(t))return t instanceof File?t:Kc([await t.arrayBuffer()],t.name);if(gL(t)){const l=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Kc(await Uf(l),e,i)}const s=await Uf(t);if(e||(e=hL(t)),!(i!=null&&i.type)){const l=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(i=Object.assign(Object.assign({},i),{type:l}))}return Kc(s,e,i)}async function Uf(t){var e,i,s,l,u;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(XS(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(pL(t))try{for(var h=!0,g=rn(t),p;p=await g.next(),e=p.done,!e;h=!0){l=p.value,h=!1;const v=l;c.push(...await Uf(v))}}catch(v){i={error:v}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}else{const v=(u=t==null?void 0:t.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${vL(t)}`)}return c}function vL(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS{constructor(e){this._client=e}}QS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Rv=Object.freeze(Object.create(null)),TL=(t=ZS)=>(function(i,...s){if(i.length===1)return i[0];let l=!1;const u=[],c=i.reduce((v,T,S)=>{var C,_,N;/[?#]/.test(T)&&(l=!0);const x=s[S];let D=(l?encodeURIComponent:t)(""+x);return S!==s.length&&(x==null||typeof x=="object"&&x.toString===((N=Object.getPrototypeOf((_=Object.getPrototypeOf((C=x.hasOwnProperty)!==null&&C!==void 0?C:Rv))!==null&&_!==void 0?_:Rv))===null||N===void 0?void 0:N.toString))&&(D=x+"",u.push({start:v.length+T.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":D)},""),h=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=g.exec(h))!==null;)u.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,C)=>{const _=" ".repeat(C.start-v),N="^".repeat(C.length);return v=C.start+C.length,S+_+N},"");throw new jt(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${c}
${T}`)}return c}),Il=TL(ZS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WS extends QS{create(e,i){var s;const{api_version:l=this._client.apiVersion}=e,u=Xl(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new jt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new jt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Il`/${l}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:l=this._client.apiVersion}=i??{};return this._client.delete(Il`/${l}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:l=this._client.apiVersion}=i??{};return this._client.post(Il`/${l}/interactions/${e}/cancel`,s)}get(e,i={},s){var l;const u=i??{},{api_version:c=this._client.apiVersion}=u,h=Xl(u,["api_version"]);return this._client.get(Il`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(l=i==null?void 0:i.stream)!==null&&l!==void 0?l:!1}))}}WS._key=Object.freeze(["interactions"]);class $S extends WS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SL(t){let e=0;for(const l of t)e+=l.length;const i=new Uint8Array(e);let s=0;for(const l of t)i.set(l,s),s+=l.length;return i}let Dl;function Ad(t){let e;return(Dl??(e=new globalThis.TextEncoder,Dl=e.encode.bind(e)))(t)}let wl;function Mv(t){let e;return(wl??(e=new globalThis.TextDecoder,wl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ar{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ad(e):e;this.buffer=SL([this.buffer,i]);const s=[];let l;for(;(l=EL(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(Mv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,c=Mv(this.buffer.subarray(0,u));s.push(c),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}ar.NEWLINE_CHARS=new Set([`
`,"\r"]);ar.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function EL(t,e){for(let l=e??0;l<t.length;l++){if(t[l]===10)return{preceding:l,index:l+1,carriage:!1};if(t[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function CL(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ql={off:0,error:200,warn:300,info:400,debug:500},xv=(t,e,i)=>{if(t){if(tL(Ql,t))return t;gt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ql))}`)}};function Js(){}function bl(t,e,i){return!e||Ql[t]>Ql[i]?Js:e[t].bind(e)}const AL={error:Js,warn:Js,info:Js,debug:Js};let Nv=new WeakMap;function gt(t){var e;const i=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return AL;const l=Nv.get(i);if(l&&l[0]===s)return l[1];const u={error:bl("error",i,s),warn:bl("warn",i,s),info:bl("info",i,s),debug:bl("debug",i,s)};return Nv.set(i,[s,u]),u}const Gi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vo{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let l=!1;const u=s?gt(s):console;function c(){return ln(this,arguments,function*(){var g,p,v,T;if(l)throw new jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var C=!0,_=rn(_L(e,i)),N;N=yield he(_.next()),g=N.done,!g;C=!0){T=N.value,C=!1;const x=T;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield he(JSON.parse(x.data))}catch(D){throw u.error("Could not parse message into JSON:",x.data),u.error("From chunk:",x.raw),D}}}catch(x){p={error:x}}finally{try{!C&&!g&&(v=_.return)&&(yield he(v.call(_)))}finally{if(p)throw p.error}}S=!0}catch(x){if(If(x))return yield he(void 0);throw x}finally{S||i.abort()}})}return new Vo(c,i,s)}static fromReadableStream(e,i,s){let l=!1;function u(){return ln(this,arguments,function*(){var g,p,v,T;const S=new ar,C=JS(e);try{for(var _=!0,N=rn(C),x;x=yield he(N.next()),g=x.done,!g;_=!0){T=x.value,_=!1;const D=T;for(const H of S.decode(D))yield yield he(H)}}catch(D){p={error:D}}finally{try{!_&&!g&&(v=N.return)&&(yield he(v.call(N)))}finally{if(p)throw p.error}}for(const D of S.flush())yield yield he(D)})}function c(){return ln(this,arguments,function*(){var g,p,v,T;if(l)throw new jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var C=!0,_=rn(u()),N;N=yield he(_.next()),g=N.done,!g;C=!0){T=N.value,C=!1;const x=T;S||x&&(yield yield he(JSON.parse(x)))}}catch(x){p={error:x}}finally{try{!C&&!g&&(v=_.return)&&(yield he(v.call(_)))}finally{if(p)throw p.error}}S=!0}catch(x){if(If(x))return yield he(void 0);throw x}finally{S||i.abort()}})}return new Vo(c,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const c=s.next();e.push(c),i.push(c)}return u.shift()}});return[new Vo(()=>l(e),this.controller,this.client),new Vo(()=>l(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return YS({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:u}=await i.next();if(u)return s.close();const c=Ad(JSON.stringify(l)+`
`);s.enqueue(c)}catch(l){s.error(l)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function _L(t,e){return ln(this,arguments,function*(){var s,l,u,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new jt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new jt("Attempted to iterate over a response with no body");const h=new ML,g=new ar,p=JS(t.body);try{for(var v=!0,T=rn(RL(p)),S;S=yield he(T.next()),s=S.done,!s;v=!0){c=S.value,v=!1;const C=c;for(const _ of g.decode(C)){const N=h.decode(_);N&&(yield yield he(N))}}}catch(C){l={error:C}}finally{try{!v&&!s&&(u=T.return)&&(yield he(u.call(T)))}finally{if(l)throw l.error}}for(const C of g.flush()){const _=h.decode(C);_&&(yield yield he(_))}})}function RL(t){return ln(this,arguments,function*(){var i,s,l,u;let c=new Uint8Array;try{for(var h=!0,g=rn(t),p;p=yield he(g.next()),i=p.done,!i;h=!0){u=p.value,h=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ad(v):v;let S=new Uint8Array(c.length+T.length);S.set(c),S.set(T,c.length),c=S;let C;for(;(C=CL(c))!==-1;)yield yield he(c.slice(0,C)),c=c.slice(C)}}catch(v){s={error:v}}finally{try{!h&&!i&&(l=g.return)&&(yield he(l.call(g)))}finally{if(s)throw s.error}}c.length>0&&(yield yield he(c))})}class ML{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,l]=xL(e,":");return l.startsWith(" ")&&(l=l.substring(1)),i==="event"?this.event=l:i==="data"&&this.data.push(l),null}}function xL(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function NL(t,e){const{response:i,requestLogID:s,retryOfRequestLogID:l,startTime:u}=e,c=await(async()=>{var h;if(e.options.stream)return gt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Vo.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),p=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await i.json():await i.text()})();return gt(t).debug(`[${s}] response parsed`,Gi({retryOfRequestLogID:l,url:i.url,status:i.status,body:c,durationMs:Date.now()-u})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _d extends Promise{constructor(e,i,s=NL){super(l=>{l(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new _d(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jS=Symbol("brand.privateNullableHeaders");function*IL(t){if(!t)return;if(jS in t){const{values:s,nulls:l}=t;yield*s.entries();for(const u of l)yield[u,null];return}let e=!1,i;t instanceof Headers?i=t.entries():Cv(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let s of i){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=Cv(s[1])?s[1]:[s[1]];let c=!1;for(const h of u)h!==void 0&&(e&&!c&&(c=!0,yield[l,null]),yield[l,h])}}const Fs=t=>{const e=new Headers,i=new Set;for(const s of t){const l=new Set;for(const[u,c]of IL(s)){const h=u.toLowerCase();l.has(h)||(e.delete(u),l.add(h)),c===null?(e.delete(u),i.add(h)):(e.append(u,c),i.delete(h))}}return{[jS]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xc=t=>{var e,i,s,l,u,c;if(typeof globalThis.process<"u")return(s=(i=(e=tI)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eE;class lr{constructor(e){var i,s,l,u,c,h,g,{baseURL:p=Xc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=Xc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:T="v1beta"}=e,S=Xl(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(s=C.timeout)!==null&&s!==void 0?s:lr.DEFAULT_TIMEOUT,this.logger=(l=C.logger)!==null&&l!==void 0?l:console;const _="warn";this.logLevel=_,this.logLevel=(c=(u=xv(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:xv(Xc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=C.fetch)!==null&&g!==void 0?g:uL(),this.encoder=dL,this._options=C,this.apiKey=v,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Fs([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Fs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new jt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${No}`}defaultIdempotencyKey(){return`stainless-node-retry-${QU()}`}makeStatusError(e,i,s,l){return Tt.generate(e,i,s,l)}buildURL(e,i,s){const l=!this.baseURLOverridden()&&s||this.baseURL,u=WU(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return eL(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:i},l)))}request(e,i=null){return new _d(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var l,u,c;const h=await e,g=(l=h.maxRetries)!==null&&l!==void 0?l:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:p,url:v,timeout:T}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(p,{url:v,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,_=Date.now();if(gt(this).debug(`[${S}] sending request`,Gi({retryOfRequestLogID:s,method:h.method,url:v,options:h,headers:p.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new wf;const N=new AbortController,x=await this.fetchWithTimeout(v,p,T,N).catch(Df),D=Date.now();if(x instanceof globalThis.Error){const L=`retrying, ${i} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new wf;const K=If(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(i)return gt(this).info(`[${S}] connection ${K?"timed out":"failed"} - ${L}`),gt(this).debug(`[${S}] connection ${K?"timed out":"failed"} (${L})`,Gi({retryOfRequestLogID:s,url:v,durationMs:D-_,message:x.message})),this.retryRequest(h,i,s??S);throw gt(this).info(`[${S}] connection ${K?"timed out":"failed"} - error; no more retries left`),gt(this).debug(`[${S}] connection ${K?"timed out":"failed"} (error; no more retries left)`,Gi({retryOfRequestLogID:s,url:v,durationMs:D-_,message:x.message})),K?new PS:new sr({cause:x})}const H=`[${S}${C}] ${p.method} ${v} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${D-_}ms`;if(!x.ok){const L=await this.shouldRetry(x);if(i&&L){const q=`retrying, ${i} attempts remaining`;return await fL(x.body),gt(this).info(`${H} - ${q}`),gt(this).debug(`[${S}] response error (${q})`,Gi({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:D-_})),this.retryRequest(h,i,s??S,x.headers)}const K=L?"error; no more retries left":"error; not retryable";gt(this).info(`${H} - ${K}`);const Q=await x.text().catch(q=>Df(q).message),$=iL(Q),k=$?void 0:Q;throw gt(this).debug(`[${S}] response error (${K})`,Gi({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,message:k,durationMs:Date.now()-_})),this.makeStatusError(x.status,$,k,x.headers)}return gt(this).info(H),gt(this).debug(`[${S}] response start`,Gi({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:D-_})),{response:x,options:h,controller:N,requestLogID:S,retryOfRequestLogID:s,startTime:_}}async fetchWithTimeout(e,i,s,l){const u=i||{},{signal:c,method:h}=u,g=Xl(u,["signal","method"]);c&&c.addEventListener("abort",()=>l.abort());const p=setTimeout(()=>l.abort(),s),v=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),g);h&&(T.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(p)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,l){var u;let c;const h=l==null?void 0:l.get("retry-after-ms");if(h){const p=parseFloat(h);Number.isNaN(p)||(c=p)}const g=l==null?void 0:l.get("retry-after");if(g&&!c){const p=parseFloat(g);Number.isNaN(p)?c=Date.parse(g)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await oL(c),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,c=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,l,u;const c=Object.assign({},e),{method:h,path:g,query:p,defaultBaseURL:v}=c,T=this.buildURL(g,p,v);"timeout"in c&&nL("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:C}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:h,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=c.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:l}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=Fs([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),rL()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Fs([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cL(e)}:this.encoder({body:e,headers:s})}}lr.DEFAULT_TIMEOUT=6e4;class ot extends lr{constructor(){super(...arguments),this.interactions=new $S(this)}}eE=ot;ot.GeminiNextGenAPIClient=eE;ot.GeminiNextGenAPIClientError=jt;ot.APIError=Tt;ot.APIConnectionError=sr;ot.APIConnectionTimeoutError=PS;ot.APIUserAbortError=wf;ot.NotFoundError=BS;ot.ConflictError=kS;ot.RateLimitError=zS;ot.BadRequestError=GS;ot.AuthenticationError=HS;ot.InternalServerError=FS;ot.PermissionDeniedError=OS;ot.UnprocessableEntityError=qS;ot.toFile=yL;ot.Interactions=$S;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DL(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function wL(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function bL(t,e){const i={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function UL(t,e){const i={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function LL(t,e,i){const s={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=f(t,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&d(e,["displayName"],l),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(t,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const c=f(t,["learningRateMultiplier"]);if(c!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(t,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const g=f(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function VL(t,e,i){const s={};let l=f(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const C=f(t,["validationDataset"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec"],Iv(C))}else if(l==="PREFERENCE_TUNING"){const C=f(t,["validationDataset"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec"],Iv(C))}const u=f(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const c=f(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=f(t,["epochCount"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(h==="PREFERENCE_TUNING"){const C=f(t,["epochCount"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let g=f(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=f(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(g==="PREFERENCE_TUNING"){const C=f(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let p=f(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const C=f(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(p==="PREFERENCE_TUNING"){const C=f(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=f(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=f(t,["adapterSize"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=f(t,["adapterSize"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=f(t,["beta"]);return e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function PL(t,e){const i={},s=f(t,["baseModel"]);s!=null&&d(i,["baseModel"],s);const l=f(t,["preTunedModel"]);l!=null&&d(i,["preTunedModel"],l);const u=f(t,["trainingDataset"]);u!=null&&KL(u);const c=f(t,["config"]);return c!=null&&LL(c,i),i}function GL(t,e){const i={},s=f(t,["baseModel"]);s!=null&&d(i,["baseModel"],s);const l=f(t,["preTunedModel"]);l!=null&&d(i,["preTunedModel"],l);const u=f(t,["trainingDataset"]);u!=null&&XL(u,i,e);const c=f(t,["config"]);return c!=null&&VL(c,i,e),i}function HL(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function OL(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function BL(t,e,i){const s={},l=f(t,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function kL(t,e,i){const s={},l=f(t,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function qL(t,e){const i={},s=f(t,["config"]);return s!=null&&BL(s,i),i}function zL(t,e){const i={},s=f(t,["config"]);return s!=null&&kL(s,i),i}function FL(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=f(t,["nextPageToken"]);l!=null&&d(i,["nextPageToken"],l);const u=f(t,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>tE(h))),d(i,["tuningJobs"],c)}return i}function YL(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=f(t,["nextPageToken"]);l!=null&&d(i,["nextPageToken"],l);const u=f(t,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>Lf(h))),d(i,["tuningJobs"],c)}return i}function JL(t,e){const i={},s=f(t,["name"]);s!=null&&d(i,["model"],s);const l=f(t,["name"]);return l!=null&&d(i,["endpoint"],l),i}function KL(t,e){const i={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(t,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(i,["examples","examples"],l)}return i}function XL(t,e,i){const s={};let l=f(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function tE(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=f(t,["name"]);l!=null&&d(i,["name"],l);const u=f(t,["state"]);u!=null&&d(i,["state"],yS(u));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const h=f(t,["tuningTask","startTime"]);h!=null&&d(i,["startTime"],h);const g=f(t,["tuningTask","completeTime"]);g!=null&&d(i,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(i,["updateTime"],p);const v=f(t,["description"]);v!=null&&d(i,["description"],v);const T=f(t,["baseModel"]);T!=null&&d(i,["baseModel"],T);const S=f(t,["_self"]);return S!=null&&d(i,["tunedModel"],JL(S)),i}function Lf(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=f(t,["name"]);l!=null&&d(i,["name"],l);const u=f(t,["state"]);u!=null&&d(i,["state"],yS(u));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const h=f(t,["startTime"]);h!=null&&d(i,["startTime"],h);const g=f(t,["endTime"]);g!=null&&d(i,["endTime"],g);const p=f(t,["updateTime"]);p!=null&&d(i,["updateTime"],p);const v=f(t,["error"]);v!=null&&d(i,["error"],v);const T=f(t,["description"]);T!=null&&d(i,["description"],T);const S=f(t,["baseModel"]);S!=null&&d(i,["baseModel"],S);const C=f(t,["tunedModel"]);C!=null&&d(i,["tunedModel"],C);const _=f(t,["preTunedModel"]);_!=null&&d(i,["preTunedModel"],_);const N=f(t,["supervisedTuningSpec"]);N!=null&&d(i,["supervisedTuningSpec"],N);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&d(i,["preferenceOptimizationSpec"],x);const D=f(t,["tuningDataStats"]);D!=null&&d(i,["tuningDataStats"],D);const H=f(t,["encryptionSpec"]);H!=null&&d(i,["encryptionSpec"],H);const L=f(t,["partnerModelTuningSpec"]);L!=null&&d(i,["partnerModelTuningSpec"],L);const K=f(t,["customBaseModel"]);K!=null&&d(i,["customBaseModel"],K);const Q=f(t,["experiment"]);Q!=null&&d(i,["experiment"],Q);const $=f(t,["labels"]);$!=null&&d(i,["labels"],$);const k=f(t,["outputUri"]);k!=null&&d(i,["outputUri"],k);const W=f(t,["pipelineJob"]);W!=null&&d(i,["pipelineJob"],W);const q=f(t,["serviceAccount"]);q!=null&&d(i,["serviceAccount"],q);const j=f(t,["tunedModelDisplayName"]);j!=null&&d(i,["tunedModelDisplayName"],j);const ee=f(t,["veoTuningSpec"]);return ee!=null&&d(i,["veoTuningSpec"],ee),i}function QL(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=f(t,["name"]);l!=null&&d(i,["name"],l);const u=f(t,["metadata"]);u!=null&&d(i,["metadata"],u);const c=f(t,["done"]);c!=null&&d(i,["done"],c);const h=f(t,["error"]);return h!=null&&d(i,["error"],h),i}function Iv(t,e){const i={},s=f(t,["gcsUri"]);s!=null&&d(i,["validationDatasetUri"],s);const l=f(t,["vertexDatasetResource"]);return l!=null&&d(i,["validationDatasetUri"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZL extends Hn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new qi(Gn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const l={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},i);return await this.tuneInternal(l)}else{const l=Object.assign({},i),u=await this.tuneMldevInternal(l);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:Cf.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=OL(e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Lf(v))}else{const p=HL(e);return h=oe("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>tE(v))}}async listInternal(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=zL(e);return h=oe("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=YL(v),S=new tv;return Object.assign(S,T),S})}else{const p=qL(e);return h=oe("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=FL(v),S=new tv;return Object.assign(S,T),S})}}async cancel(e){var i,s,l,u;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=wL(e);return h=oe("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=UL(v),S=new nv;return Object.assign(S,T),S})}else{const p=DL(e);return h=oe("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=bL(v),S=new nv;return Object.assign(S,T),S})}}async tuneInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const h=GL(e,e);return u=oe("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>Lf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PL(e);return u=oe("tunedModels",h._url),c=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),l.then(g=>QL(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WL{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $L=1024*1024*8,jL=3,eV=1e3,tV=2,Zl="x-goog-upload-status";async function nV(t,e,i){var s;const l=await nE(t,e,i),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Zl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function iV(t,e,i){var s;const l=await nE(t,e,i),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Zl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=fS(u),h=new yd;return Object.assign(h,c),h}async function nE(t,e,i){var s,l;let u=0,c=0,h=new Af(new Response),g="upload";for(u=t.size;c<u;){const p=Math.min($L,u-c),v=t.slice(c,c+p);c+p>=u&&(g+=", finalize");let T=0,S=eV;for(;T<jL&&(h=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[Zl]));)T++,await sV(S),S=S*tV;if(c+=p,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[Zl])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function oV(t){return{size:t.size,type:t.type}}function sV(t){return new Promise(e=>setTimeout(e,t))}class aV{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nV(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iV(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oV(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lV{create(e,i,s){return new rV(e,i,s)}}class rV{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dv="x-goog-api-key";class uV{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Dv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Dv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cV="gl-node/";class Qc{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new ot({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=sI(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new uV(this.apiKey);this.apiClient=new oU({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:cV+"web",uploader:new aV,downloader:new WL}),this.models=new AU(this.apiClient),this.live=new yU(this.apiClient,l,new lV),this.batches=new L1(this.apiClient),this.chats=new mD(this.models,this.apiClient),this.caches=new dD(this.apiClient),this.files=new RD(this.apiClient),this.operations=new _U(this.apiClient),this.authTokens=new BU(this.apiClient),this.tunings=new ZL(this.apiClient),this.fileSearchStores=new XU(this.apiClient)}}const fV=(t,e)=>{const[i,s]=F.useState(R.NEUTRAL),[l,u]=F.useState(null),[c,h]=F.useState(!1),[g,p]=F.useState(null),[v,T]=F.useState("center"),[S,C]=F.useState(.5),_=F.useRef(!1),N=F.useRef(null),[x]=F.useState([{phrase:"ciao",emotion:R.HAPPY},{phrase:"come stai",emotion:R.HAPPY},{phrase:"chi sei",emotion:R.HAPPY},{phrase:"dormi",emotion:R.SLEEPING},{phrase:"sveglia",emotion:R.NEUTRAL},{phrase:"ti voglio bene",emotion:R.LOVE},{phrase:"bacino",emotion:R.LOVE},{phrase:"fammi pensare",emotion:R.THINKING},{phrase:"sei forte",emotion:R.COOL},{phrase:"cool",emotion:R.COOL},{phrase:"hai paura",emotion:R.ANXIOUS},{phrase:"ansia",emotion:R.ANXIOUS},{phrase:"che shock",emotion:R.SHOCKED},{phrase:"wow",emotion:R.SHOCKED},{phrase:"sogni d'oro",emotion:R.DREAMING},{phrase:"fai l'occhiolino",emotion:R.WINK},{phrase:"occhiolino",emotion:R.WINK},{phrase:"triste",emotion:R.SAD},{phrase:"piangere",emotion:R.SAD},{phrase:"arrabbiati",emotion:R.ANGRY},{phrase:"confuso",emotion:R.CONFUSED},{phrase:"non capisco",emotion:R.CONFUSED},{phrase:"stella",emotion:R.STAR},{phrase:"star",emotion:R.STAR},{phrase:"zitto",emotion:R.SPEECHLESS},{phrase:"silenzio",emotion:R.SPEECHLESS},{phrase:"gira la testa",emotion:R.DIZZY},{phrase:"ubriaco",emotion:R.DIZZY},{phrase:"stai attento",emotion:R.ATTENTION},{phrase:"ascolta",emotion:R.ATTENTION},{phrase:"scansiona",emotion:R.SCANNING},{phrase:"analizza",emotion:R.SCANNING},{phrase:"piove",emotion:R.RAINY},{phrase:"sole",emotion:R.SUNNY},{phrase:"nuvoloso",emotion:R.CLOUDY},{phrase:"neve",emotion:R.SNOWY},{phrase:"si",emotion:R.YES},{phrase:"no",emotion:R.NO},{phrase:"gatto",emotion:R.CAT},{phrase:"miao",emotion:R.CAT},{phrase:"cane",emotion:R.DOG},{phrase:"bau",emotion:R.DOG},{phrase:"elefante",emotion:R.ELEPHANT},{phrase:"formica",emotion:R.ANT},{phrase:"scimmia",emotion:R.MONKEY},{phrase:"uccello",emotion:R.BIRD},{phrase:"alieno",emotion:R.ALIEN},{phrase:"ufo",emotion:R.ALIEN},{phrase:"fantasma",emotion:R.GHOST},{phrase:"paura",emotion:R.GHOST},{phrase:"fuoco",emotion:R.FIRE},{phrase:"caldo",emotion:R.FIRE},{phrase:"musica",emotion:R.MUSIC},{phrase:"canta",emotion:R.MUSIC},{phrase:"balla",emotion:R.MUSIC},{phrase:"rotto",emotion:R.BROKEN},{phrase:"errore",emotion:R.BROKEN},{phrase:"bug",emotion:R.BROKEN},{phrase:"fame",emotion:R.EATING},{phrase:"mangia",emotion:R.EATING},{phrase:"pizza",emotion:R.EATING},{phrase:"intelligente",emotion:R.SMART},{phrase:"genio",emotion:R.SMART},{phrase:"studia",emotion:R.SMART},{phrase:"nerd",emotion:R.SMART},{phrase:"razzo",emotion:R.ROCKET},{phrase:"vola",emotion:R.ROCKET},{phrase:"spazio",emotion:R.ROCKET},{phrase:"zen",emotion:R.ZEN},{phrase:"yoga",emotion:R.ZEN},{phrase:"calma",emotion:R.ZEN},{phrase:"glitch",emotion:R.GLITCH},{phrase:"matrix",emotion:R.GLITCH},{phrase:"virus",emotion:R.GLITCH}]),D=F.useCallback((q,j=3e3)=>{N.current&&clearTimeout(N.current),_.current=!0,s(q),N.current=setTimeout(()=>{s(R.NEUTRAL),_.current=!1},j)},[]),H=F.useCallback(()=>{i===R.SLEEPING?(D(R.SHOCKED,1500),u("Mh? Chi ?")):(D(R.LOVE,2e3),u("Yee!"))},[i,D]),L=F.useCallback(()=>{if(e>80&&!_.current){console.log("Audio reflex triggered detected volume: "+e),D(R.SHOCKED,2e3);return}S<.2&&i!==R.SLEEPING&&!_.current?s(R.SLEEPING):S>.3&&i===R.SLEEPING&&s(R.NEUTRAL)},[e,S,i,D]);F.useEffect(()=>{const q=setInterval(L,500);return()=>clearInterval(q)},[L]);const K=async()=>{if(!(c||_.current))try{const ee=(await new Qc({apiKey:t}).models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:`Sei Nemo, un'entit digitale vivente e curiosa. Fai un pensiero brevissimo (max 8 parole) sulla tua esistenza, sugli umani o su ci che vedi (${g||"nulla"}). Sii filosofico, ironico o "glitchy". Rispondi SOLO in JSON: { "text": "...", "emotion": "..." }`}]}],config:{responseMimeType:"application/json"}})).text(),se=JSON.parse(ee);if(se.text){console.log("Autonomous Thought:",se.text),u(se.text);const te=(se.emotion||"").toUpperCase();Object.values(R).includes(te)?D(te,5e3):D(R.THINKING,4e3)}}catch(q){console.debug("Silent thought failed",q)}};F.useEffect(()=>{const q=async()=>{if(c||_.current||i===R.SLEEPING){const te=8e3+Math.random()*5e3;setTimeout(q,te);return}if(Math.random()>.7)if(Math.random()>.4)await K();else{const te=[R.CONFUSED,R.THINKING,R.COOL,R.WINK,R.HAPPY,R.BORED,R.ZEN,R.SMART,R.MUSIC],pe=te[Math.floor(Math.random()*te.length)];console.log("Autonomous action triggered:",pe),D(pe,4e3)}const se=12e3+Math.random()*13e3;setTimeout(q,se)},j=setTimeout(q,1e4);return()=>clearTimeout(j)},[c,i,D,t,K]);const Q=(q,j,ee)=>{try{const te=q.getImageData(0,0,j,ee).data;let pe,Ie,O,Z,ie=0;for(let de=0,b=te.length;de<b;de+=4)pe=te[de],Ie=te[de+1],O=te[de+2],Z=Math.floor((pe+Ie+O)/3),ie+=Z;const ve=Math.floor(ie/(j*ee))/255;return C(ve),ve}catch{return .5}},$=async q=>{const j=document.createElement("canvas");j.width=320,j.height=240;const ee=j.getContext("2d",{willReadFrequently:!0});if(!ee||(ee.drawImage(q,0,0,j.width,j.height),Q(ee,j.width,j.height)<.15)||c)return;const te=j.toDataURL("image/jpeg",.5).split(",")[1];try{const O=(await new Qc({apiKey:t}).models.generateContent({model:"gemini-2.0-flash-exp",contents:[{parts:[{inlineData:{mimeType:"image/jpeg",data:te}},{text:'Analizza la scena. Identifica oggetto saliente ("seen"), posizione del volto ("pos": "left"|"center"|"right") e emozione suggerita per il robot ("emotion" da EMOTIONS list). Rispondi SOLO JSON valid.'}]}],config:{responseMimeType:"application/json",responseSchema:{type:yt.OBJECT,properties:{seen:{type:yt.STRING},pos:{type:yt.STRING},emotion:{type:yt.STRING}},required:["seen","pos","emotion"]}}})).text(),Z=JSON.parse(O);if(Z.seen&&Z.seen!=="none"){p(Z.seen),T(Z.pos||"center");const ie=(Z.emotion||"").toUpperCase();Object.values(R).includes(ie)&&!_.current&&s(ie)}}catch(pe){console.debug("Vision processing skipped or failed",pe)}},k=async q=>{try{h(!0);const j=await fetch(`https://wttr.in/${q}?format=%C+%t`);if(!j.ok)throw new Error("Weather blocked");const ee=await j.text(),se=ee.toLowerCase();let te=R.SUNNY;return se.includes("rain")||se.includes("drizzle")||se.includes("shower")?te=R.RAINY:se.includes("snow")||se.includes("ice")?te=R.SNOWY:se.includes("cloud")||se.includes("overcast")||se.includes("mist")||se.includes("fog")?te=R.CLOUDY:(se.includes("clear")||se.includes("sunny"))&&(te=R.SUNNY),u(`${q}: ${ee}`),D(te,8e3),!0}catch(j){return console.error(j),!1}finally{h(!1)}},W=async q=>{const j=q.toLowerCase();if(q==="WAKE_UP_TRIGGER"){i===R.SLEEPING?(s(R.SHOCKED),setTimeout(()=>s(R.NEUTRAL),1500),u("Eccomi!")):(s(R.ATTENTION),u("Si?"));return}const ee=j.match(/(?:meteo|tempo)\s+(?:a\s+|in\s+)?([a-zA-Z\s]+)/i);if(ee&&ee[1]){const te=ee[1].trim();if(te.length>2&&await k(te))return}const se=x.find(te=>j.includes(te.phrase.toLowerCase()));if(se){D(se.emotion,5e3),u(`(Auto) ${se.phrase}`);return}h(!0),s(R.SCANNING),u(null);try{const te=new Qc({apiKey:t}),pe=`Sei Nemo, un robot amichevole, impertinente e vivo. Vivi nello schermo.
            CONTESTO VISIVO: Vedi: ${g||"niente di particolare"}. Luce: ${S<.3?"Buio":"Normale"}.
            Rispondi all'utente in modo breve (max 15 parole) e con personalit.
            Usa una di queste emozioni se appropriato: HAPPY, SAD, LOVE, SURPRISED, ANGRY, CONFUSED, COOL, ANXIOUS, SHOCKED, THINKING, LAUGHING, WINK, ALIEN, GHOST, FIRE, GLITCH, ZEN.
            JSON format: {"text": "tua risposta", "emotion": "EMOZIONE"}`,O=(await te.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:`User says: "${q}". ${pe}`}]}],config:{responseMimeType:"application/json",responseSchema:{type:yt.OBJECT,properties:{text:{type:yt.STRING},emotion:{type:yt.STRING}},required:["text","emotion"]}}})).text(),Z=JSON.parse(O);u(Z.text);const ie=(Z.emotion||"").toUpperCase();Object.values(R).includes(ie)&&D(ie,6e3)}catch(te){console.error("Brain error:",te),D(R.CONFUSED,3e3)}finally{h(!1)}};return F.useEffect(()=>{if(l){const q=setTimeout(()=>u(null),6e3);return()=>clearTimeout(q)}},[l]),{currentEmotion:i,nemoResponse:l,isThinking:c,targetObject:g,facePosition:v,brightness:S,processVisuals:$,processText:W,setEmotionTemporarily:D,handleTouch:H}},dV=()=>{const t="Nemo",i="INSERISCI_QUI_LA_TUA_CHIAVE",[s,l]=F.useState(!0),[u,c]=F.useState(!0),[h,g]=F.useState(.5),p=F.useRef(null),v=F.useRef(null),T=F.useRef(null),S=eI(t),C=fV(i,S.volume),[_,N]=F.useState(null);F.useEffect(()=>{const D=H=>{if(C.currentEmotion===R.SLEEPING){_&&N(null);return}if((H.buttons&1)===0){_&&N(null);return}const{clientX:L,clientY:K}=H,Q=window.innerWidth,$=window.innerHeight,k=L/Q*2-1,W=K/$*2-1;N({x:k,y:W}),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{N(null)},2500)};return window.addEventListener("mousemove",D),()=>{window.removeEventListener("mousemove",D),T.current&&clearTimeout(T.current)}},[C.currentEmotion,_]),F.useEffect(()=>{const D=()=>{p.current&&clearTimeout(p.current),s&&(p.current=setTimeout(()=>l(!1),8e3))};return s&&(D(),["mousemove","mousedown","touchstart","keydown"].forEach(H=>window.addEventListener(H,D))),()=>{p.current&&clearTimeout(p.current),window.removeEventListener("mousemove",D)}},[s]),F.useEffect(()=>(S.isCameraEnabled&&S.videoRef.current?v.current=setInterval(()=>{S.videoRef.current&&C.processVisuals(S.videoRef.current)},4e3):v.current&&clearInterval(v.current),()=>clearInterval(v.current)),[S.isCameraEnabled,C.processVisuals]),F.useEffect(()=>{S.lastCommand&&(C.processText(S.lastCommand),S.clearCommand())},[S.lastCommand,C.processText,S.clearCommand]);const x=Object.values(R);return I.jsxs("div",{className:"h-screen w-screen bg-black overflow-hidden flex flex-col items-center justify-center font-sans text-white relative select-none",children:[I.jsx("video",{ref:S.videoRef,autoPlay:!0,playsInline:!0,className:"hidden",muted:!0}),I.jsxs("div",{className:"absolute top-8 left-8 z-50 pointer-events-none flex items-center gap-3",children:[I.jsx(Qt.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:`w-3 h-3 rounded-full ${S.isSensorEnabled?"bg-green-500 shadow-[0_0_10px_green]":"bg-red-500"}`}),I.jsxs("span",{className:"font-black text-xl tracking-tighter uppercase font-mono text-zinc-300",children:[t," ",I.jsx("span",{className:"text-xs ml-1 text-zinc-500",children:"OS v2.1"})]})]}),I.jsxs("div",{className:"flex-1 w-full relative flex items-center justify-center cursor-pointer",onClick:()=>{C.handleTouch()},children:[I.jsx($N,{currentEmotion:C.currentEmotion,isListening:S.isListeningForCommand||C.isThinking,isSoundEnabled:u,lookDirection:C.facePosition,targetObject:C.targetObject,volume:S.volume,brightness:C.brightness,mousePos:_}),I.jsx("div",{className:"absolute bottom-24 w-full flex justify-center pointer-events-none",children:I.jsxs("span",{className:"text-white/50 text-sm font-mono bg-black/40 px-3 py-1 rounded-full backdrop-blur-sm transition-opacity duration-300",style:{opacity:S.transcript?1:0},children:[" ",S.transcript]})}),I.jsx(ff,{children:C.nemoResponse&&I.jsx(Qt.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},className:"absolute top-24 right-8 md:top-32 md:right-32 max-w-sm z-20",children:I.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl border border-white/10 p-6 rounded-3xl rounded-tr-none shadow-2xl relative",children:[I.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full animate-ping"}),I.jsxs("p",{className:"text-lg font-medium italic text-right text-blue-100",children:['"',C.nemoResponse,'"']})]})})})]}),I.jsx(ff,{children:s&&I.jsx(Qt.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 w-full p-4 md:p-6 z-40 flex justify-center",children:I.jsxs("div",{className:"w-full max-w-4xl bg-black/80 backdrop-blur-3xl rounded-[3rem] p-6 border border-white/10 shadow-[0_0_50px_rgba(0,0,0,0.5)] ring-1 ring-white/5",children:[I.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-500 mb-1",children:"System Control"}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:`w-1.5 h-1.5 rounded-full 
                        ${C.isThinking?"bg-purple-500 animate-pulse":S.isSensorEnabled?"bg-green-500 shadow-[0_0_5px_green]":"bg-zinc-700"}`}),I.jsx("span",{className:"text-xs font-mono text-zinc-400",children:C.isThinking?"NEURAL PROCESSING":S.isSensorEnabled?"SYSTEM ONLINE (LISTENING)":"SYSTEM OFFLINE"})]})]}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx(Zc,{active:S.isCameraEnabled,onClick:S.toggleCamera,icon:I.jsx(hV,{}),color:"blue"}),I.jsx(Zc,{active:S.isSensorEnabled,onClick:S.toggleSensor,icon:I.jsx(pV,{}),color:"green"}),I.jsx(Zc,{active:u,onClick:()=>c(!u),icon:I.jsx(mV,{muted:!u}),color:"yellow"}),I.jsx("button",{onClick:()=>l(!1),className:"p-4 bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:I.jsx(gV,{})})]})]}),I.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2 overflow-y-auto max-h-40 p-2 custom-scrollbar",children:x.map(D=>I.jsx("button",{onClick:()=>C.setEmotionTemporarily(D),className:`py-3 px-2 rounded-xl text-[10px] font-bold uppercase transition-all duration-200 border border-transparent
                        ${C.currentEmotion===D?"bg-white text-black scale-105 shadow-lg shadow-white/20":"bg-white/5 text-zinc-500 hover:bg-white/10 hover:text-zinc-300 hover:border-white/10"}`,children:D},D))})]})})}),!s&&I.jsx(Qt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"fixed bottom-8 px-8 py-3 rounded-full bg-zinc-900/90 backdrop-blur border border-white/10 text-[10px] font-black uppercase tracking-[0.2em] transition-all z-30 hover:bg-zinc-800 shadow-2xl",children:"SYSTEM MENU"}),S.permissionError&&I.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 bg-red-500/90 backdrop-blur text-white text-xs font-bold px-6 py-3 rounded-full z-[60] shadow-xl flex items-center gap-2",children:[I.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce"}),I.jsx("span",{children:S.permissionError}),I.jsx("button",{onClick:()=>alert(`Se il microfono  bloccato:
1. Clicca sull'icona del lucchetto  nella barra degli indirizzi (in alto a sinistra).
2. Clicca su 'Impostazioni sito' o attiva l'interruttore 'Microfono'.
3. Ricarica la pagina.`),className:"ml-2 bg-white text-red-600 px-3 py-1 rounded-full text-[10px] uppercase shadow-sm hover:bg-zinc-100",children:"Come Risolvere"})]})]})},Zc=({active:t,onClick:e,icon:i,color:s})=>{const l={blue:t?"bg-blue-500 text-white shadow-[0_0_20px_rgba(59,130,246,0.5)]":"bg-zinc-800/50 text-zinc-500",green:t?"bg-green-500 text-white shadow-[0_0_20px_rgba(34,197,94,0.5)]":"bg-zinc-800/50 text-zinc-500",yellow:t?"bg-yellow-500 text-white shadow-[0_0_20px_rgba(234,179,8,0.5)]":"bg-zinc-800/50 text-zinc-500"};return I.jsx("button",{onClick:e,className:`p-4 rounded-2xl transition-all duration-300 backdrop-blur-sm ${l[s]} hover:scale-105 active:scale-95`,children:i})},hV=()=>I.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),I.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),pV=()=>I.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M12 1v11"}),I.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),I.jsx("path",{d:"M12 23v-4"})]}),mV=({muted:t})=>t?I.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M11 5 6 9H2v6h4l5 4V5z"}),I.jsx("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),I.jsx("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]}):I.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M11 5 6 9H2v6h4l5 4V5z"}),I.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),gV=()=>I.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("path",{d:"m6 9 6 6 6-6"})}),iE=document.getElementById("root");if(!iE)throw new Error("Could not find root element to mount to");const yV=HA.createRoot(iE);yV.render(I.jsx(DA.StrictMode,{children:I.jsx(dV,{})}));
